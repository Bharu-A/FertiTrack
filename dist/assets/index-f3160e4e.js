function SB(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var np=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Be(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var HN={exports:{}},vy={},QN={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rf=Symbol.for("react.element"),AB=Symbol.for("react.portal"),IB=Symbol.for("react.fragment"),PB=Symbol.for("react.strict_mode"),OB=Symbol.for("react.profiler"),kB=Symbol.for("react.provider"),CB=Symbol.for("react.context"),RB=Symbol.for("react.forward_ref"),NB=Symbol.for("react.suspense"),DB=Symbol.for("react.memo"),MB=Symbol.for("react.lazy"),pA=Symbol.iterator;function $B(t){return t===null||typeof t!="object"?null:(t=pA&&t[pA]||t["@@iterator"],typeof t=="function"?t:null)}var XN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},YN=Object.assign,JN={};function zu(t,e,n){this.props=t,this.context=e,this.refs=JN,this.updater=n||XN}zu.prototype.isReactComponent={};zu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};zu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ZN(){}ZN.prototype=zu.prototype;function q1(t,e,n){this.props=t,this.context=e,this.refs=JN,this.updater=n||XN}var W1=q1.prototype=new ZN;W1.constructor=q1;YN(W1,zu.prototype);W1.isPureReactComponent=!0;var mA=Array.isArray,e2=Object.prototype.hasOwnProperty,K1={current:null},t2={key:!0,ref:!0,__self:!0,__source:!0};function n2(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)e2.call(e,r)&&!t2.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:rf,type:t,key:o,ref:a,props:i,_owner:K1.current}}function LB(t,e){return{$$typeof:rf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function G1(t){return typeof t=="object"&&t!==null&&t.$$typeof===rf}function jB(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var gA=/\/+/g;function x0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?jB(""+t.key):e.toString(36)}function Hp(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case rf:case AB:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+x0(a,0):r,mA(i)?(n="",t!=null&&(n=t.replace(gA,"$&/")+"/"),Hp(i,e,n,"",function(u){return u})):i!=null&&(G1(i)&&(i=LB(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(gA,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",mA(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+x0(o,s);a+=Hp(o,e,n,l,i)}else if(l=$B(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+x0(o,s++),a+=Hp(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function rp(t,e,n){if(t==null)return t;var r=[],i=0;return Hp(t,r,"","",function(o){return e.call(n,o,i++)}),r}function VB(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dn={current:null},Qp={transition:null},FB={ReactCurrentDispatcher:Dn,ReactCurrentBatchConfig:Qp,ReactCurrentOwner:K1};function r2(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:rp,forEach:function(t,e,n){rp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return rp(t,function(){e++}),e},toArray:function(t){return rp(t,function(e){return e})||[]},only:function(t){if(!G1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=zu;Ie.Fragment=IB;Ie.Profiler=OB;Ie.PureComponent=q1;Ie.StrictMode=PB;Ie.Suspense=NB;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FB;Ie.act=r2;Ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=YN({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=K1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)e2.call(e,l)&&!t2.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:rf,type:t.type,key:i,ref:o,props:r,_owner:a}};Ie.createContext=function(t){return t={$$typeof:CB,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kB,_context:t},t.Consumer=t};Ie.createElement=n2;Ie.createFactory=function(t){var e=n2.bind(null,t);return e.type=t,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:RB,render:t}};Ie.isValidElement=G1;Ie.lazy=function(t){return{$$typeof:MB,_payload:{_status:-1,_result:t},_init:VB}};Ie.memo=function(t,e){return{$$typeof:DB,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=Qp.transition;Qp.transition={};try{t()}finally{Qp.transition=e}};Ie.unstable_act=r2;Ie.useCallback=function(t,e){return Dn.current.useCallback(t,e)};Ie.useContext=function(t){return Dn.current.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t){return Dn.current.useDeferredValue(t)};Ie.useEffect=function(t,e){return Dn.current.useEffect(t,e)};Ie.useId=function(){return Dn.current.useId()};Ie.useImperativeHandle=function(t,e,n){return Dn.current.useImperativeHandle(t,e,n)};Ie.useInsertionEffect=function(t,e){return Dn.current.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return Dn.current.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return Dn.current.useMemo(t,e)};Ie.useReducer=function(t,e,n){return Dn.current.useReducer(t,e,n)};Ie.useRef=function(t){return Dn.current.useRef(t)};Ie.useState=function(t){return Dn.current.useState(t)};Ie.useSyncExternalStore=function(t,e,n){return Dn.current.useSyncExternalStore(t,e,n)};Ie.useTransition=function(){return Dn.current.useTransition()};Ie.version="18.3.1";QN.exports=Ie;var $=QN.exports;const j=Be($),BB=SB({__proto__:null,default:j},[$]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UB=$,zB=Symbol.for("react.element"),qB=Symbol.for("react.fragment"),WB=Object.prototype.hasOwnProperty,KB=UB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GB={key:!0,ref:!0,__self:!0,__source:!0};function i2(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)WB.call(e,r)&&!GB.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:zB,type:t,key:o,ref:a,props:i,_owner:KB.current}}vy.Fragment=qB;vy.jsx=i2;vy.jsxs=i2;HN.exports=vy;var H1=HN.exports;const o2=H1.Fragment,O=H1.jsx,M=H1.jsxs;var F_={},a2={exports:{}},ar={},s2={exports:{}},l2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,B){var Q=L.length;L.push(B);e:for(;0<Q;){var ie=Q-1>>>1,J=L[ie];if(0<i(J,B))L[ie]=B,L[Q]=J,Q=ie;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var B=L[0],Q=L.pop();if(Q!==B){L[0]=Q;e:for(var ie=0,J=L.length,te=J>>>1;ie<te;){var Te=2*(ie+1)-1,Ce=L[Te],ze=Te+1,vt=L[ze];if(0>i(Ce,Q))ze<J&&0>i(vt,Ce)?(L[ie]=vt,L[ze]=Q,ie=ze):(L[ie]=Ce,L[Te]=Q,ie=Te);else if(ze<J&&0>i(vt,Q))L[ie]=vt,L[ze]=Q,ie=ze;else break e}}return B}function i(L,B){var Q=L.sortIndex-B.sortIndex;return Q!==0?Q:L.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,d=null,f=3,p=!1,g=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(L){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=L)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function A(L){if(m=!1,v(L),!g)if(n(l)!==null)g=!0,G(E);else{var B=n(u);B!==null&&H(A,B.startTime-L)}}function E(L,B){g=!1,m&&(m=!1,_(T),T=-1),p=!0;var Q=f;try{for(v(B),d=n(l);d!==null&&(!(d.expirationTime>B)||L&&!C());){var ie=d.callback;if(typeof ie=="function"){d.callback=null,f=d.priorityLevel;var J=ie(d.expirationTime<=B);B=t.unstable_now(),typeof J=="function"?d.callback=J:d===n(l)&&r(l),v(B)}else r(l);d=n(l)}if(d!==null)var te=!0;else{var Te=n(u);Te!==null&&H(A,Te.startTime-B),te=!1}return te}finally{d=null,f=Q,p=!1}}var S=!1,x=null,T=-1,P=5,k=-1;function C(){return!(t.unstable_now()-k<P)}function D(){if(x!==null){var L=t.unstable_now();k=L;var B=!0;try{B=x(!0,L)}finally{B?R():(S=!1,x=null)}}else S=!1}var R;if(typeof w=="function")R=function(){w(D)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,q=W.port2;W.port1.onmessage=D,R=function(){q.postMessage(null)}}else R=function(){y(D,0)};function G(L){x=L,S||(S=!0,R())}function H(L,B){T=y(function(){L(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,G(E))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var Q=f;f=B;try{return L()}finally{f=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,B){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var Q=f;f=L;try{return B()}finally{f=Q}},t.unstable_scheduleCallback=function(L,B,Q){var ie=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ie+Q:ie):Q=ie,L){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Q+J,L={id:c++,callback:B,priorityLevel:L,startTime:Q,expirationTime:J,sortIndex:-1},Q>ie?(L.sortIndex=Q,e(u,L),n(l)===null&&L===n(u)&&(m?(_(T),T=-1):m=!0,H(A,Q-ie))):(L.sortIndex=J,e(l,L),g||p||(g=!0,G(E))),L},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(L){var B=f;return function(){var Q=f;f=B;try{return L.apply(this,arguments)}finally{f=Q}}}})(l2);s2.exports=l2;var HB=s2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QB=$,ir=HB;function ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u2=new Set,Fd={};function Ds(t,e){Kl(t,e),Kl(t+"Capture",e)}function Kl(t,e){for(Fd[t]=e,t=0;t<e.length;t++)u2.add(e[t])}var Fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),B_=Object.prototype.hasOwnProperty,XB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yA={},vA={};function YB(t){return B_.call(vA,t)?!0:B_.call(yA,t)?!1:XB.test(t)?vA[t]=!0:(yA[t]=!0,!1)}function JB(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ZB(t,e,n,r){if(e===null||typeof e>"u"||JB(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Mn(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var un={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){un[t]=new Mn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];un[e]=new Mn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){un[t]=new Mn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){un[t]=new Mn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){un[t]=new Mn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){un[t]=new Mn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){un[t]=new Mn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){un[t]=new Mn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){un[t]=new Mn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Q1=/[\-:]([a-z])/g;function X1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Q1,X1);un[e]=new Mn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Q1,X1);un[e]=new Mn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Q1,X1);un[e]=new Mn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){un[t]=new Mn(t,1,!1,t.toLowerCase(),null,!1,!1)});un.xlinkHref=new Mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){un[t]=new Mn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Y1(t,e,n,r){var i=un.hasOwnProperty(e)?un[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ZB(e,n,i,r)&&(n=null),r||i===null?YB(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ji=QB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ip=Symbol.for("react.element"),fl=Symbol.for("react.portal"),pl=Symbol.for("react.fragment"),J1=Symbol.for("react.strict_mode"),U_=Symbol.for("react.profiler"),c2=Symbol.for("react.provider"),d2=Symbol.for("react.context"),Z1=Symbol.for("react.forward_ref"),z_=Symbol.for("react.suspense"),q_=Symbol.for("react.suspense_list"),ex=Symbol.for("react.memo"),po=Symbol.for("react.lazy"),h2=Symbol.for("react.offscreen"),_A=Symbol.iterator;function Dc(t){return t===null||typeof t!="object"?null:(t=_A&&t[_A]||t["@@iterator"],typeof t=="function"?t:null)}var gt=Object.assign,E0;function od(t){if(E0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);E0=e&&e[1]||""}return`
`+E0+t}var T0=!1;function S0(t,e){if(!t||T0)return"";T0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{T0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?od(t):""}function eU(t){switch(t.tag){case 5:return od(t.type);case 16:return od("Lazy");case 13:return od("Suspense");case 19:return od("SuspenseList");case 0:case 2:case 15:return t=S0(t.type,!1),t;case 11:return t=S0(t.type.render,!1),t;case 1:return t=S0(t.type,!0),t;default:return""}}function W_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pl:return"Fragment";case fl:return"Portal";case U_:return"Profiler";case J1:return"StrictMode";case z_:return"Suspense";case q_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case d2:return(t.displayName||"Context")+".Consumer";case c2:return(t._context.displayName||"Context")+".Provider";case Z1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ex:return e=t.displayName||null,e!==null?e:W_(t.type)||"Memo";case po:e=t._payload,t=t._init;try{return W_(t(e))}catch{}}return null}function tU(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W_(e);case 8:return e===J1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ko(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function f2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nU(t){var e=f2(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function op(t){t._valueTracker||(t._valueTracker=nU(t))}function p2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=f2(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function wm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function K_(t,e){var n=e.checked;return gt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function bA(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ko(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function m2(t,e){e=e.checked,e!=null&&Y1(t,"checked",e,!1)}function G_(t,e){m2(t,e);var n=Ko(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?H_(t,e.type,n):e.hasOwnProperty("defaultValue")&&H_(t,e.type,Ko(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function wA(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function H_(t,e,n){(e!=="number"||wm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ad=Array.isArray;function Rl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ko(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Q_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ee(91));return gt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xA(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ee(92));if(ad(n)){if(1<n.length)throw Error(ee(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ko(n)}}function g2(t,e){var n=Ko(e.value),r=Ko(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function EA(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function y2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function X_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?y2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ap,v2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ap=ap||document.createElement("div"),ap.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ap.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Bd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var gd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rU=["Webkit","ms","Moz","O"];Object.keys(gd).forEach(function(t){rU.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),gd[e]=gd[t]})});function _2(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||gd.hasOwnProperty(t)&&gd[t]?(""+e).trim():e+"px"}function b2(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=_2(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var iU=gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Y_(t,e){if(e){if(iU[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ee(62))}}function J_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Z_=null;function tx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var eb=null,Nl=null,Dl=null;function TA(t){if(t=sf(t)){if(typeof eb!="function")throw Error(ee(280));var e=t.stateNode;e&&(e=Ey(e),eb(t.stateNode,t.type,e))}}function w2(t){Nl?Dl?Dl.push(t):Dl=[t]:Nl=t}function x2(){if(Nl){var t=Nl,e=Dl;if(Dl=Nl=null,TA(t),e)for(t=0;t<e.length;t++)TA(e[t])}}function E2(t,e){return t(e)}function T2(){}var A0=!1;function S2(t,e,n){if(A0)return t(e,n);A0=!0;try{return E2(t,e,n)}finally{A0=!1,(Nl!==null||Dl!==null)&&(T2(),x2())}}function Ud(t,e){var n=t.stateNode;if(n===null)return null;var r=Ey(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ee(231,e,typeof n));return n}var tb=!1;if(Fi)try{var Mc={};Object.defineProperty(Mc,"passive",{get:function(){tb=!0}}),window.addEventListener("test",Mc,Mc),window.removeEventListener("test",Mc,Mc)}catch{tb=!1}function oU(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var yd=!1,xm=null,Em=!1,nb=null,aU={onError:function(t){yd=!0,xm=t}};function sU(t,e,n,r,i,o,a,s,l){yd=!1,xm=null,oU.apply(aU,arguments)}function lU(t,e,n,r,i,o,a,s,l){if(sU.apply(this,arguments),yd){if(yd){var u=xm;yd=!1,xm=null}else throw Error(ee(198));Em||(Em=!0,nb=u)}}function Ms(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function A2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function SA(t){if(Ms(t)!==t)throw Error(ee(188))}function uU(t){var e=t.alternate;if(!e){if(e=Ms(t),e===null)throw Error(ee(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return SA(i),t;if(o===r)return SA(i),e;o=o.sibling}throw Error(ee(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?t:e}function I2(t){return t=uU(t),t!==null?P2(t):null}function P2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=P2(t);if(e!==null)return e;t=t.sibling}return null}var O2=ir.unstable_scheduleCallback,AA=ir.unstable_cancelCallback,cU=ir.unstable_shouldYield,dU=ir.unstable_requestPaint,At=ir.unstable_now,hU=ir.unstable_getCurrentPriorityLevel,nx=ir.unstable_ImmediatePriority,k2=ir.unstable_UserBlockingPriority,Tm=ir.unstable_NormalPriority,fU=ir.unstable_LowPriority,C2=ir.unstable_IdlePriority,_y=null,Jr=null;function pU(t){if(Jr&&typeof Jr.onCommitFiberRoot=="function")try{Jr.onCommitFiberRoot(_y,t,void 0,(t.current.flags&128)===128)}catch{}}var Dr=Math.clz32?Math.clz32:yU,mU=Math.log,gU=Math.LN2;function yU(t){return t>>>=0,t===0?32:31-(mU(t)/gU|0)|0}var sp=64,lp=4194304;function sd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=sd(s):(o&=a,o!==0&&(r=sd(o)))}else a=n&~i,a!==0?r=sd(a):o!==0&&(r=sd(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Dr(e),i=1<<n,r|=t[n],e&=~i;return r}function vU(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _U(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Dr(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=vU(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function rb(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function R2(){var t=sp;return sp<<=1,!(sp&4194240)&&(sp=64),t}function I0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function of(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Dr(e),t[e]=n}function bU(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Dr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function rx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Dr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Fe=0;function N2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var D2,ix,M2,$2,L2,ib=!1,up=[],Do=null,Mo=null,$o=null,zd=new Map,qd=new Map,yo=[],wU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function IA(t,e){switch(t){case"focusin":case"focusout":Do=null;break;case"dragenter":case"dragleave":Mo=null;break;case"mouseover":case"mouseout":$o=null;break;case"pointerover":case"pointerout":zd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":qd.delete(e.pointerId)}}function $c(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=sf(e),e!==null&&ix(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function xU(t,e,n,r,i){switch(e){case"focusin":return Do=$c(Do,t,e,n,r,i),!0;case"dragenter":return Mo=$c(Mo,t,e,n,r,i),!0;case"mouseover":return $o=$c($o,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return zd.set(o,$c(zd.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,qd.set(o,$c(qd.get(o)||null,t,e,n,r,i)),!0}return!1}function j2(t){var e=Ka(t.target);if(e!==null){var n=Ms(e);if(n!==null){if(e=n.tag,e===13){if(e=A2(n),e!==null){t.blockedOn=e,L2(t.priority,function(){M2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ob(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Z_=r,n.target.dispatchEvent(r),Z_=null}else return e=sf(n),e!==null&&ix(e),t.blockedOn=n,!1;e.shift()}return!0}function PA(t,e,n){Xp(t)&&n.delete(e)}function EU(){ib=!1,Do!==null&&Xp(Do)&&(Do=null),Mo!==null&&Xp(Mo)&&(Mo=null),$o!==null&&Xp($o)&&($o=null),zd.forEach(PA),qd.forEach(PA)}function Lc(t,e){t.blockedOn===e&&(t.blockedOn=null,ib||(ib=!0,ir.unstable_scheduleCallback(ir.unstable_NormalPriority,EU)))}function Wd(t){function e(i){return Lc(i,t)}if(0<up.length){Lc(up[0],t);for(var n=1;n<up.length;n++){var r=up[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Do!==null&&Lc(Do,t),Mo!==null&&Lc(Mo,t),$o!==null&&Lc($o,t),zd.forEach(e),qd.forEach(e),n=0;n<yo.length;n++)r=yo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<yo.length&&(n=yo[0],n.blockedOn===null);)j2(n),n.blockedOn===null&&yo.shift()}var Ml=Ji.ReactCurrentBatchConfig,Am=!0;function TU(t,e,n,r){var i=Fe,o=Ml.transition;Ml.transition=null;try{Fe=1,ox(t,e,n,r)}finally{Fe=i,Ml.transition=o}}function SU(t,e,n,r){var i=Fe,o=Ml.transition;Ml.transition=null;try{Fe=4,ox(t,e,n,r)}finally{Fe=i,Ml.transition=o}}function ox(t,e,n,r){if(Am){var i=ob(t,e,n,r);if(i===null)L0(t,e,r,Im,n),IA(t,r);else if(xU(i,t,e,n,r))r.stopPropagation();else if(IA(t,r),e&4&&-1<wU.indexOf(t)){for(;i!==null;){var o=sf(i);if(o!==null&&D2(o),o=ob(t,e,n,r),o===null&&L0(t,e,r,Im,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else L0(t,e,r,null,n)}}var Im=null;function ob(t,e,n,r){if(Im=null,t=tx(r),t=Ka(t),t!==null)if(e=Ms(t),e===null)t=null;else if(n=e.tag,n===13){if(t=A2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Im=t,null}function V2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hU()){case nx:return 1;case k2:return 4;case Tm:case fU:return 16;case C2:return 536870912;default:return 16}default:return 16}}var Oo=null,ax=null,Yp=null;function F2(){if(Yp)return Yp;var t,e=ax,n=e.length,r,i="value"in Oo?Oo.value:Oo.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return Yp=i.slice(t,1<r?1-r:void 0)}function Jp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function cp(){return!0}function OA(){return!1}function sr(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?cp:OA,this.isPropagationStopped=OA,this}return gt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cp)},persist:function(){},isPersistent:cp}),e}var qu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sx=sr(qu),af=gt({},qu,{view:0,detail:0}),AU=sr(af),P0,O0,jc,by=gt({},af,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jc&&(jc&&t.type==="mousemove"?(P0=t.screenX-jc.screenX,O0=t.screenY-jc.screenY):O0=P0=0,jc=t),P0)},movementY:function(t){return"movementY"in t?t.movementY:O0}}),kA=sr(by),IU=gt({},by,{dataTransfer:0}),PU=sr(IU),OU=gt({},af,{relatedTarget:0}),k0=sr(OU),kU=gt({},qu,{animationName:0,elapsedTime:0,pseudoElement:0}),CU=sr(kU),RU=gt({},qu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),NU=sr(RU),DU=gt({},qu,{data:0}),CA=sr(DU),MU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$U={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jU(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=LU[t])?!!e[t]:!1}function lx(){return jU}var VU=gt({},af,{key:function(t){if(t.key){var e=MU[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$U[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lx,charCode:function(t){return t.type==="keypress"?Jp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),FU=sr(VU),BU=gt({},by,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),RA=sr(BU),UU=gt({},af,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lx}),zU=sr(UU),qU=gt({},qu,{propertyName:0,elapsedTime:0,pseudoElement:0}),WU=sr(qU),KU=gt({},by,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GU=sr(KU),HU=[9,13,27,32],ux=Fi&&"CompositionEvent"in window,vd=null;Fi&&"documentMode"in document&&(vd=document.documentMode);var QU=Fi&&"TextEvent"in window&&!vd,B2=Fi&&(!ux||vd&&8<vd&&11>=vd),NA=String.fromCharCode(32),DA=!1;function U2(t,e){switch(t){case"keyup":return HU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function z2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ml=!1;function XU(t,e){switch(t){case"compositionend":return z2(e);case"keypress":return e.which!==32?null:(DA=!0,NA);case"textInput":return t=e.data,t===NA&&DA?null:t;default:return null}}function YU(t,e){if(ml)return t==="compositionend"||!ux&&U2(t,e)?(t=F2(),Yp=ax=Oo=null,ml=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return B2&&e.locale!=="ko"?null:e.data;default:return null}}var JU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function MA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!JU[t.type]:e==="textarea"}function q2(t,e,n,r){w2(r),e=Pm(e,"onChange"),0<e.length&&(n=new sx("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _d=null,Kd=null;function ZU(t){tD(t,0)}function wy(t){var e=vl(t);if(p2(e))return t}function e5(t,e){if(t==="change")return e}var W2=!1;if(Fi){var C0;if(Fi){var R0="oninput"in document;if(!R0){var $A=document.createElement("div");$A.setAttribute("oninput","return;"),R0=typeof $A.oninput=="function"}C0=R0}else C0=!1;W2=C0&&(!document.documentMode||9<document.documentMode)}function LA(){_d&&(_d.detachEvent("onpropertychange",K2),Kd=_d=null)}function K2(t){if(t.propertyName==="value"&&wy(Kd)){var e=[];q2(e,Kd,t,tx(t)),S2(ZU,e)}}function t5(t,e,n){t==="focusin"?(LA(),_d=e,Kd=n,_d.attachEvent("onpropertychange",K2)):t==="focusout"&&LA()}function n5(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wy(Kd)}function r5(t,e){if(t==="click")return wy(e)}function i5(t,e){if(t==="input"||t==="change")return wy(e)}function o5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Lr=typeof Object.is=="function"?Object.is:o5;function Gd(t,e){if(Lr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!B_.call(e,i)||!Lr(t[i],e[i]))return!1}return!0}function jA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function VA(t,e){var n=jA(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jA(n)}}function G2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?G2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function H2(){for(var t=window,e=wm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wm(t.document)}return e}function cx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function a5(t){var e=H2(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&G2(n.ownerDocument.documentElement,n)){if(r!==null&&cx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=VA(n,o);var a=VA(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var s5=Fi&&"documentMode"in document&&11>=document.documentMode,gl=null,ab=null,bd=null,sb=!1;function FA(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sb||gl==null||gl!==wm(r)||(r=gl,"selectionStart"in r&&cx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bd&&Gd(bd,r)||(bd=r,r=Pm(ab,"onSelect"),0<r.length&&(e=new sx("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=gl)))}function dp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var yl={animationend:dp("Animation","AnimationEnd"),animationiteration:dp("Animation","AnimationIteration"),animationstart:dp("Animation","AnimationStart"),transitionend:dp("Transition","TransitionEnd")},N0={},Q2={};Fi&&(Q2=document.createElement("div").style,"AnimationEvent"in window||(delete yl.animationend.animation,delete yl.animationiteration.animation,delete yl.animationstart.animation),"TransitionEvent"in window||delete yl.transitionend.transition);function xy(t){if(N0[t])return N0[t];if(!yl[t])return t;var e=yl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Q2)return N0[t]=e[n];return t}var X2=xy("animationend"),Y2=xy("animationiteration"),J2=xy("animationstart"),Z2=xy("transitionend"),eD=new Map,BA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sa(t,e){eD.set(t,e),Ds(e,[t])}for(var D0=0;D0<BA.length;D0++){var M0=BA[D0],l5=M0.toLowerCase(),u5=M0[0].toUpperCase()+M0.slice(1);sa(l5,"on"+u5)}sa(X2,"onAnimationEnd");sa(Y2,"onAnimationIteration");sa(J2,"onAnimationStart");sa("dblclick","onDoubleClick");sa("focusin","onFocus");sa("focusout","onBlur");sa(Z2,"onTransitionEnd");Kl("onMouseEnter",["mouseout","mouseover"]);Kl("onMouseLeave",["mouseout","mouseover"]);Kl("onPointerEnter",["pointerout","pointerover"]);Kl("onPointerLeave",["pointerout","pointerover"]);Ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ds("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ld="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c5=new Set("cancel close invalid load scroll toggle".split(" ").concat(ld));function UA(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,lU(r,e,void 0,t),t.currentTarget=null}function tD(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;UA(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;UA(i,s,u),o=l}}}if(Em)throw t=nb,Em=!1,nb=null,t}function nt(t,e){var n=e[hb];n===void 0&&(n=e[hb]=new Set);var r=t+"__bubble";n.has(r)||(nD(e,t,2,!1),n.add(r))}function $0(t,e,n){var r=0;e&&(r|=4),nD(n,t,r,e)}var hp="_reactListening"+Math.random().toString(36).slice(2);function Hd(t){if(!t[hp]){t[hp]=!0,u2.forEach(function(n){n!=="selectionchange"&&(c5.has(n)||$0(n,!1,t),$0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hp]||(e[hp]=!0,$0("selectionchange",!1,e))}}function nD(t,e,n,r){switch(V2(e)){case 1:var i=TU;break;case 4:i=SU;break;default:i=ox}n=i.bind(null,e,n,t),i=void 0,!tb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function L0(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Ka(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}S2(function(){var u=o,c=tx(n),d=[];e:{var f=eD.get(t);if(f!==void 0){var p=sx,g=t;switch(t){case"keypress":if(Jp(n)===0)break e;case"keydown":case"keyup":p=FU;break;case"focusin":g="focus",p=k0;break;case"focusout":g="blur",p=k0;break;case"beforeblur":case"afterblur":p=k0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=kA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=PU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=zU;break;case X2:case Y2:case J2:p=CU;break;case Z2:p=WU;break;case"scroll":p=AU;break;case"wheel":p=GU;break;case"copy":case"cut":case"paste":p=NU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=RA}var m=(e&4)!==0,y=!m&&t==="scroll",_=m?f!==null?f+"Capture":null:f;m=[];for(var w=u,v;w!==null;){v=w;var A=v.stateNode;if(v.tag===5&&A!==null&&(v=A,_!==null&&(A=Ud(w,_),A!=null&&m.push(Qd(w,A,v)))),y)break;w=w.return}0<m.length&&(f=new p(f,g,null,n,c),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Z_&&(g=n.relatedTarget||n.fromElement)&&(Ka(g)||g[Bi]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?Ka(g):null,g!==null&&(y=Ms(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(m=kA,A="onMouseLeave",_="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(m=RA,A="onPointerLeave",_="onPointerEnter",w="pointer"),y=p==null?f:vl(p),v=g==null?f:vl(g),f=new m(A,w+"leave",p,n,c),f.target=y,f.relatedTarget=v,A=null,Ka(c)===u&&(m=new m(_,w+"enter",g,n,c),m.target=v,m.relatedTarget=y,A=m),y=A,p&&g)t:{for(m=p,_=g,w=0,v=m;v;v=Js(v))w++;for(v=0,A=_;A;A=Js(A))v++;for(;0<w-v;)m=Js(m),w--;for(;0<v-w;)_=Js(_),v--;for(;w--;){if(m===_||_!==null&&m===_.alternate)break t;m=Js(m),_=Js(_)}m=null}else m=null;p!==null&&zA(d,f,p,m,!1),g!==null&&y!==null&&zA(d,y,g,m,!0)}}e:{if(f=u?vl(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var E=e5;else if(MA(f))if(W2)E=i5;else{E=n5;var S=t5}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=r5);if(E&&(E=E(t,u))){q2(d,E,n,c);break e}S&&S(t,f,u),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&H_(f,"number",f.value)}switch(S=u?vl(u):window,t){case"focusin":(MA(S)||S.contentEditable==="true")&&(gl=S,ab=u,bd=null);break;case"focusout":bd=ab=gl=null;break;case"mousedown":sb=!0;break;case"contextmenu":case"mouseup":case"dragend":sb=!1,FA(d,n,c);break;case"selectionchange":if(s5)break;case"keydown":case"keyup":FA(d,n,c)}var x;if(ux)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else ml?U2(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(B2&&n.locale!=="ko"&&(ml||T!=="onCompositionStart"?T==="onCompositionEnd"&&ml&&(x=F2()):(Oo=c,ax="value"in Oo?Oo.value:Oo.textContent,ml=!0)),S=Pm(u,T),0<S.length&&(T=new CA(T,t,null,n,c),d.push({event:T,listeners:S}),x?T.data=x:(x=z2(n),x!==null&&(T.data=x)))),(x=QU?XU(t,n):YU(t,n))&&(u=Pm(u,"onBeforeInput"),0<u.length&&(c=new CA("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=x))}tD(d,e)})}function Qd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Pm(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ud(t,n),o!=null&&r.unshift(Qd(t,o,i)),o=Ud(t,e),o!=null&&r.push(Qd(t,o,i))),t=t.return}return r}function Js(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function zA(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Ud(n,o),l!=null&&a.unshift(Qd(n,l,s))):i||(l=Ud(n,o),l!=null&&a.push(Qd(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var d5=/\r\n?/g,h5=/\u0000|\uFFFD/g;function qA(t){return(typeof t=="string"?t:""+t).replace(d5,`
`).replace(h5,"")}function fp(t,e,n){if(e=qA(e),qA(t)!==e&&n)throw Error(ee(425))}function Om(){}var lb=null,ub=null;function cb(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var db=typeof setTimeout=="function"?setTimeout:void 0,f5=typeof clearTimeout=="function"?clearTimeout:void 0,WA=typeof Promise=="function"?Promise:void 0,p5=typeof queueMicrotask=="function"?queueMicrotask:typeof WA<"u"?function(t){return WA.resolve(null).then(t).catch(m5)}:db;function m5(t){setTimeout(function(){throw t})}function j0(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Wd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Wd(e)}function Lo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function KA(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Wu=Math.random().toString(36).slice(2),Wr="__reactFiber$"+Wu,Xd="__reactProps$"+Wu,Bi="__reactContainer$"+Wu,hb="__reactEvents$"+Wu,g5="__reactListeners$"+Wu,y5="__reactHandles$"+Wu;function Ka(t){var e=t[Wr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Bi]||n[Wr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=KA(t);t!==null;){if(n=t[Wr])return n;t=KA(t)}return e}t=n,n=t.parentNode}return null}function sf(t){return t=t[Wr]||t[Bi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ee(33))}function Ey(t){return t[Xd]||null}var fb=[],_l=-1;function la(t){return{current:t}}function at(t){0>_l||(t.current=fb[_l],fb[_l]=null,_l--)}function Je(t,e){_l++,fb[_l]=t.current,t.current=e}var Go={},Sn=la(Go),Un=la(!1),us=Go;function Gl(t,e){var n=t.type.contextTypes;if(!n)return Go;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function zn(t){return t=t.childContextTypes,t!=null}function km(){at(Un),at(Sn)}function GA(t,e,n){if(Sn.current!==Go)throw Error(ee(168));Je(Sn,e),Je(Un,n)}function rD(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ee(108,tU(t)||"Unknown",i));return gt({},n,r)}function Cm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Go,us=Sn.current,Je(Sn,t),Je(Un,Un.current),!0}function HA(t,e,n){var r=t.stateNode;if(!r)throw Error(ee(169));n?(t=rD(t,e,us),r.__reactInternalMemoizedMergedChildContext=t,at(Un),at(Sn),Je(Sn,t)):at(Un),Je(Un,n)}var Ei=null,Ty=!1,V0=!1;function iD(t){Ei===null?Ei=[t]:Ei.push(t)}function v5(t){Ty=!0,iD(t)}function ua(){if(!V0&&Ei!==null){V0=!0;var t=0,e=Fe;try{var n=Ei;for(Fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ei=null,Ty=!1}catch(i){throw Ei!==null&&(Ei=Ei.slice(t+1)),O2(nx,ua),i}finally{Fe=e,V0=!1}}return null}var bl=[],wl=0,Rm=null,Nm=0,hr=[],fr=0,cs=null,Ti=1,Si="";function Na(t,e){bl[wl++]=Nm,bl[wl++]=Rm,Rm=t,Nm=e}function oD(t,e,n){hr[fr++]=Ti,hr[fr++]=Si,hr[fr++]=cs,cs=t;var r=Ti;t=Si;var i=32-Dr(r)-1;r&=~(1<<i),n+=1;var o=32-Dr(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ti=1<<32-Dr(e)+i|n<<i|r,Si=o+t}else Ti=1<<o|n<<i|r,Si=t}function dx(t){t.return!==null&&(Na(t,1),oD(t,1,0))}function hx(t){for(;t===Rm;)Rm=bl[--wl],bl[wl]=null,Nm=bl[--wl],bl[wl]=null;for(;t===cs;)cs=hr[--fr],hr[fr]=null,Si=hr[--fr],hr[fr]=null,Ti=hr[--fr],hr[fr]=null}var tr=null,Zn=null,lt=!1,Rr=null;function aD(t,e){var n=mr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function QA(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tr=t,Zn=Lo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tr=t,Zn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=cs!==null?{id:Ti,overflow:Si}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=mr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,tr=t,Zn=null,!0):!1;default:return!1}}function pb(t){return(t.mode&1)!==0&&(t.flags&128)===0}function mb(t){if(lt){var e=Zn;if(e){var n=e;if(!QA(t,e)){if(pb(t))throw Error(ee(418));e=Lo(n.nextSibling);var r=tr;e&&QA(t,e)?aD(r,n):(t.flags=t.flags&-4097|2,lt=!1,tr=t)}}else{if(pb(t))throw Error(ee(418));t.flags=t.flags&-4097|2,lt=!1,tr=t}}}function XA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tr=t}function pp(t){if(t!==tr)return!1;if(!lt)return XA(t),lt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!cb(t.type,t.memoizedProps)),e&&(e=Zn)){if(pb(t))throw sD(),Error(ee(418));for(;e;)aD(t,e),e=Lo(e.nextSibling)}if(XA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Zn=Lo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Zn=null}}else Zn=tr?Lo(t.stateNode.nextSibling):null;return!0}function sD(){for(var t=Zn;t;)t=Lo(t.nextSibling)}function Hl(){Zn=tr=null,lt=!1}function fx(t){Rr===null?Rr=[t]:Rr.push(t)}var _5=Ji.ReactCurrentBatchConfig;function Vc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,t))}return t}function mp(t,e){throw t=Object.prototype.toString.call(e),Error(ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function YA(t){var e=t._init;return e(t._payload)}function lD(t){function e(_,w){if(t){var v=_.deletions;v===null?(_.deletions=[w],_.flags|=16):v.push(w)}}function n(_,w){if(!t)return null;for(;w!==null;)e(_,w),w=w.sibling;return null}function r(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function i(_,w){return _=Bo(_,w),_.index=0,_.sibling=null,_}function o(_,w,v){return _.index=v,t?(v=_.alternate,v!==null?(v=v.index,v<w?(_.flags|=2,w):v):(_.flags|=2,w)):(_.flags|=1048576,w)}function a(_){return t&&_.alternate===null&&(_.flags|=2),_}function s(_,w,v,A){return w===null||w.tag!==6?(w=K0(v,_.mode,A),w.return=_,w):(w=i(w,v),w.return=_,w)}function l(_,w,v,A){var E=v.type;return E===pl?c(_,w,v.props.children,A,v.key):w!==null&&(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===po&&YA(E)===w.type)?(A=i(w,v.props),A.ref=Vc(_,w,v),A.return=_,A):(A=om(v.type,v.key,v.props,null,_.mode,A),A.ref=Vc(_,w,v),A.return=_,A)}function u(_,w,v,A){return w===null||w.tag!==4||w.stateNode.containerInfo!==v.containerInfo||w.stateNode.implementation!==v.implementation?(w=G0(v,_.mode,A),w.return=_,w):(w=i(w,v.children||[]),w.return=_,w)}function c(_,w,v,A,E){return w===null||w.tag!==7?(w=ns(v,_.mode,A,E),w.return=_,w):(w=i(w,v),w.return=_,w)}function d(_,w,v){if(typeof w=="string"&&w!==""||typeof w=="number")return w=K0(""+w,_.mode,v),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ip:return v=om(w.type,w.key,w.props,null,_.mode,v),v.ref=Vc(_,null,w),v.return=_,v;case fl:return w=G0(w,_.mode,v),w.return=_,w;case po:var A=w._init;return d(_,A(w._payload),v)}if(ad(w)||Dc(w))return w=ns(w,_.mode,v,null),w.return=_,w;mp(_,w)}return null}function f(_,w,v,A){var E=w!==null?w.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:s(_,w,""+v,A);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ip:return v.key===E?l(_,w,v,A):null;case fl:return v.key===E?u(_,w,v,A):null;case po:return E=v._init,f(_,w,E(v._payload),A)}if(ad(v)||Dc(v))return E!==null?null:c(_,w,v,A,null);mp(_,v)}return null}function p(_,w,v,A,E){if(typeof A=="string"&&A!==""||typeof A=="number")return _=_.get(v)||null,s(w,_,""+A,E);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case ip:return _=_.get(A.key===null?v:A.key)||null,l(w,_,A,E);case fl:return _=_.get(A.key===null?v:A.key)||null,u(w,_,A,E);case po:var S=A._init;return p(_,w,v,S(A._payload),E)}if(ad(A)||Dc(A))return _=_.get(v)||null,c(w,_,A,E,null);mp(w,A)}return null}function g(_,w,v,A){for(var E=null,S=null,x=w,T=w=0,P=null;x!==null&&T<v.length;T++){x.index>T?(P=x,x=null):P=x.sibling;var k=f(_,x,v[T],A);if(k===null){x===null&&(x=P);break}t&&x&&k.alternate===null&&e(_,x),w=o(k,w,T),S===null?E=k:S.sibling=k,S=k,x=P}if(T===v.length)return n(_,x),lt&&Na(_,T),E;if(x===null){for(;T<v.length;T++)x=d(_,v[T],A),x!==null&&(w=o(x,w,T),S===null?E=x:S.sibling=x,S=x);return lt&&Na(_,T),E}for(x=r(_,x);T<v.length;T++)P=p(x,_,T,v[T],A),P!==null&&(t&&P.alternate!==null&&x.delete(P.key===null?T:P.key),w=o(P,w,T),S===null?E=P:S.sibling=P,S=P);return t&&x.forEach(function(C){return e(_,C)}),lt&&Na(_,T),E}function m(_,w,v,A){var E=Dc(v);if(typeof E!="function")throw Error(ee(150));if(v=E.call(v),v==null)throw Error(ee(151));for(var S=E=null,x=w,T=w=0,P=null,k=v.next();x!==null&&!k.done;T++,k=v.next()){x.index>T?(P=x,x=null):P=x.sibling;var C=f(_,x,k.value,A);if(C===null){x===null&&(x=P);break}t&&x&&C.alternate===null&&e(_,x),w=o(C,w,T),S===null?E=C:S.sibling=C,S=C,x=P}if(k.done)return n(_,x),lt&&Na(_,T),E;if(x===null){for(;!k.done;T++,k=v.next())k=d(_,k.value,A),k!==null&&(w=o(k,w,T),S===null?E=k:S.sibling=k,S=k);return lt&&Na(_,T),E}for(x=r(_,x);!k.done;T++,k=v.next())k=p(x,_,T,k.value,A),k!==null&&(t&&k.alternate!==null&&x.delete(k.key===null?T:k.key),w=o(k,w,T),S===null?E=k:S.sibling=k,S=k);return t&&x.forEach(function(D){return e(_,D)}),lt&&Na(_,T),E}function y(_,w,v,A){if(typeof v=="object"&&v!==null&&v.type===pl&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ip:e:{for(var E=v.key,S=w;S!==null;){if(S.key===E){if(E=v.type,E===pl){if(S.tag===7){n(_,S.sibling),w=i(S,v.props.children),w.return=_,_=w;break e}}else if(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===po&&YA(E)===S.type){n(_,S.sibling),w=i(S,v.props),w.ref=Vc(_,S,v),w.return=_,_=w;break e}n(_,S);break}else e(_,S);S=S.sibling}v.type===pl?(w=ns(v.props.children,_.mode,A,v.key),w.return=_,_=w):(A=om(v.type,v.key,v.props,null,_.mode,A),A.ref=Vc(_,w,v),A.return=_,_=A)}return a(_);case fl:e:{for(S=v.key;w!==null;){if(w.key===S)if(w.tag===4&&w.stateNode.containerInfo===v.containerInfo&&w.stateNode.implementation===v.implementation){n(_,w.sibling),w=i(w,v.children||[]),w.return=_,_=w;break e}else{n(_,w);break}else e(_,w);w=w.sibling}w=G0(v,_.mode,A),w.return=_,_=w}return a(_);case po:return S=v._init,y(_,w,S(v._payload),A)}if(ad(v))return g(_,w,v,A);if(Dc(v))return m(_,w,v,A);mp(_,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,w!==null&&w.tag===6?(n(_,w.sibling),w=i(w,v),w.return=_,_=w):(n(_,w),w=K0(v,_.mode,A),w.return=_,_=w),a(_)):n(_,w)}return y}var Ql=lD(!0),uD=lD(!1),Dm=la(null),Mm=null,xl=null,px=null;function mx(){px=xl=Mm=null}function gx(t){var e=Dm.current;at(Dm),t._currentValue=e}function gb(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function $l(t,e){Mm=t,px=xl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ln=!0),t.firstContext=null)}function vr(t){var e=t._currentValue;if(px!==t)if(t={context:t,memoizedValue:e,next:null},xl===null){if(Mm===null)throw Error(ee(308));xl=t,Mm.dependencies={lanes:0,firstContext:t}}else xl=xl.next=t;return e}var Ga=null;function yx(t){Ga===null?Ga=[t]:Ga.push(t)}function cD(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,yx(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ui(t,r)}function Ui(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var mo=!1;function vx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function jo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ne&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ui(t,n)}return i=r.interleaved,i===null?(e.next=e,yx(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ui(t,n)}function Zp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rx(t,n)}}function JA(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $m(t,e,n,r){var i=t.updateQueue;mo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;a=0,c=u=l=null,s=o;do{var f=s.lane,p=s.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,m=s;switch(f=e,p=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(p,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,f=typeof g=="function"?g.call(p,d,f):g,f==null)break e;d=gt({},d,f);break e;case 2:mo=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[s]:f.push(s))}else p={eventTime:p,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,a|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;f=s,s=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);hs|=a,t.lanes=a,t.memoizedState=d}}function ZA(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ee(191,i));i.call(r)}}}var lf={},Zr=la(lf),Yd=la(lf),Jd=la(lf);function Ha(t){if(t===lf)throw Error(ee(174));return t}function _x(t,e){switch(Je(Jd,e),Je(Yd,t),Je(Zr,lf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:X_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=X_(e,t)}at(Zr),Je(Zr,e)}function Xl(){at(Zr),at(Yd),at(Jd)}function hD(t){Ha(Jd.current);var e=Ha(Zr.current),n=X_(e,t.type);e!==n&&(Je(Yd,t),Je(Zr,n))}function bx(t){Yd.current===t&&(at(Zr),at(Yd))}var ft=la(0);function Lm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var F0=[];function wx(){for(var t=0;t<F0.length;t++)F0[t]._workInProgressVersionPrimary=null;F0.length=0}var em=Ji.ReactCurrentDispatcher,B0=Ji.ReactCurrentBatchConfig,ds=0,pt=null,Lt=null,Ht=null,jm=!1,wd=!1,Zd=0,b5=0;function pn(){throw Error(ee(321))}function xx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Lr(t[n],e[n]))return!1;return!0}function Ex(t,e,n,r,i,o){if(ds=o,pt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,em.current=t===null||t.memoizedState===null?T5:S5,t=n(r,i),wd){o=0;do{if(wd=!1,Zd=0,25<=o)throw Error(ee(301));o+=1,Ht=Lt=null,e.updateQueue=null,em.current=A5,t=n(r,i)}while(wd)}if(em.current=Vm,e=Lt!==null&&Lt.next!==null,ds=0,Ht=Lt=pt=null,jm=!1,e)throw Error(ee(300));return t}function Tx(){var t=Zd!==0;return Zd=0,t}function qr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?pt.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function _r(){if(Lt===null){var t=pt.alternate;t=t!==null?t.memoizedState:null}else t=Lt.next;var e=Ht===null?pt.memoizedState:Ht.next;if(e!==null)Ht=e,Lt=t;else{if(t===null)throw Error(ee(310));Lt=t,t={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Ht===null?pt.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function eh(t,e){return typeof e=="function"?e(t):e}function U0(t){var e=_r(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=Lt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((ds&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,a=r):l=l.next=d,pt.lanes|=c,hs|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,Lr(r,e.memoizedState)||(Ln=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,pt.lanes|=o,hs|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function z0(t){var e=_r(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Lr(o,e.memoizedState)||(Ln=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function fD(){}function pD(t,e){var n=pt,r=_r(),i=e(),o=!Lr(r.memoizedState,i);if(o&&(r.memoizedState=i,Ln=!0),r=r.queue,Sx(yD.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ht!==null&&Ht.memoizedState.tag&1){if(n.flags|=2048,th(9,gD.bind(null,n,r,i,e),void 0,null),Jt===null)throw Error(ee(349));ds&30||mD(n,e,i)}return i}function mD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function gD(t,e,n,r){e.value=n,e.getSnapshot=r,vD(e)&&_D(t)}function yD(t,e,n){return n(function(){vD(e)&&_D(t)})}function vD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Lr(t,n)}catch{return!0}}function _D(t){var e=Ui(t,1);e!==null&&Mr(e,t,1,-1)}function eI(t){var e=qr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eh,lastRenderedState:t},e.queue=t,t=t.dispatch=E5.bind(null,pt,t),[e.memoizedState,t]}function th(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function bD(){return _r().memoizedState}function tm(t,e,n,r){var i=qr();pt.flags|=t,i.memoizedState=th(1|e,n,void 0,r===void 0?null:r)}function Sy(t,e,n,r){var i=_r();r=r===void 0?null:r;var o=void 0;if(Lt!==null){var a=Lt.memoizedState;if(o=a.destroy,r!==null&&xx(r,a.deps)){i.memoizedState=th(e,n,o,r);return}}pt.flags|=t,i.memoizedState=th(1|e,n,o,r)}function tI(t,e){return tm(8390656,8,t,e)}function Sx(t,e){return Sy(2048,8,t,e)}function wD(t,e){return Sy(4,2,t,e)}function xD(t,e){return Sy(4,4,t,e)}function ED(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function TD(t,e,n){return n=n!=null?n.concat([t]):null,Sy(4,4,ED.bind(null,e,t),n)}function Ax(){}function SD(t,e){var n=_r();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function AD(t,e){var n=_r();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ID(t,e,n){return ds&21?(Lr(n,e)||(n=R2(),pt.lanes|=n,hs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ln=!0),t.memoizedState=n)}function w5(t,e){var n=Fe;Fe=n!==0&&4>n?n:4,t(!0);var r=B0.transition;B0.transition={};try{t(!1),e()}finally{Fe=n,B0.transition=r}}function PD(){return _r().memoizedState}function x5(t,e,n){var r=Fo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},OD(t))kD(e,n);else if(n=cD(t,e,n,r),n!==null){var i=Nn();Mr(n,t,r,i),CD(n,e,r)}}function E5(t,e,n){var r=Fo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(OD(t))kD(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Lr(s,a)){var l=e.interleaved;l===null?(i.next=i,yx(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=cD(t,e,i,r),n!==null&&(i=Nn(),Mr(n,t,r,i),CD(n,e,r))}}function OD(t){var e=t.alternate;return t===pt||e!==null&&e===pt}function kD(t,e){wd=jm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function CD(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rx(t,n)}}var Vm={readContext:vr,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useInsertionEffect:pn,useLayoutEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useMutableSource:pn,useSyncExternalStore:pn,useId:pn,unstable_isNewReconciler:!1},T5={readContext:vr,useCallback:function(t,e){return qr().memoizedState=[t,e===void 0?null:e],t},useContext:vr,useEffect:tI,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,tm(4194308,4,ED.bind(null,e,t),n)},useLayoutEffect:function(t,e){return tm(4194308,4,t,e)},useInsertionEffect:function(t,e){return tm(4,2,t,e)},useMemo:function(t,e){var n=qr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=qr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=x5.bind(null,pt,t),[r.memoizedState,t]},useRef:function(t){var e=qr();return t={current:t},e.memoizedState=t},useState:eI,useDebugValue:Ax,useDeferredValue:function(t){return qr().memoizedState=t},useTransition:function(){var t=eI(!1),e=t[0];return t=w5.bind(null,t[1]),qr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=pt,i=qr();if(lt){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=e(),Jt===null)throw Error(ee(349));ds&30||mD(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,tI(yD.bind(null,r,o,t),[t]),r.flags|=2048,th(9,gD.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=qr(),e=Jt.identifierPrefix;if(lt){var n=Si,r=Ti;n=(r&~(1<<32-Dr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Zd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=b5++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},S5={readContext:vr,useCallback:SD,useContext:vr,useEffect:Sx,useImperativeHandle:TD,useInsertionEffect:wD,useLayoutEffect:xD,useMemo:AD,useReducer:U0,useRef:bD,useState:function(){return U0(eh)},useDebugValue:Ax,useDeferredValue:function(t){var e=_r();return ID(e,Lt.memoizedState,t)},useTransition:function(){var t=U0(eh)[0],e=_r().memoizedState;return[t,e]},useMutableSource:fD,useSyncExternalStore:pD,useId:PD,unstable_isNewReconciler:!1},A5={readContext:vr,useCallback:SD,useContext:vr,useEffect:Sx,useImperativeHandle:TD,useInsertionEffect:wD,useLayoutEffect:xD,useMemo:AD,useReducer:z0,useRef:bD,useState:function(){return z0(eh)},useDebugValue:Ax,useDeferredValue:function(t){var e=_r();return Lt===null?e.memoizedState=t:ID(e,Lt.memoizedState,t)},useTransition:function(){var t=z0(eh)[0],e=_r().memoizedState;return[t,e]},useMutableSource:fD,useSyncExternalStore:pD,useId:PD,unstable_isNewReconciler:!1};function Pr(t,e){if(t&&t.defaultProps){e=gt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function yb(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:gt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ay={isMounted:function(t){return(t=t._reactInternals)?Ms(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Nn(),i=Fo(t),o=Mi(r,i);o.payload=e,n!=null&&(o.callback=n),e=jo(t,o,i),e!==null&&(Mr(e,t,i,r),Zp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Nn(),i=Fo(t),o=Mi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=jo(t,o,i),e!==null&&(Mr(e,t,i,r),Zp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Nn(),r=Fo(t),i=Mi(n,r);i.tag=2,e!=null&&(i.callback=e),e=jo(t,i,r),e!==null&&(Mr(e,t,r,n),Zp(e,t,r))}};function nI(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Gd(n,r)||!Gd(i,o):!0}function RD(t,e,n){var r=!1,i=Go,o=e.contextType;return typeof o=="object"&&o!==null?o=vr(o):(i=zn(e)?us:Sn.current,r=e.contextTypes,o=(r=r!=null)?Gl(t,i):Go),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ay,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function rI(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ay.enqueueReplaceState(e,e.state,null)}function vb(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},vx(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=vr(o):(o=zn(e)?us:Sn.current,i.context=Gl(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(yb(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ay.enqueueReplaceState(i,i.state,null),$m(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Yl(t,e){try{var n="",r=e;do n+=eU(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function q0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function _b(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var I5=typeof WeakMap=="function"?WeakMap:Map;function ND(t,e,n){n=Mi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Bm||(Bm=!0,Ob=r),_b(t,e)},n}function DD(t,e,n){n=Mi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){_b(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){_b(t,e),typeof r!="function"&&(Vo===null?Vo=new Set([this]):Vo.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function iI(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new I5;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=B5.bind(null,t,e,n),e.then(t,t))}function oI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function aI(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Mi(-1,1),e.tag=2,jo(n,e,1))),n.lanes|=1),t)}var P5=Ji.ReactCurrentOwner,Ln=!1;function On(t,e,n,r){e.child=t===null?uD(e,null,n,r):Ql(e,t.child,n,r)}function sI(t,e,n,r,i){n=n.render;var o=e.ref;return $l(e,i),r=Ex(t,e,n,r,o,i),n=Tx(),t!==null&&!Ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zi(t,e,i)):(lt&&n&&dx(e),e.flags|=1,On(t,e,r,i),e.child)}function lI(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Dx(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,MD(t,e,o,r,i)):(t=om(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Gd,n(a,r)&&t.ref===e.ref)return zi(t,e,i)}return e.flags|=1,t=Bo(o,r),t.ref=e.ref,t.return=e,e.child=t}function MD(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Gd(o,r)&&t.ref===e.ref)if(Ln=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Ln=!0);else return e.lanes=t.lanes,zi(t,e,i)}return bb(t,e,n,r,i)}function $D(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(Tl,Qn),Qn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Je(Tl,Qn),Qn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Je(Tl,Qn),Qn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Je(Tl,Qn),Qn|=r;return On(t,e,i,n),e.child}function LD(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function bb(t,e,n,r,i){var o=zn(n)?us:Sn.current;return o=Gl(e,o),$l(e,i),n=Ex(t,e,n,r,o,i),r=Tx(),t!==null&&!Ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zi(t,e,i)):(lt&&r&&dx(e),e.flags|=1,On(t,e,n,i),e.child)}function uI(t,e,n,r,i){if(zn(n)){var o=!0;Cm(e)}else o=!1;if($l(e,i),e.stateNode===null)nm(t,e),RD(e,n,r),vb(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=vr(u):(u=zn(n)?us:Sn.current,u=Gl(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&rI(e,a,r,u),mo=!1;var f=e.memoizedState;a.state=f,$m(e,r,a,i),l=e.memoizedState,s!==r||f!==l||Un.current||mo?(typeof c=="function"&&(yb(e,n,c,r),l=e.memoizedState),(s=mo||nI(e,n,s,r,f,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,dD(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Pr(e.type,s),a.props=u,d=e.pendingProps,f=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=vr(l):(l=zn(n)?us:Sn.current,l=Gl(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||f!==l)&&rI(e,a,r,l),mo=!1,f=e.memoizedState,a.state=f,$m(e,r,a,i);var g=e.memoizedState;s!==d||f!==g||Un.current||mo?(typeof p=="function"&&(yb(e,n,p,r),g=e.memoizedState),(u=mo||nI(e,n,u,r,f,g,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return wb(t,e,n,r,o,i)}function wb(t,e,n,r,i,o){LD(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&HA(e,n,!1),zi(t,e,o);r=e.stateNode,P5.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Ql(e,t.child,null,o),e.child=Ql(e,null,s,o)):On(t,e,s,o),e.memoizedState=r.state,i&&HA(e,n,!0),e.child}function jD(t){var e=t.stateNode;e.pendingContext?GA(t,e.pendingContext,e.pendingContext!==e.context):e.context&&GA(t,e.context,!1),_x(t,e.containerInfo)}function cI(t,e,n,r,i){return Hl(),fx(i),e.flags|=256,On(t,e,n,r),e.child}var xb={dehydrated:null,treeContext:null,retryLane:0};function Eb(t){return{baseLanes:t,cachePool:null,transitions:null}}function VD(t,e,n){var r=e.pendingProps,i=ft.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Je(ft,i&1),t===null)return mb(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Oy(a,r,0,null),t=ns(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Eb(n),e.memoizedState=xb,t):Ix(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return O5(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Bo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Bo(s,o):(o=ns(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?Eb(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=xb,r}return o=t.child,t=o.sibling,r=Bo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ix(t,e){return e=Oy({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gp(t,e,n,r){return r!==null&&fx(r),Ql(e,t.child,null,n),t=Ix(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function O5(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=q0(Error(ee(422))),gp(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Oy({mode:"visible",children:r.children},i,0,null),o=ns(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ql(e,t.child,null,a),e.child.memoizedState=Eb(a),e.memoizedState=xb,o);if(!(e.mode&1))return gp(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(ee(419)),r=q0(o,r,void 0),gp(t,e,a,r)}if(s=(a&t.childLanes)!==0,Ln||s){if(r=Jt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ui(t,i),Mr(r,t,i,-1))}return Nx(),r=q0(Error(ee(421))),gp(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=U5.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Zn=Lo(i.nextSibling),tr=e,lt=!0,Rr=null,t!==null&&(hr[fr++]=Ti,hr[fr++]=Si,hr[fr++]=cs,Ti=t.id,Si=t.overflow,cs=e),e=Ix(e,r.children),e.flags|=4096,e)}function dI(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),gb(t.return,e,n)}function W0(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function FD(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(On(t,e,r.children,n),r=ft.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dI(t,n,e);else if(t.tag===19)dI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Je(ft,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Lm(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),W0(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Lm(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}W0(e,!0,n,null,o);break;case"together":W0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function nm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),hs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ee(153));if(e.child!==null){for(t=e.child,n=Bo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function k5(t,e,n){switch(e.tag){case 3:jD(e),Hl();break;case 5:hD(e);break;case 1:zn(e.type)&&Cm(e);break;case 4:_x(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Je(Dm,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Je(ft,ft.current&1),e.flags|=128,null):n&e.child.childLanes?VD(t,e,n):(Je(ft,ft.current&1),t=zi(t,e,n),t!==null?t.sibling:null);Je(ft,ft.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return FD(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Je(ft,ft.current),r)break;return null;case 22:case 23:return e.lanes=0,$D(t,e,n)}return zi(t,e,n)}var BD,Tb,UD,zD;BD=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Tb=function(){};UD=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ha(Zr.current);var o=null;switch(n){case"input":i=K_(t,i),r=K_(t,r),o=[];break;case"select":i=gt({},i,{value:void 0}),r=gt({},r,{value:void 0}),o=[];break;case"textarea":i=Q_(t,i),r=Q_(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Om)}Y_(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Fd.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Fd.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&nt("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};zD=function(t,e,n,r){n!==r&&(e.flags|=4)};function Fc(t,e){if(!lt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function mn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function C5(t,e,n){var r=e.pendingProps;switch(hx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(e),null;case 1:return zn(e.type)&&km(),mn(e),null;case 3:return r=e.stateNode,Xl(),at(Un),at(Sn),wx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(pp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rr!==null&&(Rb(Rr),Rr=null))),Tb(t,e),mn(e),null;case 5:bx(e);var i=Ha(Jd.current);if(n=e.type,t!==null&&e.stateNode!=null)UD(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ee(166));return mn(e),null}if(t=Ha(Zr.current),pp(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Wr]=e,r[Xd]=o,t=(e.mode&1)!==0,n){case"dialog":nt("cancel",r),nt("close",r);break;case"iframe":case"object":case"embed":nt("load",r);break;case"video":case"audio":for(i=0;i<ld.length;i++)nt(ld[i],r);break;case"source":nt("error",r);break;case"img":case"image":case"link":nt("error",r),nt("load",r);break;case"details":nt("toggle",r);break;case"input":bA(r,o),nt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},nt("invalid",r);break;case"textarea":xA(r,o),nt("invalid",r)}Y_(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&fp(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&fp(r.textContent,s,t),i=["children",""+s]):Fd.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&nt("scroll",r)}switch(n){case"input":op(r),wA(r,o,!0);break;case"textarea":op(r),EA(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Om)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=y2(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Wr]=e,t[Xd]=r,BD(t,e,!1,!1),e.stateNode=t;e:{switch(a=J_(n,r),n){case"dialog":nt("cancel",t),nt("close",t),i=r;break;case"iframe":case"object":case"embed":nt("load",t),i=r;break;case"video":case"audio":for(i=0;i<ld.length;i++)nt(ld[i],t);i=r;break;case"source":nt("error",t),i=r;break;case"img":case"image":case"link":nt("error",t),nt("load",t),i=r;break;case"details":nt("toggle",t),i=r;break;case"input":bA(t,r),i=K_(t,r),nt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=gt({},r,{value:void 0}),nt("invalid",t);break;case"textarea":xA(t,r),i=Q_(t,r),nt("invalid",t);break;default:i=r}Y_(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?b2(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&v2(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Bd(t,l):typeof l=="number"&&Bd(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Fd.hasOwnProperty(o)?l!=null&&o==="onScroll"&&nt("scroll",t):l!=null&&Y1(t,o,l,a))}switch(n){case"input":op(t),wA(t,r,!1);break;case"textarea":op(t),EA(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ko(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Rl(t,!!r.multiple,o,!1):r.defaultValue!=null&&Rl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Om)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mn(e),null;case 6:if(t&&e.stateNode!=null)zD(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ee(166));if(n=Ha(Jd.current),Ha(Zr.current),pp(e)){if(r=e.stateNode,n=e.memoizedProps,r[Wr]=e,(o=r.nodeValue!==n)&&(t=tr,t!==null))switch(t.tag){case 3:fp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fp(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wr]=e,e.stateNode=r}return mn(e),null;case 13:if(at(ft),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(lt&&Zn!==null&&e.mode&1&&!(e.flags&128))sD(),Hl(),e.flags|=98560,o=!1;else if(o=pp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ee(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ee(317));o[Wr]=e}else Hl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mn(e),o=!1}else Rr!==null&&(Rb(Rr),Rr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ft.current&1?Ft===0&&(Ft=3):Nx())),e.updateQueue!==null&&(e.flags|=4),mn(e),null);case 4:return Xl(),Tb(t,e),t===null&&Hd(e.stateNode.containerInfo),mn(e),null;case 10:return gx(e.type._context),mn(e),null;case 17:return zn(e.type)&&km(),mn(e),null;case 19:if(at(ft),o=e.memoizedState,o===null)return mn(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Fc(o,!1);else{if(Ft!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Lm(t),a!==null){for(e.flags|=128,Fc(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Je(ft,ft.current&1|2),e.child}t=t.sibling}o.tail!==null&&At()>Jl&&(e.flags|=128,r=!0,Fc(o,!1),e.lanes=4194304)}else{if(!r)if(t=Lm(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Fc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!lt)return mn(e),null}else 2*At()-o.renderingStartTime>Jl&&n!==1073741824&&(e.flags|=128,r=!0,Fc(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=At(),e.sibling=null,n=ft.current,Je(ft,r?n&1|2:n&1),e):(mn(e),null);case 22:case 23:return Rx(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Qn&1073741824&&(mn(e),e.subtreeFlags&6&&(e.flags|=8192)):mn(e),null;case 24:return null;case 25:return null}throw Error(ee(156,e.tag))}function R5(t,e){switch(hx(e),e.tag){case 1:return zn(e.type)&&km(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xl(),at(Un),at(Sn),wx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return bx(e),null;case 13:if(at(ft),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ee(340));Hl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return at(ft),null;case 4:return Xl(),null;case 10:return gx(e.type._context),null;case 22:case 23:return Rx(),null;case 24:return null;default:return null}}var yp=!1,bn=!1,N5=typeof WeakSet=="function"?WeakSet:Set,ue=null;function El(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){wt(t,e,r)}else n.current=null}function Sb(t,e,n){try{n()}catch(r){wt(t,e,r)}}var hI=!1;function D5(t,e){if(lb=Am,t=H2(),cx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(s=a+i),d!==o||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++u===i&&(s=a),f===o&&++c===r&&(l=a),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ub={focusedElem:t,selectionRange:n},Am=!1,ue=e;ue!==null;)if(e=ue,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ue=t;else for(;ue!==null;){e=ue;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,y=g.memoizedState,_=e.stateNode,w=_.getSnapshotBeforeUpdate(e.elementType===e.type?m:Pr(e.type,m),y);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(A){wt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,ue=t;break}ue=e.return}return g=hI,hI=!1,g}function xd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Sb(e,n,o)}i=i.next}while(i!==r)}}function Iy(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ab(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function qD(t){var e=t.alternate;e!==null&&(t.alternate=null,qD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wr],delete e[Xd],delete e[hb],delete e[g5],delete e[y5])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function WD(t){return t.tag===5||t.tag===3||t.tag===4}function fI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||WD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ib(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Om));else if(r!==4&&(t=t.child,t!==null))for(Ib(t,e,n),t=t.sibling;t!==null;)Ib(t,e,n),t=t.sibling}function Pb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Pb(t,e,n),t=t.sibling;t!==null;)Pb(t,e,n),t=t.sibling}var on=null,Or=!1;function uo(t,e,n){for(n=n.child;n!==null;)KD(t,e,n),n=n.sibling}function KD(t,e,n){if(Jr&&typeof Jr.onCommitFiberUnmount=="function")try{Jr.onCommitFiberUnmount(_y,n)}catch{}switch(n.tag){case 5:bn||El(n,e);case 6:var r=on,i=Or;on=null,uo(t,e,n),on=r,Or=i,on!==null&&(Or?(t=on,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):on.removeChild(n.stateNode));break;case 18:on!==null&&(Or?(t=on,n=n.stateNode,t.nodeType===8?j0(t.parentNode,n):t.nodeType===1&&j0(t,n),Wd(t)):j0(on,n.stateNode));break;case 4:r=on,i=Or,on=n.stateNode.containerInfo,Or=!0,uo(t,e,n),on=r,Or=i;break;case 0:case 11:case 14:case 15:if(!bn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Sb(n,e,a),i=i.next}while(i!==r)}uo(t,e,n);break;case 1:if(!bn&&(El(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){wt(n,e,s)}uo(t,e,n);break;case 21:uo(t,e,n);break;case 22:n.mode&1?(bn=(r=bn)||n.memoizedState!==null,uo(t,e,n),bn=r):uo(t,e,n);break;default:uo(t,e,n)}}function pI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new N5),e.forEach(function(r){var i=z5.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ar(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:on=s.stateNode,Or=!1;break e;case 3:on=s.stateNode.containerInfo,Or=!0;break e;case 4:on=s.stateNode.containerInfo,Or=!0;break e}s=s.return}if(on===null)throw Error(ee(160));KD(o,a,i),on=null,Or=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){wt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)GD(e,t),e=e.sibling}function GD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ar(e,t),zr(t),r&4){try{xd(3,t,t.return),Iy(3,t)}catch(m){wt(t,t.return,m)}try{xd(5,t,t.return)}catch(m){wt(t,t.return,m)}}break;case 1:Ar(e,t),zr(t),r&512&&n!==null&&El(n,n.return);break;case 5:if(Ar(e,t),zr(t),r&512&&n!==null&&El(n,n.return),t.flags&32){var i=t.stateNode;try{Bd(i,"")}catch(m){wt(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&m2(i,o),J_(s,a);var u=J_(s,o);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?b2(i,d):c==="dangerouslySetInnerHTML"?v2(i,d):c==="children"?Bd(i,d):Y1(i,c,d,u)}switch(s){case"input":G_(i,o);break;case"textarea":g2(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Rl(i,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?Rl(i,!!o.multiple,o.defaultValue,!0):Rl(i,!!o.multiple,o.multiple?[]:"",!1))}i[Xd]=o}catch(m){wt(t,t.return,m)}}break;case 6:if(Ar(e,t),zr(t),r&4){if(t.stateNode===null)throw Error(ee(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(m){wt(t,t.return,m)}}break;case 3:if(Ar(e,t),zr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wd(e.containerInfo)}catch(m){wt(t,t.return,m)}break;case 4:Ar(e,t),zr(t);break;case 13:Ar(e,t),zr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(kx=At())),r&4&&pI(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(bn=(u=bn)||c,Ar(e,t),bn=u):Ar(e,t),zr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ue=t,c=t.child;c!==null;){for(d=ue=c;ue!==null;){switch(f=ue,p=f.child,f.tag){case 0:case 11:case 14:case 15:xd(4,f,f.return);break;case 1:El(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){wt(r,n,m)}}break;case 5:El(f,f.return);break;case 22:if(f.memoizedState!==null){gI(d);continue}}p!==null?(p.return=f,ue=p):gI(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=_2("display",a))}catch(m){wt(t,t.return,m)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){wt(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ar(e,t),zr(t),r&4&&pI(t);break;case 21:break;default:Ar(e,t),zr(t)}}function zr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(WD(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Bd(i,""),r.flags&=-33);var o=fI(t);Pb(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=fI(t);Ib(t,s,a);break;default:throw Error(ee(161))}}catch(l){wt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function M5(t,e,n){ue=t,HD(t)}function HD(t,e,n){for(var r=(t.mode&1)!==0;ue!==null;){var i=ue,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||yp;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||bn;s=yp;var u=bn;if(yp=a,(bn=l)&&!u)for(ue=i;ue!==null;)a=ue,l=a.child,a.tag===22&&a.memoizedState!==null?yI(i):l!==null?(l.return=a,ue=l):yI(i);for(;o!==null;)ue=o,HD(o),o=o.sibling;ue=i,yp=s,bn=u}mI(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ue=o):mI(t)}}function mI(t){for(;ue!==null;){var e=ue;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bn||Iy(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!bn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Pr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&ZA(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ZA(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Wd(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}bn||e.flags&512&&Ab(e)}catch(f){wt(e,e.return,f)}}if(e===t){ue=null;break}if(n=e.sibling,n!==null){n.return=e.return,ue=n;break}ue=e.return}}function gI(t){for(;ue!==null;){var e=ue;if(e===t){ue=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ue=n;break}ue=e.return}}function yI(t){for(;ue!==null;){var e=ue;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Iy(4,e)}catch(l){wt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){wt(e,i,l)}}var o=e.return;try{Ab(e)}catch(l){wt(e,o,l)}break;case 5:var a=e.return;try{Ab(e)}catch(l){wt(e,a,l)}}}catch(l){wt(e,e.return,l)}if(e===t){ue=null;break}var s=e.sibling;if(s!==null){s.return=e.return,ue=s;break}ue=e.return}}var $5=Math.ceil,Fm=Ji.ReactCurrentDispatcher,Px=Ji.ReactCurrentOwner,yr=Ji.ReactCurrentBatchConfig,Ne=0,Jt=null,Nt=null,ln=0,Qn=0,Tl=la(0),Ft=0,nh=null,hs=0,Py=0,Ox=0,Ed=null,$n=null,kx=0,Jl=1/0,wi=null,Bm=!1,Ob=null,Vo=null,vp=!1,ko=null,Um=0,Td=0,kb=null,rm=-1,im=0;function Nn(){return Ne&6?At():rm!==-1?rm:rm=At()}function Fo(t){return t.mode&1?Ne&2&&ln!==0?ln&-ln:_5.transition!==null?(im===0&&(im=R2()),im):(t=Fe,t!==0||(t=window.event,t=t===void 0?16:V2(t.type)),t):1}function Mr(t,e,n,r){if(50<Td)throw Td=0,kb=null,Error(ee(185));of(t,n,r),(!(Ne&2)||t!==Jt)&&(t===Jt&&(!(Ne&2)&&(Py|=n),Ft===4&&vo(t,ln)),qn(t,r),n===1&&Ne===0&&!(e.mode&1)&&(Jl=At()+500,Ty&&ua()))}function qn(t,e){var n=t.callbackNode;_U(t,e);var r=Sm(t,t===Jt?ln:0);if(r===0)n!==null&&AA(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&AA(n),e===1)t.tag===0?v5(vI.bind(null,t)):iD(vI.bind(null,t)),p5(function(){!(Ne&6)&&ua()}),n=null;else{switch(N2(r)){case 1:n=nx;break;case 4:n=k2;break;case 16:n=Tm;break;case 536870912:n=C2;break;default:n=Tm}n=nM(n,QD.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function QD(t,e){if(rm=-1,im=0,Ne&6)throw Error(ee(327));var n=t.callbackNode;if(Ll()&&t.callbackNode!==n)return null;var r=Sm(t,t===Jt?ln:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=zm(t,r);else{e=r;var i=Ne;Ne|=2;var o=YD();(Jt!==t||ln!==e)&&(wi=null,Jl=At()+500,ts(t,e));do try{V5();break}catch(s){XD(t,s)}while(1);mx(),Fm.current=o,Ne=i,Nt!==null?e=0:(Jt=null,ln=0,e=Ft)}if(e!==0){if(e===2&&(i=rb(t),i!==0&&(r=i,e=Cb(t,i))),e===1)throw n=nh,ts(t,0),vo(t,r),qn(t,At()),n;if(e===6)vo(t,r);else{if(i=t.current.alternate,!(r&30)&&!L5(i)&&(e=zm(t,r),e===2&&(o=rb(t),o!==0&&(r=o,e=Cb(t,o))),e===1))throw n=nh,ts(t,0),vo(t,r),qn(t,At()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ee(345));case 2:Da(t,$n,wi);break;case 3:if(vo(t,r),(r&130023424)===r&&(e=kx+500-At(),10<e)){if(Sm(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Nn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=db(Da.bind(null,t,$n,wi),e);break}Da(t,$n,wi);break;case 4:if(vo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Dr(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=At()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$5(r/1960))-r,10<r){t.timeoutHandle=db(Da.bind(null,t,$n,wi),r);break}Da(t,$n,wi);break;case 5:Da(t,$n,wi);break;default:throw Error(ee(329))}}}return qn(t,At()),t.callbackNode===n?QD.bind(null,t):null}function Cb(t,e){var n=Ed;return t.current.memoizedState.isDehydrated&&(ts(t,e).flags|=256),t=zm(t,e),t!==2&&(e=$n,$n=n,e!==null&&Rb(e)),t}function Rb(t){$n===null?$n=t:$n.push.apply($n,t)}function L5(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Lr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vo(t,e){for(e&=~Ox,e&=~Py,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Dr(e),r=1<<n;t[n]=-1,e&=~r}}function vI(t){if(Ne&6)throw Error(ee(327));Ll();var e=Sm(t,0);if(!(e&1))return qn(t,At()),null;var n=zm(t,e);if(t.tag!==0&&n===2){var r=rb(t);r!==0&&(e=r,n=Cb(t,r))}if(n===1)throw n=nh,ts(t,0),vo(t,e),qn(t,At()),n;if(n===6)throw Error(ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Da(t,$n,wi),qn(t,At()),null}function Cx(t,e){var n=Ne;Ne|=1;try{return t(e)}finally{Ne=n,Ne===0&&(Jl=At()+500,Ty&&ua())}}function fs(t){ko!==null&&ko.tag===0&&!(Ne&6)&&Ll();var e=Ne;Ne|=1;var n=yr.transition,r=Fe;try{if(yr.transition=null,Fe=1,t)return t()}finally{Fe=r,yr.transition=n,Ne=e,!(Ne&6)&&ua()}}function Rx(){Qn=Tl.current,at(Tl)}function ts(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,f5(n)),Nt!==null)for(n=Nt.return;n!==null;){var r=n;switch(hx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&km();break;case 3:Xl(),at(Un),at(Sn),wx();break;case 5:bx(r);break;case 4:Xl();break;case 13:at(ft);break;case 19:at(ft);break;case 10:gx(r.type._context);break;case 22:case 23:Rx()}n=n.return}if(Jt=t,Nt=t=Bo(t.current,null),ln=Qn=e,Ft=0,nh=null,Ox=Py=hs=0,$n=Ed=null,Ga!==null){for(e=0;e<Ga.length;e++)if(n=Ga[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Ga=null}return t}function XD(t,e){do{var n=Nt;try{if(mx(),em.current=Vm,jm){for(var r=pt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}jm=!1}if(ds=0,Ht=Lt=pt=null,wd=!1,Zd=0,Px.current=null,n===null||n.return===null){Ft=1,nh=e,Nt=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=ln,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=oI(a);if(p!==null){p.flags&=-257,aI(p,a,s,o,e),p.mode&1&&iI(o,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break e}else{if(!(e&1)){iI(o,u,e),Nx();break e}l=Error(ee(426))}}else if(lt&&s.mode&1){var y=oI(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),aI(y,a,s,o,e),fx(Yl(l,s));break e}}o=l=Yl(l,s),Ft!==4&&(Ft=2),Ed===null?Ed=[o]:Ed.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=ND(o,l,e);JA(o,_);break e;case 1:s=l;var w=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Vo===null||!Vo.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e;var A=DD(o,s,e);JA(o,A);break e}}o=o.return}while(o!==null)}ZD(n)}catch(E){e=E,Nt===n&&n!==null&&(Nt=n=n.return);continue}break}while(1)}function YD(){var t=Fm.current;return Fm.current=Vm,t===null?Vm:t}function Nx(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Jt===null||!(hs&268435455)&&!(Py&268435455)||vo(Jt,ln)}function zm(t,e){var n=Ne;Ne|=2;var r=YD();(Jt!==t||ln!==e)&&(wi=null,ts(t,e));do try{j5();break}catch(i){XD(t,i)}while(1);if(mx(),Ne=n,Fm.current=r,Nt!==null)throw Error(ee(261));return Jt=null,ln=0,Ft}function j5(){for(;Nt!==null;)JD(Nt)}function V5(){for(;Nt!==null&&!cU();)JD(Nt)}function JD(t){var e=tM(t.alternate,t,Qn);t.memoizedProps=t.pendingProps,e===null?ZD(t):Nt=e,Px.current=null}function ZD(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=R5(n,e),n!==null){n.flags&=32767,Nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ft=6,Nt=null;return}}else if(n=C5(n,e,Qn),n!==null){Nt=n;return}if(e=e.sibling,e!==null){Nt=e;return}Nt=e=t}while(e!==null);Ft===0&&(Ft=5)}function Da(t,e,n){var r=Fe,i=yr.transition;try{yr.transition=null,Fe=1,F5(t,e,n,r)}finally{yr.transition=i,Fe=r}return null}function F5(t,e,n,r){do Ll();while(ko!==null);if(Ne&6)throw Error(ee(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ee(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(bU(t,o),t===Jt&&(Nt=Jt=null,ln=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vp||(vp=!0,nM(Tm,function(){return Ll(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=yr.transition,yr.transition=null;var a=Fe;Fe=1;var s=Ne;Ne|=4,Px.current=null,D5(t,n),GD(n,t),a5(ub),Am=!!lb,ub=lb=null,t.current=n,M5(n),dU(),Ne=s,Fe=a,yr.transition=o}else t.current=n;if(vp&&(vp=!1,ko=t,Um=i),o=t.pendingLanes,o===0&&(Vo=null),pU(n.stateNode),qn(t,At()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Bm)throw Bm=!1,t=Ob,Ob=null,t;return Um&1&&t.tag!==0&&Ll(),o=t.pendingLanes,o&1?t===kb?Td++:(Td=0,kb=t):Td=0,ua(),null}function Ll(){if(ko!==null){var t=N2(Um),e=yr.transition,n=Fe;try{if(yr.transition=null,Fe=16>t?16:t,ko===null)var r=!1;else{if(t=ko,ko=null,Um=0,Ne&6)throw Error(ee(331));var i=Ne;for(Ne|=4,ue=t.current;ue!==null;){var o=ue,a=o.child;if(ue.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(ue=u;ue!==null;){var c=ue;switch(c.tag){case 0:case 11:case 15:xd(8,c,o)}var d=c.child;if(d!==null)d.return=c,ue=d;else for(;ue!==null;){c=ue;var f=c.sibling,p=c.return;if(qD(c),c===u){ue=null;break}if(f!==null){f.return=p,ue=f;break}ue=p}}}var g=o.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}ue=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,ue=a;else e:for(;ue!==null;){if(o=ue,o.flags&2048)switch(o.tag){case 0:case 11:case 15:xd(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,ue=_;break e}ue=o.return}}var w=t.current;for(ue=w;ue!==null;){a=ue;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,ue=v;else e:for(a=w;ue!==null;){if(s=ue,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Iy(9,s)}}catch(E){wt(s,s.return,E)}if(s===a){ue=null;break e}var A=s.sibling;if(A!==null){A.return=s.return,ue=A;break e}ue=s.return}}if(Ne=i,ua(),Jr&&typeof Jr.onPostCommitFiberRoot=="function")try{Jr.onPostCommitFiberRoot(_y,t)}catch{}r=!0}return r}finally{Fe=n,yr.transition=e}}return!1}function _I(t,e,n){e=Yl(n,e),e=ND(t,e,1),t=jo(t,e,1),e=Nn(),t!==null&&(of(t,1,e),qn(t,e))}function wt(t,e,n){if(t.tag===3)_I(t,t,n);else for(;e!==null;){if(e.tag===3){_I(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vo===null||!Vo.has(r))){t=Yl(n,t),t=DD(e,t,1),e=jo(e,t,1),t=Nn(),e!==null&&(of(e,1,t),qn(e,t));break}}e=e.return}}function B5(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Nn(),t.pingedLanes|=t.suspendedLanes&n,Jt===t&&(ln&n)===n&&(Ft===4||Ft===3&&(ln&130023424)===ln&&500>At()-kx?ts(t,0):Ox|=n),qn(t,e)}function eM(t,e){e===0&&(t.mode&1?(e=lp,lp<<=1,!(lp&130023424)&&(lp=4194304)):e=1);var n=Nn();t=Ui(t,e),t!==null&&(of(t,e,n),qn(t,n))}function U5(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),eM(t,n)}function z5(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(e),eM(t,n)}var tM;tM=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Un.current)Ln=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ln=!1,k5(t,e,n);Ln=!!(t.flags&131072)}else Ln=!1,lt&&e.flags&1048576&&oD(e,Nm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;nm(t,e),t=e.pendingProps;var i=Gl(e,Sn.current);$l(e,n),i=Ex(null,e,r,t,i,n);var o=Tx();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zn(r)?(o=!0,Cm(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,vx(e),i.updater=Ay,e.stateNode=i,i._reactInternals=e,vb(e,r,t,n),e=wb(null,e,r,!0,o,n)):(e.tag=0,lt&&o&&dx(e),On(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(nm(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=W5(r),t=Pr(r,t),i){case 0:e=bb(null,e,r,t,n);break e;case 1:e=uI(null,e,r,t,n);break e;case 11:e=sI(null,e,r,t,n);break e;case 14:e=lI(null,e,r,Pr(r.type,t),n);break e}throw Error(ee(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pr(r,i),bb(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pr(r,i),uI(t,e,r,i,n);case 3:e:{if(jD(e),t===null)throw Error(ee(387));r=e.pendingProps,o=e.memoizedState,i=o.element,dD(t,e),$m(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Yl(Error(ee(423)),e),e=cI(t,e,r,n,i);break e}else if(r!==i){i=Yl(Error(ee(424)),e),e=cI(t,e,r,n,i);break e}else for(Zn=Lo(e.stateNode.containerInfo.firstChild),tr=e,lt=!0,Rr=null,n=uD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hl(),r===i){e=zi(t,e,n);break e}On(t,e,r,n)}e=e.child}return e;case 5:return hD(e),t===null&&mb(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,cb(r,i)?a=null:o!==null&&cb(r,o)&&(e.flags|=32),LD(t,e),On(t,e,a,n),e.child;case 6:return t===null&&mb(e),null;case 13:return VD(t,e,n);case 4:return _x(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ql(e,null,r,n):On(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pr(r,i),sI(t,e,r,i,n);case 7:return On(t,e,e.pendingProps,n),e.child;case 8:return On(t,e,e.pendingProps.children,n),e.child;case 12:return On(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Je(Dm,r._currentValue),r._currentValue=a,o!==null)if(Lr(o.value,a)){if(o.children===i.children&&!Un.current){e=zi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Mi(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),gb(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(ee(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),gb(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}On(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,$l(e,n),i=vr(i),r=r(i),e.flags|=1,On(t,e,r,n),e.child;case 14:return r=e.type,i=Pr(r,e.pendingProps),i=Pr(r.type,i),lI(t,e,r,i,n);case 15:return MD(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pr(r,i),nm(t,e),e.tag=1,zn(r)?(t=!0,Cm(e)):t=!1,$l(e,n),RD(e,r,i),vb(e,r,i,n),wb(null,e,r,!0,t,n);case 19:return FD(t,e,n);case 22:return $D(t,e,n)}throw Error(ee(156,e.tag))};function nM(t,e){return O2(t,e)}function q5(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(t,e,n,r){return new q5(t,e,n,r)}function Dx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function W5(t){if(typeof t=="function")return Dx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Z1)return 11;if(t===ex)return 14}return 2}function Bo(t,e){var n=t.alternate;return n===null?(n=mr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function om(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")Dx(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case pl:return ns(n.children,i,o,e);case J1:a=8,i|=8;break;case U_:return t=mr(12,n,e,i|2),t.elementType=U_,t.lanes=o,t;case z_:return t=mr(13,n,e,i),t.elementType=z_,t.lanes=o,t;case q_:return t=mr(19,n,e,i),t.elementType=q_,t.lanes=o,t;case h2:return Oy(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case c2:a=10;break e;case d2:a=9;break e;case Z1:a=11;break e;case ex:a=14;break e;case po:a=16,r=null;break e}throw Error(ee(130,t==null?t:typeof t,""))}return e=mr(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ns(t,e,n,r){return t=mr(7,t,r,e),t.lanes=n,t}function Oy(t,e,n,r){return t=mr(22,t,r,e),t.elementType=h2,t.lanes=n,t.stateNode={isHidden:!1},t}function K0(t,e,n){return t=mr(6,t,null,e),t.lanes=n,t}function G0(t,e,n){return e=mr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function K5(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=I0(0),this.expirationTimes=I0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=I0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mx(t,e,n,r,i,o,a,s,l){return t=new K5(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=mr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vx(o),t}function G5(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function rM(t){if(!t)return Go;t=t._reactInternals;e:{if(Ms(t)!==t||t.tag!==1)throw Error(ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ee(171))}if(t.tag===1){var n=t.type;if(zn(n))return rD(t,n,e)}return e}function iM(t,e,n,r,i,o,a,s,l){return t=Mx(n,r,!0,t,i,o,a,s,l),t.context=rM(null),n=t.current,r=Nn(),i=Fo(n),o=Mi(r,i),o.callback=e??null,jo(n,o,i),t.current.lanes=i,of(t,i,r),qn(t,r),t}function ky(t,e,n,r){var i=e.current,o=Nn(),a=Fo(i);return n=rM(n),e.context===null?e.context=n:e.pendingContext=n,e=Mi(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=jo(i,e,a),t!==null&&(Mr(t,i,a,o),Zp(t,i,a)),a}function qm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $x(t,e){bI(t,e),(t=t.alternate)&&bI(t,e)}function H5(){return null}var oM=typeof reportError=="function"?reportError:function(t){console.error(t)};function Lx(t){this._internalRoot=t}Cy.prototype.render=Lx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ee(409));ky(t,e,null,null)};Cy.prototype.unmount=Lx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fs(function(){ky(null,t,null,null)}),e[Bi]=null}};function Cy(t){this._internalRoot=t}Cy.prototype.unstable_scheduleHydration=function(t){if(t){var e=$2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<yo.length&&e!==0&&e<yo[n].priority;n++);yo.splice(n,0,t),n===0&&j2(t)}};function jx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ry(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function wI(){}function Q5(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=qm(a);o.call(u)}}var a=iM(e,r,t,0,null,!1,!1,"",wI);return t._reactRootContainer=a,t[Bi]=a.current,Hd(t.nodeType===8?t.parentNode:t),fs(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=qm(l);s.call(u)}}var l=Mx(t,0,!1,null,null,!1,!1,"",wI);return t._reactRootContainer=l,t[Bi]=l.current,Hd(t.nodeType===8?t.parentNode:t),fs(function(){ky(e,l,n,r)}),l}function Ny(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=qm(a);s.call(l)}}ky(e,a,t,i)}else a=Q5(n,e,t,i,r);return qm(a)}D2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=sd(e.pendingLanes);n!==0&&(rx(e,n|1),qn(e,At()),!(Ne&6)&&(Jl=At()+500,ua()))}break;case 13:fs(function(){var r=Ui(t,1);if(r!==null){var i=Nn();Mr(r,t,1,i)}}),$x(t,1)}};ix=function(t){if(t.tag===13){var e=Ui(t,134217728);if(e!==null){var n=Nn();Mr(e,t,134217728,n)}$x(t,134217728)}};M2=function(t){if(t.tag===13){var e=Fo(t),n=Ui(t,e);if(n!==null){var r=Nn();Mr(n,t,e,r)}$x(t,e)}};$2=function(){return Fe};L2=function(t,e){var n=Fe;try{return Fe=t,e()}finally{Fe=n}};eb=function(t,e,n){switch(e){case"input":if(G_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ey(r);if(!i)throw Error(ee(90));p2(r),G_(r,i)}}}break;case"textarea":g2(t,n);break;case"select":e=n.value,e!=null&&Rl(t,!!n.multiple,e,!1)}};E2=Cx;T2=fs;var X5={usingClientEntryPoint:!1,Events:[sf,vl,Ey,w2,x2,Cx]},Bc={findFiberByHostInstance:Ka,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Y5={bundleType:Bc.bundleType,version:Bc.version,rendererPackageName:Bc.rendererPackageName,rendererConfig:Bc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ji.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=I2(t),t===null?null:t.stateNode},findFiberByHostInstance:Bc.findFiberByHostInstance||H5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_p.isDisabled&&_p.supportsFiber)try{_y=_p.inject(Y5),Jr=_p}catch{}}ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X5;ar.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jx(e))throw Error(ee(200));return G5(t,e,null,n)};ar.createRoot=function(t,e){if(!jx(t))throw Error(ee(299));var n=!1,r="",i=oM;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Mx(t,1,!1,null,null,n,!1,r,i),t[Bi]=e.current,Hd(t.nodeType===8?t.parentNode:t),new Lx(e)};ar.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ee(188)):(t=Object.keys(t).join(","),Error(ee(268,t)));return t=I2(e),t=t===null?null:t.stateNode,t};ar.flushSync=function(t){return fs(t)};ar.hydrate=function(t,e,n){if(!Ry(e))throw Error(ee(200));return Ny(null,t,e,!0,n)};ar.hydrateRoot=function(t,e,n){if(!jx(t))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=oM;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=iM(e,null,t,1,n??null,i,!1,o,a),t[Bi]=e.current,Hd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Cy(e)};ar.render=function(t,e,n){if(!Ry(e))throw Error(ee(200));return Ny(null,t,e,!1,n)};ar.unmountComponentAtNode=function(t){if(!Ry(t))throw Error(ee(40));return t._reactRootContainer?(fs(function(){Ny(null,null,t,!1,function(){t._reactRootContainer=null,t[Bi]=null})}),!0):!1};ar.unstable_batchedUpdates=Cx;ar.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ry(n))throw Error(ee(200));if(t==null||t._reactInternals===void 0)throw Error(ee(38));return Ny(t,e,n,!1,r)};ar.version="18.3.1-next-f1338f8080-20240426";function aM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aM)}catch(t){console.error(t)}}aM(),a2.exports=ar;var J5=a2.exports,xI=J5;F_.createRoot=xI.createRoot,F_.hydrateRoot=xI.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rh(){return rh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rh.apply(this,arguments)}var Co;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Co||(Co={}));const EI="popstate";function Z5(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:a,hash:s}=r.location;return Nb("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Wm(i)}return t6(e,n,null,t)}function Pt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sM(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function e6(){return Math.random().toString(36).substr(2,8)}function TI(t,e){return{usr:t.state,key:t.key,idx:e}}function Nb(t,e,n,r){return n===void 0&&(n=null),rh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ku(e):e,{state:n,key:e&&e.key||r||e6()})}function Wm(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ku(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function t6(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=Co.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(rh({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function d(){s=Co.Pop;let y=c(),_=y==null?null:y-u;u=y,l&&l({action:s,location:m.location,delta:_})}function f(y,_){s=Co.Push;let w=Nb(m.location,y,_);n&&n(w,y),u=c()+1;let v=TI(w,u),A=m.createHref(w);try{a.pushState(v,"",A)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(A)}o&&l&&l({action:s,location:m.location,delta:1})}function p(y,_){s=Co.Replace;let w=Nb(m.location,y,_);n&&n(w,y),u=c();let v=TI(w,u),A=m.createHref(w);a.replaceState(v,"",A),o&&l&&l({action:s,location:m.location,delta:0})}function g(y){let _=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof y=="string"?y:Wm(y);return w=w.replace(/ $/,"%20"),Pt(_,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,_)}let m={get action(){return s},get location(){return t(i,a)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(EI,d),l=y,()=>{i.removeEventListener(EI,d),l=null}},createHref(y){return e(i,y)},createURL:g,encodeLocation(y){let _=g(y);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:p,go(y){return a.go(y)}};return m}var SI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(SI||(SI={}));function n6(t,e,n){return n===void 0&&(n="/"),r6(t,e,n,!1)}function r6(t,e,n,r){let i=typeof e=="string"?Ku(e):e,o=Vx(i.pathname||"/",n);if(o==null)return null;let a=lM(t);i6(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let u=m6(o);s=f6(a[l],u,r)}return s}function lM(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(Pt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Uo([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(Pt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),lM(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:d6(u,o.index),routesMeta:c})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of uM(o.path))i(o,a,l)}),e}function uM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=uM(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function i6(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:h6(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const o6=/^:[\w-]+$/,a6=3,s6=2,l6=1,u6=10,c6=-2,AI=t=>t==="*";function d6(t,e){let n=t.split("/"),r=n.length;return n.some(AI)&&(r+=c6),e&&(r+=s6),n.filter(i=>!AI(i)).reduce((i,o)=>i+(o6.test(o)?a6:o===""?l6:u6),r)}function h6(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function f6(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",d=II({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=II({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:Uo([o,d.pathname]),pathnameBase:_6(Uo([o,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(o=Uo([o,d.pathnameBase]))}return a}function II(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=p6(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:f,isOptional:p}=c;if(f==="*"){let m=s[d]||"";a=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const g=s[d];return p&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:t}}function p6(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),sM(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function m6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sM(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Vx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function g6(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ku(t):t;return{pathname:n?n.startsWith("/")?n:y6(n,e):e,search:b6(r),hash:w6(i)}}function y6(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function H0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function v6(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Fx(t,e){let n=v6(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Bx(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ku(t):(i=rh({},t),Pt(!i.pathname||!i.pathname.includes("?"),H0("?","pathname","search",i)),Pt(!i.pathname||!i.pathname.includes("#"),H0("#","pathname","hash",i)),Pt(!i.search||!i.search.includes("#"),H0("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let d=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}s=d>=0?e[d]:"/"}let l=g6(i,s),u=a&&a!=="/"&&a.endsWith("/"),c=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Uo=t=>t.join("/").replace(/\/\/+/g,"/"),_6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),b6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,w6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function x6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const cM=["post","put","patch","delete"];new Set(cM);const E6=["get",...cM];new Set(E6);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ih(){return ih=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ih.apply(this,arguments)}const Ux=$.createContext(null),T6=$.createContext(null),ca=$.createContext(null),Dy=$.createContext(null),da=$.createContext({outlet:null,matches:[],isDataRoute:!1}),dM=$.createContext(null);function S6(t,e){let{relative:n}=e===void 0?{}:e;Gu()||Pt(!1);let{basename:r,navigator:i}=$.useContext(ca),{hash:o,pathname:a,search:s}=fM(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:Uo([r,a])),i.createHref({pathname:l,search:s,hash:o})}function Gu(){return $.useContext(Dy)!=null}function uf(){return Gu()||Pt(!1),$.useContext(Dy).location}function hM(t){$.useContext(ca).static||$.useLayoutEffect(t)}function My(){let{isDataRoute:t}=$.useContext(da);return t?j6():A6()}function A6(){Gu()||Pt(!1);let t=$.useContext(Ux),{basename:e,future:n,navigator:r}=$.useContext(ca),{matches:i}=$.useContext(da),{pathname:o}=uf(),a=JSON.stringify(Fx(i,n.v7_relativeSplatPath)),s=$.useRef(!1);return hM(()=>{s.current=!0}),$.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let d=Bx(u,JSON.parse(a),o,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Uo([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,a,o,t])}function fM(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=$.useContext(ca),{matches:i}=$.useContext(da),{pathname:o}=uf(),a=JSON.stringify(Fx(i,r.v7_relativeSplatPath));return $.useMemo(()=>Bx(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function I6(t,e){return P6(t,e)}function P6(t,e,n,r){Gu()||Pt(!1);let{navigator:i}=$.useContext(ca),{matches:o}=$.useContext(da),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=uf(),c;if(e){var d;let y=typeof e=="string"?Ku(e):e;l==="/"||(d=y.pathname)!=null&&d.startsWith(l)||Pt(!1),c=y}else c=u;let f=c.pathname||"/",p=f;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=n6(t,{pathname:p}),m=N6(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:Uo([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Uo([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,n,r);return e&&m?$.createElement(Dy.Provider,{value:{location:ih({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Co.Pop}},m):m}function O6(){let t=L6(),e=x6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:i},n):null,o)}const k6=$.createElement(O6,null);class C6 extends $.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?$.createElement(da.Provider,{value:this.props.routeContext},$.createElement(dM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function R6(t){let{routeContext:e,match:n,children:r}=t,i=$.useContext(Ux);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),$.createElement(da.Provider,{value:e},r)}function N6(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let c=a.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);c>=0||Pt(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:f,errors:p}=n,g=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,d,f)=>{let p,g=!1,m=null,y=null;n&&(p=s&&d.route.id?s[d.route.id]:void 0,m=d.route.errorElement||k6,l&&(u<0&&f===0?(V6("route-fallback",!1),g=!0,y=null):u===f&&(g=!0,y=d.route.hydrateFallbackElement||null)));let _=e.concat(a.slice(0,f+1)),w=()=>{let v;return p?v=m:g?v=y:d.route.Component?v=$.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=c,$.createElement(R6,{match:d,routeContext:{outlet:c,matches:_,isDataRoute:n!=null},children:v})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?$.createElement(C6,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:w(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):w()},null)}var pM=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(pM||{}),Km=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Km||{});function D6(t){let e=$.useContext(Ux);return e||Pt(!1),e}function M6(t){let e=$.useContext(T6);return e||Pt(!1),e}function $6(t){let e=$.useContext(da);return e||Pt(!1),e}function mM(t){let e=$6(),n=e.matches[e.matches.length-1];return n.route.id||Pt(!1),n.route.id}function L6(){var t;let e=$.useContext(dM),n=M6(Km.UseRouteError),r=mM(Km.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function j6(){let{router:t}=D6(pM.UseNavigateStable),e=mM(Km.UseNavigateStable),n=$.useRef(!1);return hM(()=>{n.current=!0}),$.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ih({fromRouteId:e},o)))},[t,e])}const PI={};function V6(t,e,n){!e&&!PI[t]&&(PI[t]=!0)}function F6(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Sd(t){let{to:e,replace:n,state:r,relative:i}=t;Gu()||Pt(!1);let{future:o,static:a}=$.useContext(ca),{matches:s}=$.useContext(da),{pathname:l}=uf(),u=My(),c=Bx(e,Fx(s,o.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return $.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function ll(t){Pt(!1)}function B6(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Co.Pop,navigator:o,static:a=!1,future:s}=t;Gu()&&Pt(!1);let l=e.replace(/^\/*/,"/"),u=$.useMemo(()=>({basename:l,navigator:o,static:a,future:ih({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=Ku(r));let{pathname:c="/",search:d="",hash:f="",state:p=null,key:g="default"}=r,m=$.useMemo(()=>{let y=Vx(c,l);return y==null?null:{location:{pathname:y,search:d,hash:f,state:p,key:g},navigationType:i}},[l,c,d,f,p,g,i]);return m==null?null:$.createElement(ca.Provider,{value:u},$.createElement(Dy.Provider,{children:n,value:m}))}function U6(t){let{children:e,location:n}=t;return I6(Db(e),n)}new Promise(()=>{});function Db(t,e){e===void 0&&(e=[]);let n=[];return $.Children.forEach(t,(r,i)=>{if(!$.isValidElement(r))return;let o=[...e,i];if(r.type===$.Fragment){n.push.apply(n,Db(r.props.children,o));return}r.type!==ll&&Pt(!1),!r.props.index||!r.props.children||Pt(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Db(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mb(){return Mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mb.apply(this,arguments)}function z6(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function q6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function W6(t,e){return t.button===0&&(!e||e==="_self")&&!q6(t)}const K6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],G6="6";try{window.__reactRouterVersion=G6}catch{}const H6="startTransition",OI=BB[H6];function Q6(t){let{basename:e,children:n,future:r,window:i}=t,o=$.useRef();o.current==null&&(o.current=Z5({window:i,v5Compat:!0}));let a=o.current,[s,l]=$.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},c=$.useCallback(d=>{u&&OI?OI(()=>l(d)):l(d)},[l,u]);return $.useLayoutEffect(()=>a.listen(c),[a,c]),$.useEffect(()=>F6(r),[r]),$.createElement(B6,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}const X6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Y6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fa=$.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:l,to:u,preventScrollReset:c,viewTransition:d}=e,f=z6(e,K6),{basename:p}=$.useContext(ca),g,m=!1;if(typeof u=="string"&&Y6.test(u)&&(g=u,X6))try{let v=new URL(window.location.href),A=u.startsWith("//")?new URL(v.protocol+u):new URL(u),E=Vx(A.pathname,p);A.origin===v.origin&&E!=null?u=E+A.search+A.hash:m=!0}catch{}let y=S6(u,{relative:i}),_=J6(u,{replace:a,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:d});function w(v){r&&r(v),v.defaultPrevented||_(v)}return $.createElement("a",Mb({},f,{href:g||y,onClick:m||o?r:w,ref:n,target:l}))});var kI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(kI||(kI={}));var CI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(CI||(CI={}));function J6(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:s}=e===void 0?{}:e,l=My(),u=uf(),c=fM(t,{relative:a});return $.useCallback(d=>{if(W6(d,n)){d.preventDefault();let f=r!==void 0?r:Wm(u)===Wm(c);l(t,{replace:f,state:i,preventScrollReset:o,relative:a,viewTransition:s})}},[u,l,c,r,i,n,t,o,a,s])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Z6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],s=t[n++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},yM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,d=(o&3)<<4|s>>4;let f=(s&15)<<2|u>>6,p=u&63;l||(p=64,a||(f=64)),r.push(n[c],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Z6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||u==null||d==null)throw new ez;const f=o<<2|s>>4;if(r.push(f),u!==64){const p=s<<4&240|u>>2;if(r.push(p),d!==64){const g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ez extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tz=function(t){const e=gM(t);return yM.encodeByteArray(e,!0)},Gm=function(t){return tz(t).replace(/\./g,"")},vM=function(t){try{return yM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rz=()=>nz().__FIREBASE_DEFAULTS__,iz=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oz=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vM(t[1]);return e&&JSON.parse(e)},$y=()=>{try{return rz()||iz()||oz()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_M=t=>{var e,n;return(n=(e=$y())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},bM=t=>{const e=_M(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wM=()=>{var t;return(t=$y())===null||t===void 0?void 0:t.config},xM=t=>{var e;return(e=$y())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),s="";return[Gm(JSON.stringify(n)),Gm(JSON.stringify(a)),s].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sz(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ut())}function lz(){var t;const e=(t=$y())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uz(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cz(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function dz(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hz(){const t=Ut();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function TM(){return!lz()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SM(){try{return typeof indexedDB=="object"}catch{return!1}}function fz(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pz="FirebaseError";class fi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=pz,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cf.prototype.create)}}class cf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?mz(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new fi(i,s,r)}}function mz(t,e){return t.replace(gz,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const gz=/\{\$([^}]+)}/g;function yz(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ho(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(RI(o)&&RI(a)){if(!Ho(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function RI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ud(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function cd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function vz(t,e){const n=new _z(t,e);return n.subscribe.bind(n)}class _z{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");bz(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Q0),i.error===void 0&&(i.error=Q0),i.complete===void 0&&(i.complete=Q0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bz(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Q0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t){return t&&t._delegate?t._delegate:t}class Qo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new az;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ez(e))try{this.getOrInitializeService({instanceIdentifier:Ma})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ma){return this.instances.has(e)}getOptions(e=Ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xz(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ma){return this.component?this.component.multipleInstances?e:Ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xz(t){return t===Ma?void 0:t}function Ez(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wz(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pe||(Pe={}));const Sz={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},Az=Pe.INFO,Iz={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},Pz=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Iz[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zx{constructor(e){this.name=e,this._logLevel=Az,this._logHandler=Pz,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Sz[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const Oz=(t,e)=>e.some(n=>t instanceof n);let NI,DI;function kz(){return NI||(NI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Cz(){return DI||(DI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AM=new WeakMap,$b=new WeakMap,IM=new WeakMap,X0=new WeakMap,qx=new WeakMap;function Rz(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(zo(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&AM.set(n,t)}).catch(()=>{}),qx.set(e,t),e}function Nz(t){if($b.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});$b.set(t,e)}let Lb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $b.get(t);if(e==="objectStoreNames")return t.objectStoreNames||IM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Dz(t){Lb=t(Lb)}function Mz(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Y0(this),e,...n);return IM.set(r,e.sort?e.sort():[e]),zo(r)}:Cz().includes(t)?function(...e){return t.apply(Y0(this),e),zo(AM.get(this))}:function(...e){return zo(t.apply(Y0(this),e))}}function $z(t){return typeof t=="function"?Mz(t):(t instanceof IDBTransaction&&Nz(t),Oz(t,kz())?new Proxy(t,Lb):t)}function zo(t){if(t instanceof IDBRequest)return Rz(t);if(X0.has(t))return X0.get(t);const e=$z(t);return e!==t&&(X0.set(t,e),qx.set(e,t)),e}const Y0=t=>qx.get(t);function Lz(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=zo(a);return r&&a.addEventListener("upgradeneeded",l=>{r(zo(a.result),l.oldVersion,l.newVersion,zo(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const jz=["get","getKey","getAll","getAllKeys","count"],Vz=["put","add","delete","clear"],J0=new Map;function MI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(J0.get(e))return J0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Vz.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||jz.includes(n)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return J0.set(e,o),o}Dz(t=>({...t,get:(e,n,r)=>MI(e,n)||t.get(e,n,r),has:(e,n)=>!!MI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Bz(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Bz(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jb="@firebase/app",$I="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new zx("@firebase/app"),Uz="@firebase/app-compat",zz="@firebase/analytics-compat",qz="@firebase/analytics",Wz="@firebase/app-check-compat",Kz="@firebase/app-check",Gz="@firebase/auth",Hz="@firebase/auth-compat",Qz="@firebase/database",Xz="@firebase/data-connect",Yz="@firebase/database-compat",Jz="@firebase/functions",Zz="@firebase/functions-compat",e9="@firebase/installations",t9="@firebase/installations-compat",n9="@firebase/messaging",r9="@firebase/messaging-compat",i9="@firebase/performance",o9="@firebase/performance-compat",a9="@firebase/remote-config",s9="@firebase/remote-config-compat",l9="@firebase/storage",u9="@firebase/storage-compat",c9="@firebase/firestore",d9="@firebase/vertexai-preview",h9="@firebase/firestore-compat",f9="firebase",p9="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="[DEFAULT]",m9={[jb]:"fire-core",[Uz]:"fire-core-compat",[qz]:"fire-analytics",[zz]:"fire-analytics-compat",[Kz]:"fire-app-check",[Wz]:"fire-app-check-compat",[Gz]:"fire-auth",[Hz]:"fire-auth-compat",[Qz]:"fire-rtdb",[Xz]:"fire-data-connect",[Yz]:"fire-rtdb-compat",[Jz]:"fire-fn",[Zz]:"fire-fn-compat",[e9]:"fire-iid",[t9]:"fire-iid-compat",[n9]:"fire-fcm",[r9]:"fire-fcm-compat",[i9]:"fire-perf",[o9]:"fire-perf-compat",[a9]:"fire-rc",[s9]:"fire-rc-compat",[l9]:"fire-gcs",[u9]:"fire-gcs-compat",[c9]:"fire-fst",[h9]:"fire-fst-compat",[d9]:"fire-vertex","fire-js":"fire-js",[f9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm=new Map,g9=new Map,Vb=new Map;function LI(t,e){try{t.container.addComponent(e)}catch(n){qi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ps(t){const e=t.name;if(Vb.has(e))return qi.debug(`There were multiple attempts to register component ${e}.`),!1;Vb.set(e,t);for(const n of Qm.values())LI(n,t);for(const n of g9.values())LI(n,t);return!0}function Hu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function y9(t,e,n=Hm){Hu(t,e).clearInstance(n)}function Kr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qo=new cf("app","Firebase",v9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=p9;function PM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Hm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw qo.create("bad-app-name",{appName:String(i)});if(n||(n=wM()),!n)throw qo.create("no-options");const o=Qm.get(i);if(o){if(Ho(n,o.options)&&Ho(r,o.config))return o;throw qo.create("duplicate-app",{appName:i})}const a=new Tz(i);for(const l of Vb.values())a.addComponent(l);const s=new _9(n,r,a);return Qm.set(i,s),s}function Wx(t=Hm){const e=Qm.get(t);if(!e&&t===Hm&&wM())return PM();if(!e)throw qo.create("no-app",{appName:t});return e}function ei(t,e,n){var r;let i=(r=m9[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${e}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qi.warn(s.join(" "));return}ps(new Qo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9="firebase-heartbeat-database",w9=1,oh="firebase-heartbeat-store";let Z0=null;function OM(){return Z0||(Z0=Lz(b9,w9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(oh)}catch(n){console.warn(n)}}}}).catch(t=>{throw qo.create("idb-open",{originalErrorMessage:t.message})})),Z0}async function x9(t){try{const n=(await OM()).transaction(oh),r=await n.objectStore(oh).get(kM(t));return await n.done,r}catch(e){if(e instanceof fi)qi.warn(e.message);else{const n=qo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qi.warn(n.message)}}}async function jI(t,e){try{const r=(await OM()).transaction(oh,"readwrite");await r.objectStore(oh).put(e,kM(t)),await r.done}catch(n){if(n instanceof fi)qi.warn(n.message);else{const r=qo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qi.warn(r.message)}}}function kM(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9=1024,T9=30*24*60*60*1e3;class S9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new I9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=VI();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const s=new Date(a.date).valueOf();return Date.now()-s<=T9}),this._storage.overwrite(this._heartbeatsCache))}catch(r){qi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=VI(),{heartbeatsToSend:r,unsentEntries:i}=A9(this._heartbeatsCache.heartbeats),o=Gm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return qi.warn(n),""}}}function VI(){return new Date().toISOString().substring(0,10)}function A9(t,e=E9){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),FI(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),FI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class I9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SM()?fz().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await x9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return jI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return jI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function FI(t){return Gm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9(t){ps(new Qo("platform-logger",e=>new Fz(e),"PRIVATE")),ps(new Qo("heartbeat",e=>new S9(e),"PRIVATE")),ei(jb,$I,t),ei(jb,$I,"esm2017"),ei("fire-js","")}P9("");function Kx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function CM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const O9=CM,RM=new cf("auth","Firebase",CM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm=new zx("@firebase/auth");function k9(t,...e){Xm.logLevel<=Pe.WARN&&Xm.warn(`Auth (${$s}): ${t}`,...e)}function am(t,...e){Xm.logLevel<=Pe.ERROR&&Xm.error(`Auth (${$s}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t,...e){throw Gx(t,...e)}function ti(t,...e){return Gx(t,...e)}function NM(t,e,n){const r=Object.assign(Object.assign({},O9()),{[e]:n});return new cf("auth","Firebase",r).create(e,{appName:t.name})}function $i(t){return NM(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return RM.create(t,...e)}function ge(t,e,...n){if(!t)throw Gx(e,...n)}function Ai(t){const e="INTERNAL ASSERTION FAILED: "+t;throw am(e),new Error(e)}function Wi(t,e){t||Ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function C9(){return BI()==="http:"||BI()==="https:"}function BI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(C9()||cz()||"connection"in navigator)?navigator.onLine:!0}function N9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wi(n>e,"Short delay should be less than long delay!"),this.isMobile=sz()||dz()}get(){return R9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(t,e){Wi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9=new hf(3e4,6e4);function ha(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function fa(t,e,n,r,i={}){return MM(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const s=df(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return uz()||(u.referrerPolicy="no-referrer"),DM.fetch()($M(t,t.config.apiHost,n,s),u)})}async function MM(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},D9),e);try{const i=new L9(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw bp(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw bp(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw bp(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw bp(t,"user-disabled",a);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw NM(t,c,u);jr(t,c)}}catch(i){if(i instanceof fi)throw i;jr(t,"network-request-failed",{message:String(i)})}}async function ff(t,e,n,r,i={}){const o=await fa(t,e,n,r,i);return"mfaPendingCredential"in o&&jr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function $M(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Hx(t.config,i):`${t.config.apiScheme}://${i}`}function $9(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class L9{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ti(this.auth,"network-request-failed")),M9.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ti(t,e,r);return i.customData._tokenResponse=n,i}function UI(t){return t!==void 0&&t.enterprise!==void 0}class j9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return $9(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function V9(t,e){return fa(t,"GET","/v2/recaptchaConfig",ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F9(t,e){return fa(t,"POST","/v1/accounts:delete",e)}async function LM(t,e){return fa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function B9(t,e=!1){const n=Le(t),r=await n.getIdToken(e),i=Qx(r);ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ad(e_(i.auth_time)),issuedAtTime:Ad(e_(i.iat)),expirationTime:Ad(e_(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function e_(t){return Number(t)*1e3}function Qx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return am("JWT malformed, contained fewer than 3 sections"),null;try{const i=vM(n);return i?JSON.parse(i):(am("Failed to decode base64 JWT payload"),null)}catch(i){return am("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function zI(t){const e=Qx(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ah(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof fi&&U9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function U9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ad(this.lastLoginAt),this.creationTime=Ad(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ym(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ah(t,LM(n,{idToken:r}));ge(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?jM(o.providerUserInfo):[],s=W9(t.providerData,a),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(s!=null&&s.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Bb(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function q9(t){const e=Le(t);await Ym(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function W9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function jM(t){return t.map(e=>{var{providerId:n}=e,r=Kx(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K9(t,e){const n=await MM(t,{},async()=>{const r=df({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=$M(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",DM.fetch()(a,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function G9(t,e){return fa(t,"POST","/v2/accounts:revokeToken",ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=zI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await K9(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new jl;return r&&(ge(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(ge(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(ge(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jl,this.toJSON())}_performRefresh(){return Ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(t,e){ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ii{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Kx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new z9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Bb(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ah(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return B9(this,e)}reload(){return q9(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ii(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ym(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kr(this.auth.app))return Promise.reject($i(this.auth));const e=await this.getIdToken();return await ah(this,F9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,s,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,g=(a=n.photoURL)!==null&&a!==void 0?a:void 0,m=(s=n.tenantId)!==null&&s!==void 0?s:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:v,emailVerified:A,isAnonymous:E,providerData:S,stsTokenManager:x}=n;ge(v&&x,e,"internal-error");const T=jl.fromJSON(this.name,x);ge(typeof v=="string",e,"internal-error"),co(d,e.name),co(f,e.name),ge(typeof A=="boolean",e,"internal-error"),ge(typeof E=="boolean",e,"internal-error"),co(p,e.name),co(g,e.name),co(m,e.name),co(y,e.name),co(_,e.name),co(w,e.name);const P=new Ii({uid:v,auth:e,email:f,emailVerified:A,displayName:d,isAnonymous:E,photoURL:g,phoneNumber:p,tenantId:m,stsTokenManager:T,createdAt:_,lastLoginAt:w});return S&&Array.isArray(S)&&(P.providerData=S.map(k=>Object.assign({},k))),y&&(P._redirectEventId=y),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new jl;i.updateFromServerResponse(n);const o=new Ii({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ym(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ge(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?jM(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new jl;s.updateFromIdToken(r);const l=new Ii({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Bb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=new Map;function Pi(t){Wi(t instanceof Function,"Expected a class definition");let e=qI.get(t);return e?(Wi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}VM.type="NONE";const WI=VM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(t,e,n){return`firebase:${t}:${e}:${n}`}class Vl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=sm(this.userKey,i.apiKey,o),this.fullPersistenceKey=sm("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ii._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Vl(Pi(WI),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Pi(WI);const a=sm(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const c=await u._get(a);if(c){const d=Ii._fromJSON(e,c);u!==o&&(s=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Vl(o,e,r):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new Vl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WM(e))return"Blackberry";if(KM(e))return"Webos";if(BM(e))return"Safari";if((e.includes("chrome/")||UM(e))&&!e.includes("edge/"))return"Chrome";if(qM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function FM(t=Ut()){return/firefox\//i.test(t)}function BM(t=Ut()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UM(t=Ut()){return/crios\//i.test(t)}function zM(t=Ut()){return/iemobile/i.test(t)}function qM(t=Ut()){return/android/i.test(t)}function WM(t=Ut()){return/blackberry/i.test(t)}function KM(t=Ut()){return/webos/i.test(t)}function Xx(t=Ut()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function H9(t=Ut()){var e;return Xx(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Q9(){return hz()&&document.documentMode===10}function GM(t=Ut()){return Xx(t)||qM(t)||KM(t)||WM(t)||/windows phone/i.test(t)||zM(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(t,e=[]){let n;switch(t){case"Browser":n=KI(Ut());break;case"Worker":n=`${KI(Ut())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$s}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,s)=>{try{const l=e(o);a(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y9(t,e={}){return fa(t,"GET","/v2/passwordPolicy",ha(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9=6;class Z9{constructor(e){var n,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:J9,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new GI(this),this.idTokenSubscription=new GI(this),this.beforeStateQueue=new X9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Vl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await LM(this,{idToken:e}),r=await Ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Kr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===s)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ym(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=N9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kr(this.app))return Promise.reject($i(this));const n=e?Le(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kr(this.app)?Promise.reject($i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kr(this.app)?Promise.reject($i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Y9(this),n=new Z9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new cf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await G9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Pi(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await Vl.create(this,[Pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&k9(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ls(t){return Le(t)}class GI{constructor(e){this.auth=e,this.observer=null,this.addObserver=vz(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ly={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function t8(t){Ly=t}function QM(t){return Ly.loadJS(t)}function n8(){return Ly.recaptchaEnterpriseScript}function r8(){return Ly.gapiScript}function i8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const o8="recaptcha-enterprise",a8="NO_RECAPTCHA";class s8{constructor(e){this.type=o8,this.auth=Ls(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,s)=>{V9(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new j9(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,a(u.siteKey)}}).catch(l=>{s(l)})})}function i(o,a,s){const l=window.grecaptcha;UI(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{a(u)}).catch(()=>{a(a8)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{r(this.auth).then(s=>{if(!n&&UI(window.grecaptcha))i(s,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=n8();l.length!==0&&(l+=s),QM(l).then(()=>{i(s,o,a)}).catch(u=>{a(u)})}}).catch(s=>{a(s)})})}}async function HI(t,e,n,r=!1){const i=new s8(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Ub(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await HI(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await HI(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l8(t,e){const n=Hu(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Ho(o,e??{}))return i;jr(i,"already-initialized")}return n.initialize({options:e})}function u8(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Pi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function c8(t,e,n){const r=Ls(t);ge(r._canInitEmulator,r,"emulator-config-failed"),ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=XM(e),{host:a,port:s}=d8(e),l=s===null?"":`:${s}`;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||h8()}function XM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function d8(t){const e=XM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:QI(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:QI(a)}}}function QI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function h8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ai("not implemented")}_getIdTokenResponse(e){return Ai("not implemented")}_linkToIdToken(e,n){return Ai("not implemented")}_getReauthenticationResolver(e){return Ai("not implemented")}}async function f8(t,e){return fa(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p8(t,e){return ff(t,"POST","/v1/accounts:signInWithPassword",ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m8(t,e){return ff(t,"POST","/v1/accounts:signInWithEmailLink",ha(t,e))}async function g8(t,e){return ff(t,"POST","/v1/accounts:signInWithEmailLink",ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh extends Yx{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new sh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new sh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ub(e,n,"signInWithPassword",p8);case"emailLink":return m8(e,{email:this._email,oobCode:this._password});default:jr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ub(e,r,"signUpPassword",f8);case"emailLink":return g8(e,{idToken:n,email:this._email,oobCode:this._password});default:jr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(t,e){return ff(t,"POST","/v1/accounts:signInWithIdp",ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8="http://localhost";class ms extends Yx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ms(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):jr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Kx(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new ms(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Fl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fl(e,n)}buildRequest(){const e={requestUri:y8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=df(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v8(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _8(t){const e=ud(cd(t)).link,n=e?ud(cd(e)).deep_link_id:null,r=ud(cd(t)).deep_link_id;return(r?ud(cd(r)).link:null)||r||n||e||t}class Jx{constructor(e){var n,r,i,o,a,s;const l=ud(cd(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=v8((i=l.mode)!==null&&i!==void 0?i:null);ge(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const n=_8(e);try{return new Jx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(){this.providerId=Qu.PROVIDER_ID}static credential(e,n){return sh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Jx.parseLink(n);return ge(r,"argument-error"),sh._fromEmailAndCode(e,r.code,r.tenantId)}}Qu.PROVIDER_ID="password";Qu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf extends YM{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends pf{constructor(){super("facebook.com")}static credential(e){return ms._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _o.credential(e.oauthAccessToken)}catch{return null}}}_o.FACEBOOK_SIGN_IN_METHOD="facebook.com";_o.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends pf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ms._fromParams({providerId:bo.PROVIDER_ID,signInMethod:bo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return bo.credentialFromTaggedObject(e)}static credentialFromError(e){return bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return bo.credential(n,r)}catch{return null}}}bo.GOOGLE_SIGN_IN_METHOD="google.com";bo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends pf{constructor(){super("github.com")}static credential(e){return ms._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wo.credential(e.oauthAccessToken)}catch{return null}}}wo.GITHUB_SIGN_IN_METHOD="github.com";wo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo extends pf{constructor(){super("twitter.com")}static credential(e,n){return ms._fromParams({providerId:xo.PROVIDER_ID,signInMethod:xo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xo.credentialFromTaggedObject(e)}static credentialFromError(e){return xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return xo.credential(n,r)}catch{return null}}}xo.TWITTER_SIGN_IN_METHOD="twitter.com";xo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b8(t,e){return ff(t,"POST","/v1/accounts:signUp",ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Ii._fromIdTokenResponse(e,r,i),a=XI(r);return new gs({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=XI(r);return new gs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function XI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm extends fi{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Jm.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Jm(e,n,r,i)}}function JM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Jm._fromErrorAndOperation(t,o,e,r):o})}async function w8(t,e,n=!1){const r=await ah(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return gs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x8(t,e,n=!1){const{auth:r}=t;if(Kr(r.app))return Promise.reject($i(r));const i="reauthenticate";try{const o=await ah(t,JM(r,i,e,t),n);ge(o.idToken,r,"internal-error");const a=Qx(o.idToken);ge(a,r,"internal-error");const{sub:s}=a;return ge(t.uid===s,r,"user-mismatch"),gs._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&jr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZM(t,e,n=!1){if(Kr(t.app))return Promise.reject($i(t));const r="signIn",i=await JM(t,r,e),o=await gs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function E8(t,e){return ZM(Ls(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e$(t){const e=Ls(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function T8(t,e,n){if(Kr(t.app))return Promise.reject($i(t));const r=Ls(t),a=await Ub(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",b8).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&e$(t),l}),s=await gs._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(s.user),s}function S8(t,e,n){return Kr(t.app)?Promise.reject($i(t)):E8(Le(t),Qu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&e$(t),r})}function A8(t,e,n,r){return Le(t).onIdTokenChanged(e,n,r)}function I8(t,e,n){return Le(t).beforeAuthStateChanged(e,n)}function P8(t,e,n,r){return Le(t).onAuthStateChanged(e,n,r)}function O8(t){return Le(t).signOut()}const Zm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zm,"1"),this.storage.removeItem(Zm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k8=1e3,C8=10;class n$ extends t${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);Q9()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,C8):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},k8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}n$.type="LOCAL";const R8=n$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r$ extends t${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}r$.type="SESSION";const i$=r$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new jy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),l=await N8(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const u=Zx("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(f.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(){return window}function M8(t){ni().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o$(){return typeof ni().WorkerGlobalScope<"u"&&typeof ni().importScripts=="function"}async function $8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function L8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function j8(){return o$()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a$="firebaseLocalStorageDb",V8=1,eg="firebaseLocalStorage",s$="fbase_key";class mf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vy(t,e){return t.transaction([eg],e?"readwrite":"readonly").objectStore(eg)}function F8(){const t=indexedDB.deleteDatabase(a$);return new mf(t).toPromise()}function zb(){const t=indexedDB.open(a$,V8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(eg,{keyPath:s$})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(eg)?e(r):(r.close(),await F8(),e(await zb()))})})}async function YI(t,e,n){const r=Vy(t,!0).put({[s$]:e,value:n});return new mf(r).toPromise()}async function B8(t,e){const n=Vy(t,!1).get(e),r=await new mf(n).toPromise();return r===void 0?null:r.value}function JI(t,e){const n=Vy(t,!0).delete(e);return new mf(n).toPromise()}const U8=800,z8=3;class l${constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>z8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return o$()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jy._getInstance(j8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await $8(),!this.activeServiceWorker)return;this.sender=new D8(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||L8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zb();return await YI(e,Zm,"1"),await JI(e,Zm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>YI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>B8(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>JI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Vy(i,!1).getAll();return new mf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),U8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}l$.type="LOCAL";const q8=l$;new hf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W8(t,e){return e?Pi(e):(ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE extends Yx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function K8(t){return ZM(t.auth,new eE(t),t.bypassAuthState)}function G8(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),x8(n,new eE(t),t.bypassAuthState)}async function H8(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),w8(n,new eE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return K8;case"linkViaPopup":case"linkViaRedirect":return H8;case"reauthViaPopup":case"reauthViaRedirect":return G8;default:jr(this.auth,"internal-error")}}resolve(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q8=new hf(2e3,1e4);class Sl extends u${constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Sl.currentPopupAction&&Sl.currentPopupAction.cancel(),Sl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const e=Zx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Q8.get())};e()}}Sl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X8="pendingRedirect",lm=new Map;class Y8 extends u${constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=lm.get(this.auth._key());if(!e){try{const r=await J8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}lm.set(this.auth._key(),e)}return this.bypassAuthState||lm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function J8(t,e){const n=tq(e),r=eq(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Z8(t,e){lm.set(t._key(),e)}function eq(t){return Pi(t._redirectPersistence)}function tq(t){return sm(X8,t.config.apiKey,t.name)}async function nq(t,e,n=!1){if(Kr(t.app))return Promise.reject($i(t));const r=Ls(t),i=W8(r,e),a=await new Y8(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rq=10*60*1e3;class iq{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oq(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!c$(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ti(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rq&&this.cachedEventUids.clear(),this.cachedEventUids.has(ZI(e))}saveEventToCache(e){this.cachedEventUids.add(ZI(e)),this.lastProcessedEventTime=Date.now()}}function ZI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function c$({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function oq(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return c$(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aq(t,e={}){return fa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lq=/^https?/;async function uq(t){if(t.config.emulator)return;const{authorizedDomains:e}=await aq(t);for(const n of e)try{if(cq(n))return}catch{}jr(t,"unauthorized-domain")}function cq(t){const e=Fb(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!lq.test(n))return!1;if(sq.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dq=new hf(3e4,6e4);function eP(){const t=ni().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function hq(t){return new Promise((e,n)=>{var r,i,o;function a(){eP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{eP(),n(ti(t,"network-request-failed"))},timeout:dq.get()})}if(!((i=(r=ni().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ni().gapi)===null||o===void 0)&&o.load)a();else{const s=i8("iframefcb");return ni()[s]=()=>{gapi.load?a():n(ti(t,"network-request-failed"))},QM(`${r8()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw um=null,e})}let um=null;function fq(t){return um=um||hq(t),um}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pq=new hf(5e3,15e3),mq="__/auth/iframe",gq="emulator/auth/iframe",yq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _q(t){const e=t.config;ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Hx(e,gq):`https://${t.config.authDomain}/${mq}`,r={apiKey:e.apiKey,appName:t.name,v:$s},i=vq.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${df(r).slice(1)}`}async function bq(t){const e=await fq(t),n=ni().gapi;return ge(n,t,"internal-error"),e.open({where:document.body,url:_q(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yq,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=ti(t,"network-request-failed"),s=ni().setTimeout(()=>{o(a)},pq.get());function l(){ni().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xq=500,Eq=600,Tq="_blank",Sq="http://localhost";class tP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Aq(t,e,n,r=xq,i=Eq){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},wq),{width:r.toString(),height:i.toString(),top:o,left:a}),u=Ut().toLowerCase();n&&(s=UM(u)?Tq:n),FM(u)&&(e=e||Sq,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(H9(u)&&s!=="_self")return Iq(e||"",s),new tP(null);const d=window.open(e||"",s,c);ge(d,t,"popup-blocked");try{d.focus()}catch{}return new tP(d)}function Iq(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pq="__/auth/handler",Oq="emulator/auth/handler",kq=encodeURIComponent("fac");async function nP(t,e,n,r,i,o){ge(t.config.authDomain,t,"auth-domain-config-required"),ge(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$s,eventId:i};if(e instanceof YM){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",yz(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(o||{}))a[c]=d}if(e instanceof pf){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(a.scopes=c.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await t._getAppCheckToken(),u=l?`#${kq}=${encodeURIComponent(l)}`:"";return`${Cq(t)}?${df(s).slice(1)}${u}`}function Cq({config:t}){return t.emulator?Hx(t,Oq):`https://${t.authDomain}/${Pq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="webStorageSupport";class Rq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=i$,this._completeRedirectFn=nq,this._overrideRedirectResult=Z8}async _openPopup(e,n,r,i){var o;Wi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await nP(e,n,r,Fb(),i);return Aq(e,a,Zx())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await nP(e,n,r,Fb(),i);return M8(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Wi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await bq(e),r=new iq(e);return n.register("authEvent",i=>(ge(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(t_,{type:t_},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[t_];a!==void 0&&n(!!a),jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uq(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return GM()||BM()||Xx()}}const Nq=Rq;var rP="@firebase/auth",iP="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $q(t){ps(new Qo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;ge(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HM(t)},u=new e8(r,i,o,l);return u8(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ps(new Qo("auth-internal",e=>{const n=Ls(e.getProvider("auth").getImmediate());return(r=>new Dq(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ei(rP,iP,Mq(t)),ei(rP,iP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lq=5*60,jq=xM("authIdTokenMaxAge")||Lq;let oP=null;const Vq=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>jq)return;const i=n==null?void 0:n.token;oP!==i&&(oP=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Fq(t=Wx()){const e=Hu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=l8(t,{popupRedirectResolver:Nq,persistence:[q8,R8,i$]}),r=xM("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=Vq(o.toString());I8(n,a,()=>a(n.currentUser)),A8(n,s=>a(s))}}const i=_M("auth");return i&&c8(n,`http://${i}`),n}function Bq(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}t8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=ti("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Bq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$q("Browser");var Uq="firebase",zq="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ei(Uq,zq,"app");var aP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rs,d$;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,T){function P(){}P.prototype=T.prototype,x.D=T.prototype,x.prototype=new P,x.prototype.constructor=x,x.C=function(k,C,D){for(var R=Array(arguments.length-2),W=2;W<arguments.length;W++)R[W-2]=arguments[W];return T.prototype[C].apply(k,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,T,P){P||(P=0);var k=Array(16);if(typeof T=="string")for(var C=0;16>C;++C)k[C]=T.charCodeAt(P++)|T.charCodeAt(P++)<<8|T.charCodeAt(P++)<<16|T.charCodeAt(P++)<<24;else for(C=0;16>C;++C)k[C]=T[P++]|T[P++]<<8|T[P++]<<16|T[P++]<<24;T=x.g[0],P=x.g[1],C=x.g[2];var D=x.g[3],R=T+(D^P&(C^D))+k[0]+3614090360&4294967295;T=P+(R<<7&4294967295|R>>>25),R=D+(C^T&(P^C))+k[1]+3905402710&4294967295,D=T+(R<<12&4294967295|R>>>20),R=C+(P^D&(T^P))+k[2]+606105819&4294967295,C=D+(R<<17&4294967295|R>>>15),R=P+(T^C&(D^T))+k[3]+3250441966&4294967295,P=C+(R<<22&4294967295|R>>>10),R=T+(D^P&(C^D))+k[4]+4118548399&4294967295,T=P+(R<<7&4294967295|R>>>25),R=D+(C^T&(P^C))+k[5]+1200080426&4294967295,D=T+(R<<12&4294967295|R>>>20),R=C+(P^D&(T^P))+k[6]+2821735955&4294967295,C=D+(R<<17&4294967295|R>>>15),R=P+(T^C&(D^T))+k[7]+4249261313&4294967295,P=C+(R<<22&4294967295|R>>>10),R=T+(D^P&(C^D))+k[8]+1770035416&4294967295,T=P+(R<<7&4294967295|R>>>25),R=D+(C^T&(P^C))+k[9]+2336552879&4294967295,D=T+(R<<12&4294967295|R>>>20),R=C+(P^D&(T^P))+k[10]+4294925233&4294967295,C=D+(R<<17&4294967295|R>>>15),R=P+(T^C&(D^T))+k[11]+2304563134&4294967295,P=C+(R<<22&4294967295|R>>>10),R=T+(D^P&(C^D))+k[12]+1804603682&4294967295,T=P+(R<<7&4294967295|R>>>25),R=D+(C^T&(P^C))+k[13]+4254626195&4294967295,D=T+(R<<12&4294967295|R>>>20),R=C+(P^D&(T^P))+k[14]+2792965006&4294967295,C=D+(R<<17&4294967295|R>>>15),R=P+(T^C&(D^T))+k[15]+1236535329&4294967295,P=C+(R<<22&4294967295|R>>>10),R=T+(C^D&(P^C))+k[1]+4129170786&4294967295,T=P+(R<<5&4294967295|R>>>27),R=D+(P^C&(T^P))+k[6]+3225465664&4294967295,D=T+(R<<9&4294967295|R>>>23),R=C+(T^P&(D^T))+k[11]+643717713&4294967295,C=D+(R<<14&4294967295|R>>>18),R=P+(D^T&(C^D))+k[0]+3921069994&4294967295,P=C+(R<<20&4294967295|R>>>12),R=T+(C^D&(P^C))+k[5]+3593408605&4294967295,T=P+(R<<5&4294967295|R>>>27),R=D+(P^C&(T^P))+k[10]+38016083&4294967295,D=T+(R<<9&4294967295|R>>>23),R=C+(T^P&(D^T))+k[15]+3634488961&4294967295,C=D+(R<<14&4294967295|R>>>18),R=P+(D^T&(C^D))+k[4]+3889429448&4294967295,P=C+(R<<20&4294967295|R>>>12),R=T+(C^D&(P^C))+k[9]+568446438&4294967295,T=P+(R<<5&4294967295|R>>>27),R=D+(P^C&(T^P))+k[14]+3275163606&4294967295,D=T+(R<<9&4294967295|R>>>23),R=C+(T^P&(D^T))+k[3]+4107603335&4294967295,C=D+(R<<14&4294967295|R>>>18),R=P+(D^T&(C^D))+k[8]+1163531501&4294967295,P=C+(R<<20&4294967295|R>>>12),R=T+(C^D&(P^C))+k[13]+2850285829&4294967295,T=P+(R<<5&4294967295|R>>>27),R=D+(P^C&(T^P))+k[2]+4243563512&4294967295,D=T+(R<<9&4294967295|R>>>23),R=C+(T^P&(D^T))+k[7]+1735328473&4294967295,C=D+(R<<14&4294967295|R>>>18),R=P+(D^T&(C^D))+k[12]+2368359562&4294967295,P=C+(R<<20&4294967295|R>>>12),R=T+(P^C^D)+k[5]+4294588738&4294967295,T=P+(R<<4&4294967295|R>>>28),R=D+(T^P^C)+k[8]+2272392833&4294967295,D=T+(R<<11&4294967295|R>>>21),R=C+(D^T^P)+k[11]+1839030562&4294967295,C=D+(R<<16&4294967295|R>>>16),R=P+(C^D^T)+k[14]+4259657740&4294967295,P=C+(R<<23&4294967295|R>>>9),R=T+(P^C^D)+k[1]+2763975236&4294967295,T=P+(R<<4&4294967295|R>>>28),R=D+(T^P^C)+k[4]+1272893353&4294967295,D=T+(R<<11&4294967295|R>>>21),R=C+(D^T^P)+k[7]+4139469664&4294967295,C=D+(R<<16&4294967295|R>>>16),R=P+(C^D^T)+k[10]+3200236656&4294967295,P=C+(R<<23&4294967295|R>>>9),R=T+(P^C^D)+k[13]+681279174&4294967295,T=P+(R<<4&4294967295|R>>>28),R=D+(T^P^C)+k[0]+3936430074&4294967295,D=T+(R<<11&4294967295|R>>>21),R=C+(D^T^P)+k[3]+3572445317&4294967295,C=D+(R<<16&4294967295|R>>>16),R=P+(C^D^T)+k[6]+76029189&4294967295,P=C+(R<<23&4294967295|R>>>9),R=T+(P^C^D)+k[9]+3654602809&4294967295,T=P+(R<<4&4294967295|R>>>28),R=D+(T^P^C)+k[12]+3873151461&4294967295,D=T+(R<<11&4294967295|R>>>21),R=C+(D^T^P)+k[15]+530742520&4294967295,C=D+(R<<16&4294967295|R>>>16),R=P+(C^D^T)+k[2]+3299628645&4294967295,P=C+(R<<23&4294967295|R>>>9),R=T+(C^(P|~D))+k[0]+4096336452&4294967295,T=P+(R<<6&4294967295|R>>>26),R=D+(P^(T|~C))+k[7]+1126891415&4294967295,D=T+(R<<10&4294967295|R>>>22),R=C+(T^(D|~P))+k[14]+2878612391&4294967295,C=D+(R<<15&4294967295|R>>>17),R=P+(D^(C|~T))+k[5]+4237533241&4294967295,P=C+(R<<21&4294967295|R>>>11),R=T+(C^(P|~D))+k[12]+1700485571&4294967295,T=P+(R<<6&4294967295|R>>>26),R=D+(P^(T|~C))+k[3]+2399980690&4294967295,D=T+(R<<10&4294967295|R>>>22),R=C+(T^(D|~P))+k[10]+4293915773&4294967295,C=D+(R<<15&4294967295|R>>>17),R=P+(D^(C|~T))+k[1]+2240044497&4294967295,P=C+(R<<21&4294967295|R>>>11),R=T+(C^(P|~D))+k[8]+1873313359&4294967295,T=P+(R<<6&4294967295|R>>>26),R=D+(P^(T|~C))+k[15]+4264355552&4294967295,D=T+(R<<10&4294967295|R>>>22),R=C+(T^(D|~P))+k[6]+2734768916&4294967295,C=D+(R<<15&4294967295|R>>>17),R=P+(D^(C|~T))+k[13]+1309151649&4294967295,P=C+(R<<21&4294967295|R>>>11),R=T+(C^(P|~D))+k[4]+4149444226&4294967295,T=P+(R<<6&4294967295|R>>>26),R=D+(P^(T|~C))+k[11]+3174756917&4294967295,D=T+(R<<10&4294967295|R>>>22),R=C+(T^(D|~P))+k[2]+718787259&4294967295,C=D+(R<<15&4294967295|R>>>17),R=P+(D^(C|~T))+k[9]+3951481745&4294967295,x.g[0]=x.g[0]+T&4294967295,x.g[1]=x.g[1]+(C+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+C&4294967295,x.g[3]=x.g[3]+D&4294967295}r.prototype.u=function(x,T){T===void 0&&(T=x.length);for(var P=T-this.blockSize,k=this.B,C=this.h,D=0;D<T;){if(C==0)for(;D<=P;)i(this,x,D),D+=this.blockSize;if(typeof x=="string"){for(;D<T;)if(k[C++]=x.charCodeAt(D++),C==this.blockSize){i(this,k),C=0;break}}else for(;D<T;)if(k[C++]=x[D++],C==this.blockSize){i(this,k),C=0;break}}this.h=C,this.o+=T},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var T=1;T<x.length-8;++T)x[T]=0;var P=8*this.o;for(T=x.length-8;T<x.length;++T)x[T]=P&255,P/=256;for(this.u(x),x=Array(16),T=P=0;4>T;++T)for(var k=0;32>k;k+=8)x[P++]=this.g[T]>>>k&255;return x};function o(x,T){var P=s;return Object.prototype.hasOwnProperty.call(P,x)?P[x]:P[x]=T(x)}function a(x,T){this.h=T;for(var P=[],k=!0,C=x.length-1;0<=C;C--){var D=x[C]|0;k&&D==T||(P[C]=D,k=!1)}this.g=P}var s={};function l(x){return-128<=x&&128>x?o(x,function(T){return new a([T|0],0>T?-1:0)}):new a([x|0],0>x?-1:0)}function u(x){if(isNaN(x)||!isFinite(x))return d;if(0>x)return y(u(-x));for(var T=[],P=1,k=0;x>=P;k++)T[k]=x/P|0,P*=4294967296;return new a(T,0)}function c(x,T){if(x.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(x.charAt(0)=="-")return y(c(x.substring(1),T));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(T,8)),k=d,C=0;C<x.length;C+=8){var D=Math.min(8,x.length-C),R=parseInt(x.substring(C,C+D),T);8>D?(D=u(Math.pow(T,D)),k=k.j(D).add(u(R))):(k=k.j(P),k=k.add(u(R)))}return k}var d=l(0),f=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(m(this))return-y(this).m();for(var x=0,T=1,P=0;P<this.g.length;P++){var k=this.i(P);x+=(0<=k?k:4294967296+k)*T,T*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(g(this))return"0";if(m(this))return"-"+y(this).toString(x);for(var T=u(Math.pow(x,6)),P=this,k="";;){var C=A(P,T).g;P=_(P,C.j(T));var D=((0<P.g.length?P.g[0]:P.h)>>>0).toString(x);if(P=C,g(P))return D+k;for(;6>D.length;)D="0"+D;k=D+k}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function g(x){if(x.h!=0)return!1;for(var T=0;T<x.g.length;T++)if(x.g[T]!=0)return!1;return!0}function m(x){return x.h==-1}t.l=function(x){return x=_(this,x),m(x)?-1:g(x)?0:1};function y(x){for(var T=x.g.length,P=[],k=0;k<T;k++)P[k]=~x.g[k];return new a(P,~x.h).add(f)}t.abs=function(){return m(this)?y(this):this},t.add=function(x){for(var T=Math.max(this.g.length,x.g.length),P=[],k=0,C=0;C<=T;C++){var D=k+(this.i(C)&65535)+(x.i(C)&65535),R=(D>>>16)+(this.i(C)>>>16)+(x.i(C)>>>16);k=R>>>16,D&=65535,R&=65535,P[C]=R<<16|D}return new a(P,P[P.length-1]&-2147483648?-1:0)};function _(x,T){return x.add(y(T))}t.j=function(x){if(g(this)||g(x))return d;if(m(this))return m(x)?y(this).j(y(x)):y(y(this).j(x));if(m(x))return y(this.j(y(x)));if(0>this.l(p)&&0>x.l(p))return u(this.m()*x.m());for(var T=this.g.length+x.g.length,P=[],k=0;k<2*T;k++)P[k]=0;for(k=0;k<this.g.length;k++)for(var C=0;C<x.g.length;C++){var D=this.i(k)>>>16,R=this.i(k)&65535,W=x.i(C)>>>16,q=x.i(C)&65535;P[2*k+2*C]+=R*q,w(P,2*k+2*C),P[2*k+2*C+1]+=D*q,w(P,2*k+2*C+1),P[2*k+2*C+1]+=R*W,w(P,2*k+2*C+1),P[2*k+2*C+2]+=D*W,w(P,2*k+2*C+2)}for(k=0;k<T;k++)P[k]=P[2*k+1]<<16|P[2*k];for(k=T;k<2*T;k++)P[k]=0;return new a(P,0)};function w(x,T){for(;(x[T]&65535)!=x[T];)x[T+1]+=x[T]>>>16,x[T]&=65535,T++}function v(x,T){this.g=x,this.h=T}function A(x,T){if(g(T))throw Error("division by zero");if(g(x))return new v(d,d);if(m(x))return T=A(y(x),T),new v(y(T.g),y(T.h));if(m(T))return T=A(x,y(T)),new v(y(T.g),T.h);if(30<x.g.length){if(m(x)||m(T))throw Error("slowDivide_ only works with positive integers.");for(var P=f,k=T;0>=k.l(x);)P=E(P),k=E(k);var C=S(P,1),D=S(k,1);for(k=S(k,2),P=S(P,2);!g(k);){var R=D.add(k);0>=R.l(x)&&(C=C.add(P),D=R),k=S(k,1),P=S(P,1)}return T=_(x,C.j(T)),new v(C,T)}for(C=d;0<=x.l(T);){for(P=Math.max(1,Math.floor(x.m()/T.m())),k=Math.ceil(Math.log(P)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),D=u(P),R=D.j(T);m(R)||0<R.l(x);)P-=k,D=u(P),R=D.j(T);g(D)&&(D=f),C=C.add(D),x=_(x,R)}return new v(C,x)}t.A=function(x){return A(this,x).h},t.and=function(x){for(var T=Math.max(this.g.length,x.g.length),P=[],k=0;k<T;k++)P[k]=this.i(k)&x.i(k);return new a(P,this.h&x.h)},t.or=function(x){for(var T=Math.max(this.g.length,x.g.length),P=[],k=0;k<T;k++)P[k]=this.i(k)|x.i(k);return new a(P,this.h|x.h)},t.xor=function(x){for(var T=Math.max(this.g.length,x.g.length),P=[],k=0;k<T;k++)P[k]=this.i(k)^x.i(k);return new a(P,this.h^x.h)};function E(x){for(var T=x.g.length+1,P=[],k=0;k<T;k++)P[k]=x.i(k)<<1|x.i(k-1)>>>31;return new a(P,x.h)}function S(x,T){var P=T>>5;T%=32;for(var k=x.g.length-P,C=[],D=0;D<k;D++)C[D]=0<T?x.i(D+P)>>>T|x.i(D+P+1)<<32-T:x.i(D+P);return new a(C,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,d$=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=c,rs=a}).apply(typeof aP<"u"?aP:typeof self<"u"?self:typeof window<"u"?window:{});var wp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var h$,dd,f$,cm,qb,p$,m$,g$;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,b,I){return h==Array.prototype||h==Object.prototype||(h[b]=I.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof wp=="object"&&wp];for(var b=0;b<h.length;++b){var I=h[b];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(h,b){if(b)e:{var I=r;h=h.split(".");for(var N=0;N<h.length-1;N++){var V=h[N];if(!(V in I))break e;I=I[V]}h=h[h.length-1],N=I[h],b=b(N),b!=N&&b!=null&&e(I,h,{configurable:!0,writable:!0,value:b})}}function o(h,b){h instanceof String&&(h+="");var I=0,N=!1,V={next:function(){if(!N&&I<h.length){var z=I++;return{value:b(z,h[z]),done:!1}}return N=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(h){return h||function(){return o(this,function(b,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function l(h){var b=typeof h;return b=b!="object"?b:h?Array.isArray(h)?"array":b:"null",b=="array"||b=="object"&&typeof h.length=="number"}function u(h){var b=typeof h;return b=="object"&&h!=null||b=="function"}function c(h,b,I){return h.call.apply(h.bind,arguments)}function d(h,b,I){if(!h)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,N),h.apply(b,V)}}return function(){return h.apply(b,arguments)}}function f(h,b,I){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,f.apply(null,arguments)}function p(h,b){var I=Array.prototype.slice.call(arguments,1);return function(){var N=I.slice();return N.push.apply(N,arguments),h.apply(this,N)}}function g(h,b){function I(){}I.prototype=b.prototype,h.aa=b.prototype,h.prototype=new I,h.prototype.constructor=h,h.Qb=function(N,V,z){for(var oe=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)oe[Ke-2]=arguments[Ke];return b.prototype[V].apply(N,oe)}}function m(h){const b=h.length;if(0<b){const I=Array(b);for(let N=0;N<b;N++)I[N]=h[N];return I}return[]}function y(h,b){for(let I=1;I<arguments.length;I++){const N=arguments[I];if(l(N)){const V=h.length||0,z=N.length||0;h.length=V+z;for(let oe=0;oe<z;oe++)h[V+oe]=N[oe]}else h.push(N)}}class _{constructor(b,I){this.i=b,this.j=I,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function w(h){return/^[\s\xa0]*$/.test(h)}function v(){var h=s.navigator;return h&&(h=h.userAgent)?h:""}function A(h){return A[" "](h),h}A[" "]=function(){};var E=v().indexOf("Gecko")!=-1&&!(v().toLowerCase().indexOf("webkit")!=-1&&v().indexOf("Edge")==-1)&&!(v().indexOf("Trident")!=-1||v().indexOf("MSIE")!=-1)&&v().indexOf("Edge")==-1;function S(h,b,I){for(const N in h)b.call(I,h[N],N,h)}function x(h,b){for(const I in h)b.call(void 0,h[I],I,h)}function T(h){const b={};for(const I in h)b[I]=h[I];return b}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(h,b){let I,N;for(let V=1;V<arguments.length;V++){N=arguments[V];for(I in N)h[I]=N[I];for(let z=0;z<P.length;z++)I=P[z],Object.prototype.hasOwnProperty.call(N,I)&&(h[I]=N[I])}}function C(h){var b=1;h=h.split(":");const I=[];for(;0<b&&h.length;)I.push(h.shift()),b--;return h.length&&I.push(h.join(":")),I}function D(h){s.setTimeout(()=>{throw h},0)}function R(){var h=B;let b=null;return h.g&&(b=h.g,h.g=h.g.next,h.g||(h.h=null),b.next=null),b}class W{constructor(){this.h=this.g=null}add(b,I){const N=q.get();N.set(b,I),this.h?this.h.next=N:this.g=N,this.h=N}}var q=new _(()=>new G,h=>h.reset());class G{constructor(){this.next=this.g=this.h=null}set(b,I){this.h=b,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let H,L=!1,B=new W,Q=()=>{const h=s.Promise.resolve(void 0);H=()=>{h.then(ie)}};var ie=()=>{for(var h;h=R();){try{h.h.call(h.g)}catch(I){D(I)}var b=q;b.j(h),100>b.h&&(b.h++,h.next=b.g,b.g=h)}L=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(h,b){this.type=h,this.g=this.target=b,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var h=!1,b=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const I=()=>{};s.addEventListener("test",I,b),s.removeEventListener("test",I,b)}catch{}return h}();function Ce(h,b){if(te.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var I=this.type=h.type,N=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=b,b=h.relatedTarget){if(E){e:{try{A(b.nodeName);var V=!0;break e}catch{}V=!1}V||(b=null)}}else I=="mouseover"?b=h.fromElement:I=="mouseout"&&(b=h.toElement);this.relatedTarget=b,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:ze[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ce.aa.h.call(this)}}g(Ce,te);var ze={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var vt="closure_listenable_"+(1e6*Math.random()|0),Wt=0;function se(h,b,I,N,V){this.listener=h,this.proxy=null,this.src=b,this.type=I,this.capture=!!N,this.ha=V,this.key=++Wt,this.da=this.fa=!1}function fe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function _e(h){this.src=h,this.g={},this.h=0}_e.prototype.add=function(h,b,I,N,V){var z=h.toString();h=this.g[z],h||(h=this.g[z]=[],this.h++);var oe=Qe(h,b,N,V);return-1<oe?(b=h[oe],I||(b.fa=!1)):(b=new se(b,this.src,z,!!N,V),b.fa=I,h.push(b)),b};function Z(h,b){var I=b.type;if(I in h.g){var N=h.g[I],V=Array.prototype.indexOf.call(N,b,void 0),z;(z=0<=V)&&Array.prototype.splice.call(N,V,1),z&&(fe(b),h.g[I].length==0&&(delete h.g[I],h.h--))}}function Qe(h,b,I,N){for(var V=0;V<h.length;++V){var z=h[V];if(!z.da&&z.listener==b&&z.capture==!!I&&z.ha==N)return V}return-1}var Se="closure_lm_"+(1e6*Math.random()|0),ht={};function _t(h,b,I,N,V){if(N&&N.once)return gi(h,b,I,N,V);if(Array.isArray(b)){for(var z=0;z<b.length;z++)_t(h,b[z],I,N,V);return null}return I=o0(I),h&&h[vt]?h.K(b,I,u(N)?!!N.capture:!!N,V):tn(h,b,I,!1,N,V)}function tn(h,b,I,N,V,z){if(!b)throw Error("Invalid event type");var oe=u(V)?!!V.capture:!!V,Ke=Ks(h);if(Ke||(h[Se]=Ke=new _e(h)),I=Ke.add(b,I,N,oe,z),I.proxy)return I;if(N=Br(),I.proxy=N,N.src=h,N.listener=I,h.addEventListener)Te||(V=oe),V===void 0&&(V=!1),h.addEventListener(b.toString(),N,V);else if(h.attachEvent)h.attachEvent(Ur(b.toString()),N);else if(h.addListener&&h.removeListener)h.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return I}function Br(){function h(I){return b.call(h.src,h.listener,I)}const b=bc;return h}function gi(h,b,I,N,V){if(Array.isArray(b)){for(var z=0;z<b.length;z++)gi(h,b[z],I,N,V);return null}return I=o0(I),h&&h[vt]?h.L(b,I,u(N)?!!N.capture:!!N,V):tn(h,b,I,!0,N,V)}function Ta(h,b,I,N,V){if(Array.isArray(b))for(var z=0;z<b.length;z++)Ta(h,b[z],I,N,V);else N=u(N)?!!N.capture:!!N,I=o0(I),h&&h[vt]?(h=h.i,b=String(b).toString(),b in h.g&&(z=h.g[b],I=Qe(z,I,N,V),-1<I&&(fe(z[I]),Array.prototype.splice.call(z,I,1),z.length==0&&(delete h.g[b],h.h--)))):h&&(h=Ks(h))&&(b=h.g[b.toString()],h=-1,b&&(h=Qe(b,I,N,V)),(I=-1<h?b[h]:null)&&Tr(I))}function Tr(h){if(typeof h!="number"&&h&&!h.da){var b=h.src;if(b&&b[vt])Z(b.i,h);else{var I=h.type,N=h.proxy;b.removeEventListener?b.removeEventListener(I,N,h.capture):b.detachEvent?b.detachEvent(Ur(I),N):b.addListener&&b.removeListener&&b.removeListener(N),(I=Ks(b))?(Z(I,h),I.h==0&&(I.src=null,b[Se]=null)):fe(h)}}}function Ur(h){return h in ht?ht[h]:ht[h]="on"+h}function bc(h,b){if(h.da)h=!0;else{b=new Ce(b,this);var I=h.listener,N=h.ha||h.src;h.fa&&Tr(h),h=I.call(N,b)}return h}function Ks(h){return h=h[Se],h instanceof _e?h:null}var Gs="__closure_events_fn_"+(1e9*Math.random()>>>0);function o0(h){return typeof h=="function"?h:(h[Gs]||(h[Gs]=function(b){return h.handleEvent(b)}),h[Gs])}function dn(){J.call(this),this.i=new _e(this),this.M=this,this.F=null}g(dn,J),dn.prototype[vt]=!0,dn.prototype.removeEventListener=function(h,b,I,N){Ta(this,h,b,I,N)};function An(h,b){var I,N=h.F;if(N)for(I=[];N;N=N.F)I.push(N);if(h=h.M,N=b.type||b,typeof b=="string")b=new te(b,h);else if(b instanceof te)b.target=b.target||h;else{var V=b;b=new te(N,h),k(b,V)}if(V=!0,I)for(var z=I.length-1;0<=z;z--){var oe=b.g=I[z];V=Ff(oe,N,!0,b)&&V}if(oe=b.g=h,V=Ff(oe,N,!0,b)&&V,V=Ff(oe,N,!1,b)&&V,I)for(z=0;z<I.length;z++)oe=b.g=I[z],V=Ff(oe,N,!1,b)&&V}dn.prototype.N=function(){if(dn.aa.N.call(this),this.i){var h=this.i,b;for(b in h.g){for(var I=h.g[b],N=0;N<I.length;N++)fe(I[N]);delete h.g[b],h.h--}}this.F=null},dn.prototype.K=function(h,b,I,N){return this.i.add(String(h),b,!1,I,N)},dn.prototype.L=function(h,b,I,N){return this.i.add(String(h),b,!0,I,N)};function Ff(h,b,I,N){if(b=h.i.g[String(b)],!b)return!0;b=b.concat();for(var V=!0,z=0;z<b.length;++z){var oe=b[z];if(oe&&!oe.da&&oe.capture==I){var Ke=oe.listener,nn=oe.ha||oe.src;oe.fa&&Z(h.i,oe),V=Ke.call(nn,N)!==!1&&V}}return V&&!N.defaultPrevented}function _S(h,b,I){if(typeof h=="function")I&&(h=f(h,I));else if(h&&typeof h.handleEvent=="function")h=f(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:s.setTimeout(h,b||0)}function bS(h){h.g=_S(()=>{h.g=null,h.i&&(h.i=!1,bS(h))},h.l);const b=h.h;h.h=null,h.m.apply(null,b)}class Z3 extends J{constructor(b,I){super(),this.m=b,this.l=I,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:bS(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wc(h){J.call(this),this.h=h,this.g={}}g(wc,J);var wS=[];function xS(h){S(h.g,function(b,I){this.g.hasOwnProperty(I)&&Tr(b)},h),h.g={}}wc.prototype.N=function(){wc.aa.N.call(this),xS(this)},wc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var a0=s.JSON.stringify,eB=s.JSON.parse,tB=class{stringify(h){return s.JSON.stringify(h,void 0)}parse(h){return s.JSON.parse(h,void 0)}};function s0(){}s0.prototype.h=null;function ES(h){return h.h||(h.h=h.i())}function TS(){}var xc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function l0(){te.call(this,"d")}g(l0,te);function u0(){te.call(this,"c")}g(u0,te);var Sa={},SS=null;function Bf(){return SS=SS||new dn}Sa.La="serverreachability";function AS(h){te.call(this,Sa.La,h)}g(AS,te);function Ec(h){const b=Bf();An(b,new AS(b))}Sa.STAT_EVENT="statevent";function IS(h,b){te.call(this,Sa.STAT_EVENT,h),this.stat=b}g(IS,te);function In(h){const b=Bf();An(b,new IS(b,h))}Sa.Ma="timingevent";function PS(h,b){te.call(this,Sa.Ma,h),this.size=b}g(PS,te);function Tc(h,b){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){h()},b)}function Sc(){this.g=!0}Sc.prototype.xa=function(){this.g=!1};function nB(h,b,I,N,V,z){h.info(function(){if(h.g)if(z)for(var oe="",Ke=z.split("&"),nn=0;nn<Ke.length;nn++){var De=Ke[nn].split("=");if(1<De.length){var hn=De[0];De=De[1];var fn=hn.split("_");oe=2<=fn.length&&fn[1]=="type"?oe+(hn+"="+De+"&"):oe+(hn+"=redacted&")}}else oe=null;else oe=z;return"XMLHTTP REQ ("+N+") [attempt "+V+"]: "+b+`
`+I+`
`+oe})}function rB(h,b,I,N,V,z,oe){h.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+V+"]: "+b+`
`+I+`
`+z+" "+oe})}function Hs(h,b,I,N){h.info(function(){return"XMLHTTP TEXT ("+b+"): "+oB(h,I)+(N?" "+N:"")})}function iB(h,b){h.info(function(){return"TIMEOUT: "+b})}Sc.prototype.info=function(){};function oB(h,b){if(!h.g)return b;if(!b)return null;try{var I=JSON.parse(b);if(I){for(h=0;h<I.length;h++)if(Array.isArray(I[h])){var N=I[h];if(!(2>N.length)){var V=N[1];if(Array.isArray(V)&&!(1>V.length)){var z=V[0];if(z!="noop"&&z!="stop"&&z!="close")for(var oe=1;oe<V.length;oe++)V[oe]=""}}}}return a0(I)}catch{return b}}var Uf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},OS={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},c0;function zf(){}g(zf,s0),zf.prototype.g=function(){return new XMLHttpRequest},zf.prototype.i=function(){return{}},c0=new zf;function ao(h,b,I,N){this.j=h,this.i=b,this.l=I,this.R=N||1,this.U=new wc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kS}function kS(){this.i=null,this.g="",this.h=!1}var CS={},d0={};function h0(h,b,I){h.L=1,h.v=Gf(yi(b)),h.m=I,h.P=!0,RS(h,null)}function RS(h,b){h.F=Date.now(),qf(h),h.A=yi(h.v);var I=h.A,N=h.R;Array.isArray(N)||(N=[String(N)]),KS(I.i,"t",N),h.C=0,I=h.j.J,h.h=new kS,h.g=cA(h.j,I?b:null,!h.m),0<h.O&&(h.M=new Z3(f(h.Y,h,h.g),h.O)),b=h.U,I=h.g,N=h.ca;var V="readystatechange";Array.isArray(V)||(V&&(wS[0]=V.toString()),V=wS);for(var z=0;z<V.length;z++){var oe=_t(I,V[z],N||b.handleEvent,!1,b.h||b);if(!oe)break;b.g[oe.key]=oe}b=h.H?T(h.H):{},h.m?(h.u||(h.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,b)):(h.u="GET",h.g.ea(h.A,h.u,null,b)),Ec(),nB(h.i,h.u,h.A,h.l,h.R,h.m)}ao.prototype.ca=function(h){h=h.target;const b=this.M;b&&vi(h)==3?b.j():this.Y(h)},ao.prototype.Y=function(h){try{if(h==this.g)e:{const fn=vi(this.g);var b=this.g.Ba();const Ys=this.g.Z();if(!(3>fn)&&(fn!=3||this.g&&(this.h.h||this.g.oa()||ZS(this.g)))){this.J||fn!=4||b==7||(b==8||0>=Ys?Ec(3):Ec(2)),f0(this);var I=this.g.Z();this.X=I;t:if(NS(this)){var N=ZS(this.g);h="";var V=N.length,z=vi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Aa(this),Ac(this);var oe="";break t}this.h.i=new s.TextDecoder}for(b=0;b<V;b++)this.h.h=!0,h+=this.h.i.decode(N[b],{stream:!(z&&b==V-1)});N.length=0,this.h.g+=h,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=I==200,rB(this.i,this.u,this.A,this.l,this.R,fn,I),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,nn=this.g;if((Ke=nn.g?nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Ke)){var De=Ke;break t}}De=null}if(I=De)Hs(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,p0(this,I);else{this.o=!1,this.s=3,In(12),Aa(this),Ac(this);break e}}if(this.P){I=!0;let Sr;for(;!this.J&&this.C<oe.length;)if(Sr=aB(this,oe),Sr==d0){fn==4&&(this.s=4,In(14),I=!1),Hs(this.i,this.l,null,"[Incomplete Response]");break}else if(Sr==CS){this.s=4,In(15),Hs(this.i,this.l,oe,"[Invalid Chunk]"),I=!1;break}else Hs(this.i,this.l,Sr,null),p0(this,Sr);if(NS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fn!=4||oe.length!=0||this.h.h||(this.s=1,In(16),I=!1),this.o=this.o&&I,!I)Hs(this.i,this.l,oe,"[Invalid Chunked Response]"),Aa(this),Ac(this);else if(0<oe.length&&!this.W){this.W=!0;var hn=this.j;hn.g==this&&hn.ba&&!hn.M&&(hn.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),b0(hn),hn.M=!0,In(11))}}else Hs(this.i,this.l,oe,null),p0(this,oe);fn==4&&Aa(this),this.o&&!this.J&&(fn==4?aA(this.j,this):(this.o=!1,qf(this)))}else EB(this.g),I==400&&0<oe.indexOf("Unknown SID")?(this.s=3,In(12)):(this.s=0,In(13)),Aa(this),Ac(this)}}}catch{}finally{}};function NS(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function aB(h,b){var I=h.C,N=b.indexOf(`
`,I);return N==-1?d0:(I=Number(b.substring(I,N)),isNaN(I)?CS:(N+=1,N+I>b.length?d0:(b=b.slice(N,N+I),h.C=N+I,b)))}ao.prototype.cancel=function(){this.J=!0,Aa(this)};function qf(h){h.S=Date.now()+h.I,DS(h,h.I)}function DS(h,b){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Tc(f(h.ba,h),b)}function f0(h){h.B&&(s.clearTimeout(h.B),h.B=null)}ao.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(iB(this.i,this.A),this.L!=2&&(Ec(),In(17)),Aa(this),this.s=2,Ac(this)):DS(this,this.S-h)};function Ac(h){h.j.G==0||h.J||aA(h.j,h)}function Aa(h){f0(h);var b=h.M;b&&typeof b.ma=="function"&&b.ma(),h.M=null,xS(h.U),h.g&&(b=h.g,h.g=null,b.abort(),b.ma())}function p0(h,b){try{var I=h.j;if(I.G!=0&&(I.g==h||m0(I.h,h))){if(!h.K&&m0(I.h,h)&&I.G==3){try{var N=I.Da.g.parse(b)}catch{N=null}if(Array.isArray(N)&&N.length==3){var V=N;if(V[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<h.F)Zf(I),Yf(I);else break e;_0(I),In(18)}}else I.za=V[1],0<I.za-I.T&&37500>V[2]&&I.F&&I.v==0&&!I.C&&(I.C=Tc(f(I.Za,I),6e3));if(1>=LS(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else Pa(I,11)}else if((h.K||I.g==h)&&Zf(I),!w(b))for(V=I.Da.g.parse(b),b=0;b<V.length;b++){let De=V[b];if(I.T=De[0],De=De[1],I.G==2)if(De[0]=="c"){I.K=De[1],I.ia=De[2];const hn=De[3];hn!=null&&(I.la=hn,I.j.info("VER="+I.la));const fn=De[4];fn!=null&&(I.Aa=fn,I.j.info("SVER="+I.Aa));const Ys=De[5];Ys!=null&&typeof Ys=="number"&&0<Ys&&(N=1.5*Ys,I.L=N,I.j.info("backChannelRequestTimeoutMs_="+N)),N=I;const Sr=h.g;if(Sr){const tp=Sr.g?Sr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tp){var z=N.h;z.g||tp.indexOf("spdy")==-1&&tp.indexOf("quic")==-1&&tp.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(g0(z,z.h),z.h=null))}if(N.D){const w0=Sr.g?Sr.g.getResponseHeader("X-HTTP-Session-Id"):null;w0&&(N.ya=w0,tt(N.I,N.D,w0))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-h.F,I.j.info("Handshake RTT: "+I.R+"ms")),N=I;var oe=h;if(N.qa=uA(N,N.J?N.ia:null,N.W),oe.K){jS(N.h,oe);var Ke=oe,nn=N.L;nn&&(Ke.I=nn),Ke.B&&(f0(Ke),qf(Ke)),N.g=oe}else iA(N);0<I.i.length&&Jf(I)}else De[0]!="stop"&&De[0]!="close"||Pa(I,7);else I.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?Pa(I,7):v0(I):De[0]!="noop"&&I.l&&I.l.ta(De),I.v=0)}}Ec(4)}catch{}}var sB=class{constructor(h,b){this.g=h,this.map=b}};function MS(h){this.l=h||10,s.PerformanceNavigationTiming?(h=s.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $S(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function LS(h){return h.h?1:h.g?h.g.size:0}function m0(h,b){return h.h?h.h==b:h.g?h.g.has(b):!1}function g0(h,b){h.g?h.g.add(b):h.h=b}function jS(h,b){h.h&&h.h==b?h.h=null:h.g&&h.g.has(b)&&h.g.delete(b)}MS.prototype.cancel=function(){if(this.i=VS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function VS(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let b=h.i;for(const I of h.g.values())b=b.concat(I.D);return b}return m(h.i)}function lB(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var b=[],I=h.length,N=0;N<I;N++)b.push(h[N]);return b}b=[],I=0;for(N in h)b[I++]=h[N];return b}function uB(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var b=[];h=h.length;for(var I=0;I<h;I++)b.push(I);return b}b=[],I=0;for(const N in h)b[I++]=N;return b}}}function FS(h,b){if(h.forEach&&typeof h.forEach=="function")h.forEach(b,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,b,void 0);else for(var I=uB(h),N=lB(h),V=N.length,z=0;z<V;z++)b.call(void 0,N[z],I&&I[z],h)}var BS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cB(h,b){if(h){h=h.split("&");for(var I=0;I<h.length;I++){var N=h[I].indexOf("="),V=null;if(0<=N){var z=h[I].substring(0,N);V=h[I].substring(N+1)}else z=h[I];b(z,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Ia(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ia){this.h=h.h,Wf(this,h.j),this.o=h.o,this.g=h.g,Kf(this,h.s),this.l=h.l;var b=h.i,I=new Oc;I.i=b.i,b.g&&(I.g=new Map(b.g),I.h=b.h),US(this,I),this.m=h.m}else h&&(b=String(h).match(BS))?(this.h=!1,Wf(this,b[1]||"",!0),this.o=Ic(b[2]||""),this.g=Ic(b[3]||"",!0),Kf(this,b[4]),this.l=Ic(b[5]||"",!0),US(this,b[6]||"",!0),this.m=Ic(b[7]||"")):(this.h=!1,this.i=new Oc(null,this.h))}Ia.prototype.toString=function(){var h=[],b=this.j;b&&h.push(Pc(b,zS,!0),":");var I=this.g;return(I||b=="file")&&(h.push("//"),(b=this.o)&&h.push(Pc(b,zS,!0),"@"),h.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&h.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&h.push("/"),h.push(Pc(I,I.charAt(0)=="/"?fB:hB,!0))),(I=this.i.toString())&&h.push("?",I),(I=this.m)&&h.push("#",Pc(I,mB)),h.join("")};function yi(h){return new Ia(h)}function Wf(h,b,I){h.j=I?Ic(b,!0):b,h.j&&(h.j=h.j.replace(/:$/,""))}function Kf(h,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);h.s=b}else h.s=null}function US(h,b,I){b instanceof Oc?(h.i=b,gB(h.i,h.h)):(I||(b=Pc(b,pB)),h.i=new Oc(b,h.h))}function tt(h,b,I){h.i.set(b,I)}function Gf(h){return tt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Ic(h,b){return h?b?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Pc(h,b,I){return typeof h=="string"?(h=encodeURI(h).replace(b,dB),I&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function dB(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var zS=/[#\/\?@]/g,hB=/[#\?:]/g,fB=/[#\?]/g,pB=/[#\?@]/g,mB=/#/g;function Oc(h,b){this.h=this.g=null,this.i=h||null,this.j=!!b}function so(h){h.g||(h.g=new Map,h.h=0,h.i&&cB(h.i,function(b,I){h.add(decodeURIComponent(b.replace(/\+/g," ")),I)}))}t=Oc.prototype,t.add=function(h,b){so(this),this.i=null,h=Qs(this,h);var I=this.g.get(h);return I||this.g.set(h,I=[]),I.push(b),this.h+=1,this};function qS(h,b){so(h),b=Qs(h,b),h.g.has(b)&&(h.i=null,h.h-=h.g.get(b).length,h.g.delete(b))}function WS(h,b){return so(h),b=Qs(h,b),h.g.has(b)}t.forEach=function(h,b){so(this),this.g.forEach(function(I,N){I.forEach(function(V){h.call(b,V,N,this)},this)},this)},t.na=function(){so(this);const h=Array.from(this.g.values()),b=Array.from(this.g.keys()),I=[];for(let N=0;N<b.length;N++){const V=h[N];for(let z=0;z<V.length;z++)I.push(b[N])}return I},t.V=function(h){so(this);let b=[];if(typeof h=="string")WS(this,h)&&(b=b.concat(this.g.get(Qs(this,h))));else{h=Array.from(this.g.values());for(let I=0;I<h.length;I++)b=b.concat(h[I])}return b},t.set=function(h,b){return so(this),this.i=null,h=Qs(this,h),WS(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[b]),this.h+=1,this},t.get=function(h,b){return h?(h=this.V(h),0<h.length?String(h[0]):b):b};function KS(h,b,I){qS(h,b),0<I.length&&(h.i=null,h.g.set(Qs(h,b),m(I)),h.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],b=Array.from(this.g.keys());for(var I=0;I<b.length;I++){var N=b[I];const z=encodeURIComponent(String(N)),oe=this.V(N);for(N=0;N<oe.length;N++){var V=z;oe[N]!==""&&(V+="="+encodeURIComponent(String(oe[N]))),h.push(V)}}return this.i=h.join("&")};function Qs(h,b){return b=String(b),h.j&&(b=b.toLowerCase()),b}function gB(h,b){b&&!h.j&&(so(h),h.i=null,h.g.forEach(function(I,N){var V=N.toLowerCase();N!=V&&(qS(this,N),KS(this,V,I))},h)),h.j=b}function yB(h,b){const I=new Sc;if(s.Image){const N=new Image;N.onload=p(lo,I,"TestLoadImage: loaded",!0,b,N),N.onerror=p(lo,I,"TestLoadImage: error",!1,b,N),N.onabort=p(lo,I,"TestLoadImage: abort",!1,b,N),N.ontimeout=p(lo,I,"TestLoadImage: timeout",!1,b,N),s.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=h}else b(!1)}function vB(h,b){const I=new Sc,N=new AbortController,V=setTimeout(()=>{N.abort(),lo(I,"TestPingServer: timeout",!1,b)},1e4);fetch(h,{signal:N.signal}).then(z=>{clearTimeout(V),z.ok?lo(I,"TestPingServer: ok",!0,b):lo(I,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(V),lo(I,"TestPingServer: error",!1,b)})}function lo(h,b,I,N,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),N(I)}catch{}}function _B(){this.g=new tB}function bB(h,b,I){const N=I||"";try{FS(h,function(V,z){let oe=V;u(V)&&(oe=a0(V)),b.push(N+z+"="+encodeURIComponent(oe))})}catch(V){throw b.push(N+"type="+encodeURIComponent("_badmap")),V}}function Hf(h){this.l=h.Ub||null,this.j=h.eb||!1}g(Hf,s0),Hf.prototype.g=function(){return new Qf(this.l,this.j)},Hf.prototype.i=function(h){return function(){return h}}({});function Qf(h,b){dn.call(this),this.D=h,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Qf,dn),t=Qf.prototype,t.open=function(h,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=b,this.readyState=1,Cc(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(b.body=h),(this.D||s).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kc(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Cc(this)),this.g&&(this.readyState=3,Cc(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;GS(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function GS(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var b=h.value?h.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!h.done}))&&(this.response=this.responseText+=b)}h.done?kc(this):Cc(this),this.readyState==3&&GS(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,kc(this))},t.Qa=function(h){this.g&&(this.response=h,kc(this))},t.ga=function(){this.g&&kc(this)};function kc(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Cc(h)}t.setRequestHeader=function(h,b){this.u.append(h,b)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],b=this.h.entries();for(var I=b.next();!I.done;)I=I.value,h.push(I[0]+": "+I[1]),I=b.next();return h.join(`\r
`)};function Cc(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Qf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function HS(h){let b="";return S(h,function(I,N){b+=N,b+=":",b+=I,b+=`\r
`}),b}function y0(h,b,I){e:{for(N in I){var N=!1;break e}N=!0}N||(I=HS(I),typeof h=="string"?I!=null&&encodeURIComponent(String(I)):tt(h,b,I))}function bt(h){dn.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(bt,dn);var wB=/^https?$/i,xB=["POST","PUT"];t=bt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,b,I,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);b=b?b.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():c0.g(),this.v=this.o?ES(this.o):ES(c0),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(b,String(h),!0),this.B=!1}catch(z){QS(this,z);return}if(h=I||"",I=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var V in N)I.set(V,N[V]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const z of N.keys())I.set(z,N.get(z));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(I.keys()).find(z=>z.toLowerCase()=="content-type"),V=s.FormData&&h instanceof s.FormData,!(0<=Array.prototype.indexOf.call(xB,b,void 0))||N||V||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,oe]of I)this.g.setRequestHeader(z,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{JS(this),this.u=!0,this.g.send(h),this.u=!1}catch(z){QS(this,z)}};function QS(h,b){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=b,h.m=5,XS(h),Xf(h)}function XS(h){h.A||(h.A=!0,An(h,"complete"),An(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,An(this,"complete"),An(this,"abort"),Xf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xf(this,!0)),bt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?YS(this):this.bb())},t.bb=function(){YS(this)};function YS(h){if(h.h&&typeof a<"u"&&(!h.v[1]||vi(h)!=4||h.Z()!=2)){if(h.u&&vi(h)==4)_S(h.Ea,0,h);else if(An(h,"readystatechange"),vi(h)==4){h.h=!1;try{const oe=h.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var I;if(!(I=b)){var N;if(N=oe===0){var V=String(h.D).match(BS)[1]||null;!V&&s.self&&s.self.location&&(V=s.self.location.protocol.slice(0,-1)),N=!wB.test(V?V.toLowerCase():"")}I=N}if(I)An(h,"complete"),An(h,"success");else{h.m=6;try{var z=2<vi(h)?h.g.statusText:""}catch{z=""}h.l=z+" ["+h.Z()+"]",XS(h)}}finally{Xf(h)}}}}function Xf(h,b){if(h.g){JS(h);const I=h.g,N=h.v[0]?()=>{}:null;h.g=null,h.v=null,b||An(h,"ready");try{I.onreadystatechange=N}catch{}}}function JS(h){h.I&&(s.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function vi(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<vi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var b=this.g.responseText;return h&&b.indexOf(h)==0&&(b=b.substring(h.length)),eB(b)}};function ZS(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function EB(h){const b={};h=(h.g&&2<=vi(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<h.length;N++){if(w(h[N]))continue;var I=C(h[N]);const V=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const z=b[V]||[];b[V]=z,z.push(I)}x(b,function(N){return N.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rc(h,b,I){return I&&I.internalChannelParams&&I.internalChannelParams[h]||b}function eA(h){this.Aa=0,this.i=[],this.j=new Sc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Rc("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Rc("baseRetryDelayMs",5e3,h),this.cb=Rc("retryDelaySeedMs",1e4,h),this.Wa=Rc("forwardChannelMaxRetries",2,h),this.wa=Rc("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new MS(h&&h.concurrentRequestLimit),this.Da=new _B,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=eA.prototype,t.la=8,t.G=1,t.connect=function(h,b,I,N){In(0),this.W=h,this.H=b||{},I&&N!==void 0&&(this.H.OSID=I,this.H.OAID=N),this.F=this.X,this.I=uA(this,null,this.W),Jf(this)};function v0(h){if(tA(h),h.G==3){var b=h.U++,I=yi(h.I);if(tt(I,"SID",h.K),tt(I,"RID",b),tt(I,"TYPE","terminate"),Nc(h,I),b=new ao(h,h.j,b),b.L=2,b.v=Gf(yi(I)),I=!1,s.navigator&&s.navigator.sendBeacon)try{I=s.navigator.sendBeacon(b.v.toString(),"")}catch{}!I&&s.Image&&(new Image().src=b.v,I=!0),I||(b.g=cA(b.j,null),b.g.ea(b.v)),b.F=Date.now(),qf(b)}lA(h)}function Yf(h){h.g&&(b0(h),h.g.cancel(),h.g=null)}function tA(h){Yf(h),h.u&&(s.clearTimeout(h.u),h.u=null),Zf(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&s.clearTimeout(h.s),h.s=null)}function Jf(h){if(!$S(h.h)&&!h.s){h.s=!0;var b=h.Ga;H||Q(),L||(H(),L=!0),B.add(b,h),h.B=0}}function TB(h,b){return LS(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=b.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Tc(f(h.Ga,h,b),sA(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const V=new ao(this,this.j,h);let z=this.o;if(this.S&&(z?(z=T(z),k(z,this.S)):z=this.S),this.m!==null||this.O||(V.H=z,z=null),this.P)e:{for(var b=0,I=0;I<this.i.length;I++){t:{var N=this.i[I];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(b+=N,4096<b){b=I;break e}if(b===4096||I===this.i.length-1){b=I+1;break e}}b=1e3}else b=1e3;b=rA(this,V,b),I=yi(this.I),tt(I,"RID",h),tt(I,"CVER",22),this.D&&tt(I,"X-HTTP-Session-Id",this.D),Nc(this,I),z&&(this.O?b="headers="+encodeURIComponent(String(HS(z)))+"&"+b:this.m&&y0(I,this.m,z)),g0(this.h,V),this.Ua&&tt(I,"TYPE","init"),this.P?(tt(I,"$req",b),tt(I,"SID","null"),V.T=!0,h0(V,I,null)):h0(V,I,b),this.G=2}}else this.G==3&&(h?nA(this,h):this.i.length==0||$S(this.h)||nA(this))};function nA(h,b){var I;b?I=b.l:I=h.U++;const N=yi(h.I);tt(N,"SID",h.K),tt(N,"RID",I),tt(N,"AID",h.T),Nc(h,N),h.m&&h.o&&y0(N,h.m,h.o),I=new ao(h,h.j,I,h.B+1),h.m===null&&(I.H=h.o),b&&(h.i=b.D.concat(h.i)),b=rA(h,I,1e3),I.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),g0(h.h,I),h0(I,N,b)}function Nc(h,b){h.H&&S(h.H,function(I,N){tt(b,N,I)}),h.l&&FS({},function(I,N){tt(b,N,I)})}function rA(h,b,I){I=Math.min(h.i.length,I);var N=h.l?f(h.l.Na,h.l,h):null;e:{var V=h.i;let z=-1;for(;;){const oe=["count="+I];z==-1?0<I?(z=V[0].g,oe.push("ofs="+z)):z=0:oe.push("ofs="+z);let Ke=!0;for(let nn=0;nn<I;nn++){let De=V[nn].g;const hn=V[nn].map;if(De-=z,0>De)z=Math.max(0,V[nn].g-100),Ke=!1;else try{bB(hn,oe,"req"+De+"_")}catch{N&&N(hn)}}if(Ke){N=oe.join("&");break e}}}return h=h.i.splice(0,I),b.D=h,N}function iA(h){if(!h.g&&!h.u){h.Y=1;var b=h.Fa;H||Q(),L||(H(),L=!0),B.add(b,h),h.v=0}}function _0(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Tc(f(h.Fa,h),sA(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,oA(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Tc(f(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,In(10),Yf(this),oA(this))};function b0(h){h.A!=null&&(s.clearTimeout(h.A),h.A=null)}function oA(h){h.g=new ao(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var b=yi(h.qa);tt(b,"RID","rpc"),tt(b,"SID",h.K),tt(b,"AID",h.T),tt(b,"CI",h.F?"0":"1"),!h.F&&h.ja&&tt(b,"TO",h.ja),tt(b,"TYPE","xmlhttp"),Nc(h,b),h.m&&h.o&&y0(b,h.m,h.o),h.L&&(h.g.I=h.L);var I=h.g;h=h.ia,I.L=1,I.v=Gf(yi(b)),I.m=null,I.P=!0,RS(I,h)}t.Za=function(){this.C!=null&&(this.C=null,Yf(this),_0(this),In(19))};function Zf(h){h.C!=null&&(s.clearTimeout(h.C),h.C=null)}function aA(h,b){var I=null;if(h.g==b){Zf(h),b0(h),h.g=null;var N=2}else if(m0(h.h,b))I=b.D,jS(h.h,b),N=1;else return;if(h.G!=0){if(b.o)if(N==1){I=b.m?b.m.length:0,b=Date.now()-b.F;var V=h.B;N=Bf(),An(N,new PS(N,I)),Jf(h)}else iA(h);else if(V=b.s,V==3||V==0&&0<b.X||!(N==1&&TB(h,b)||N==2&&_0(h)))switch(I&&0<I.length&&(b=h.h,b.i=b.i.concat(I)),V){case 1:Pa(h,5);break;case 4:Pa(h,10);break;case 3:Pa(h,6);break;default:Pa(h,2)}}}function sA(h,b){let I=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(I*=2),I*b}function Pa(h,b){if(h.j.info("Error code "+b),b==2){var I=f(h.fb,h),N=h.Xa;const V=!N;N=new Ia(N||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Wf(N,"https"),Gf(N),V?yB(N.toString(),I):vB(N.toString(),I)}else In(2);h.G=0,h.l&&h.l.sa(b),lA(h),tA(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),In(2)):(this.j.info("Failed to ping google.com"),In(1))};function lA(h){if(h.G=0,h.ka=[],h.l){const b=VS(h.h);(b.length!=0||h.i.length!=0)&&(y(h.ka,b),y(h.ka,h.i),h.h.i.length=0,m(h.i),h.i.length=0),h.l.ra()}}function uA(h,b,I){var N=I instanceof Ia?yi(I):new Ia(I);if(N.g!="")b&&(N.g=b+"."+N.g),Kf(N,N.s);else{var V=s.location;N=V.protocol,b=b?b+"."+V.hostname:V.hostname,V=+V.port;var z=new Ia(null);N&&Wf(z,N),b&&(z.g=b),V&&Kf(z,V),I&&(z.l=I),N=z}return I=h.D,b=h.ya,I&&b&&tt(N,I,b),tt(N,"VER",h.la),Nc(h,N),N}function cA(h,b,I){if(b&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=h.Ca&&!h.pa?new bt(new Hf({eb:I})):new bt(h.pa),b.Ha(h.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function dA(){}t=dA.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ep(){}ep.prototype.g=function(h,b){return new Kn(h,b)};function Kn(h,b){dn.call(this),this.g=new eA(b),this.l=h,this.h=b&&b.messageUrlParams||null,h=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(h?h["X-WebChannel-Content-Type"]=b.messageContentType:h={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(h?h["X-WebChannel-Client-Profile"]=b.va:h={"X-WebChannel-Client-Profile":b.va}),this.g.S=h,(h=b&&b.Sb)&&!w(h)&&(this.g.m=h),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!w(b)&&(this.g.D=b,h=this.h,h!==null&&b in h&&(h=this.h,b in h&&delete h[b])),this.j=new Xs(this)}g(Kn,dn),Kn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kn.prototype.close=function(){v0(this.g)},Kn.prototype.o=function(h){var b=this.g;if(typeof h=="string"){var I={};I.__data__=h,h=I}else this.u&&(I={},I.__data__=a0(h),h=I);b.i.push(new sB(b.Ya++,h)),b.G==3&&Jf(b)},Kn.prototype.N=function(){this.g.l=null,delete this.j,v0(this.g),delete this.g,Kn.aa.N.call(this)};function hA(h){l0.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var b=h.__sm__;if(b){e:{for(const I in b){h=I;break e}h=void 0}(this.i=h)&&(h=this.i,b=b!==null&&h in b?b[h]:void 0),this.data=b}else this.data=h}g(hA,l0);function fA(){u0.call(this),this.status=1}g(fA,u0);function Xs(h){this.g=h}g(Xs,dA),Xs.prototype.ua=function(){An(this.g,"a")},Xs.prototype.ta=function(h){An(this.g,new hA(h))},Xs.prototype.sa=function(h){An(this.g,new fA)},Xs.prototype.ra=function(){An(this.g,"b")},ep.prototype.createWebChannel=ep.prototype.g,Kn.prototype.send=Kn.prototype.o,Kn.prototype.open=Kn.prototype.m,Kn.prototype.close=Kn.prototype.close,g$=function(){return new ep},m$=function(){return Bf()},p$=Sa,qb={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Uf.NO_ERROR=0,Uf.TIMEOUT=8,Uf.HTTP_ERROR=6,cm=Uf,OS.COMPLETE="complete",f$=OS,TS.EventType=xc,xc.OPEN="a",xc.CLOSE="b",xc.ERROR="c",xc.MESSAGE="d",dn.prototype.listen=dn.prototype.K,dd=TS,bt.prototype.listenOnce=bt.prototype.L,bt.prototype.getLastError=bt.prototype.Ka,bt.prototype.getLastErrorCode=bt.prototype.Ba,bt.prototype.getStatus=bt.prototype.Z,bt.prototype.getResponseJson=bt.prototype.Oa,bt.prototype.getResponseText=bt.prototype.oa,bt.prototype.send=bt.prototype.ea,bt.prototype.setWithCredentials=bt.prototype.Ha,h$=bt}).apply(typeof wp<"u"?wp:typeof self<"u"?self:typeof window<"u"?window:{});const sP="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=new zx("@firebase/firestore");function ul(){return Xo.logLevel}function qxe(t){Xo.setLogLevel(t)}function X(t,...e){if(Xo.logLevel<=Pe.DEBUG){const n=e.map(tE);Xo.debug(`Firestore (${Xu}): ${t}`,...n)}}function It(t,...e){if(Xo.logLevel<=Pe.ERROR){const n=e.map(tE);Xo.error(`Firestore (${Xu}): ${t}`,...n)}}function br(t,...e){if(Xo.logLevel<=Pe.WARN){const n=e.map(tE);Xo.warn(`Firestore (${Xu}): ${t}`,...n)}}function tE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t="Unexpected state"){const e=`FIRESTORE (${Xu}) INTERNAL ASSERTION FAILED: `+t;throw It(e),new Error(e)}function de(t,e){t||le()}function Wxe(t,e){t||le()}function re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y${constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qt.UNAUTHENTICATED))}shutdown(){}}class Wq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Kq{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){de(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Zt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Zt,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Zt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(de(typeof r.accessToken=="string"),new y$(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return de(e===null||typeof e=="string"),new Qt(e)}}class Gq{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Hq{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Gq(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class v${constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qq{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){de(this.o===void 0);const r=o=>{o.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,X("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(de(typeof n.token=="string"),this.R=n.token,new v$(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}class Kxe{getToken(){return Promise.resolve(new v$(""))}invalidateToken(){}start(e,n){}shutdown(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xq(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Xq(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function ye(t,e){return t<e?-1:t>e?1:0}function Zl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function b$(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Y(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new mt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.timestamp=e}static fromTimestamp(e){return new he(e)}static min(){return new he(new mt(0,0))}static max(){return new he(new mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(),r===void 0?r=e.length-n:r>e.length-n&&le(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return lh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof lh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Oe extends lh{construct(e,n,r){return new Oe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Oe(n)}static emptyPath(){return new Oe([])}}const Yq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ut extends lh{construct(e,n,r){return new ut(e,n,r)}static isValidIdentifier(e){return Yq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ut(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Y(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new Y(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Y(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ut(n)}static emptyPath(){return new ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae(Oe.fromString(e))}static fromName(e){return new ae(Oe.fromString(e).popFirst(5))}static empty(){return new ae(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new Oe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function Wb(t){return t.fields.find(e=>e.kind===2)}function $a(t){return t.fields.filter(e=>e.kind!==2)}function Jq(t,e){let n=ye(t.collectionGroup,e.collectionGroup);if(n!==0)return n;for(let r=0;r<Math.min(t.fields.length,e.fields.length);++r)if(n=Zq(t.fields[r],e.fields[r]),n!==0)return n;return ye(t.fields.length,e.fields.length)}eu.UNKNOWN_ID=-1;class is{constructor(e,n){this.fieldPath=e,this.kind=n}}function Zq(t,e){const n=ut.comparator(t.fieldPath,e.fieldPath);return n!==0?n:ye(t.kind,e.kind)}class tu{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new tu(0,or.min())}}function w$(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=he.fromTimestamp(r===1e9?new mt(n+1,0):new mt(n,r));return new or(i,ae.empty(),e)}function x$(t){return new or(t.readTime,t.key,-1)}class or{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new or(he.min(),ae.empty(),-1)}static max(){return new or(he.max(),ae.empty(),-1)}}function nE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pa(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==E$)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},l=>r(l))}),a=!0,o===i&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(i=>i?F.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new F((r,i)=>{const o=e.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{a[u]=c,++s,s===o&&r(a)},c=>i(c))}})}static doWhile(e,n){return new F((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Zt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Id(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=rE(r.target.error);this.V.reject(new Id(e,i))}}static open(e,n,r,i){try{return new Fy(n,e.transaction(i,r))}catch(o){throw new Id(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(X("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new t7(n)}}class ri{constructor(e,n,r){this.name=e,this.version=n,this.p=r,ri.S(Ut())===12.2&&It("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return X("SimpleDb","Removing database:",e),Ba(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!SM())return!1;if(ri.v())return!0;const e=Ut(),n=ri.S(e),r=0<n&&n<10,i=S$(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(X("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const a=o.target.result;n(a)},i.onblocked=()=>{r(new Id(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const a=o.target.error;a.name==="VersionError"?r(new Y(U.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new Y(U.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new Id(e,a))},i.onupgradeneeded=o=>{X("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const a=o.target.result;this.p.O(a,i.transaction,o.oldVersion,this.version).next(()=>{X("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.M(e);const s=Fy.open(this.db,e,o?"readonly":"readwrite",r),l=i(s).next(u=>(s.g(),u)).catch(u=>(s.abort(u),F.reject(u))).toPromise();return l.catch(()=>{}),await s.m,l}catch(s){const l=s,u=l.name!=="FirebaseError"&&a<3;if(X("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function S$(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class e7{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Ba(this.B.delete())}}class Id extends Y{constructor(e,n){super(U.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ma(t){return t.name==="IndexedDbTransactionError"}class t7{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(X("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(X("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ba(r)}add(e){return X("SimpleDb","ADD",this.store.name,e,e),Ba(this.store.add(e))}get(e){return Ba(this.store.get(e)).next(n=>(n===void 0&&(n=null),X("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return X("SimpleDb","DELETE",this.store.name,e),Ba(this.store.delete(e))}count(){return X("SimpleDb","COUNT",this.store.name),Ba(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new F((a,s)=>{o.onerror=l=>{s(l.target.error)},o.onsuccess=l=>{a(l.target.result)}})}{const o=this.cursor(r),a=[];return this.W(o,(s,l)=>{a.push(l)}).next(()=>a)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new F((i,o)=>{r.onerror=a=>{o(a.target.error)},r.onsuccess=a=>{i(a.target.result)}})}j(e,n){X("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(o,a,s)=>s.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new F((r,i)=>{n.onerror=o=>{const a=rE(o.target.error);i(a)},n.onsuccess=o=>{const a=o.target.result;a?e(a.primaryKey,a.value).next(s=>{s?a.continue():r()}):r()}})}W(e,n){const r=[];return new F((i,o)=>{e.onerror=a=>{o(a.target.error)},e.onsuccess=a=>{const s=a.target.result;if(!s)return void i();const l=new e7(s),u=n(s.primaryKey,s.value,l);if(u instanceof F){const c=u.catch(d=>(l.done(),F.reject(d)));r.push(c)}l.isDone?i():l.K===null?s.continue():s.continue(l.K)}}).next(()=>F.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ba(t){return new F((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=rE(r.target.error);n(i)}})}let lP=!1;function rE(t){const e=ri.S(Ut());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Y("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return lP||(lP=!0,setTimeout(()=>{throw r},0)),r}}return t}class n7{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){X("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{X("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){ma(n)?X("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await pa(n)}await this.X(6e4)})}}class r7{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,o=!0;return F.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(a=>{if(a!==null&&!r.has(a))return X("IndexBackfiller",`Processing collection: ${a}`),this.ne(e,a,i).next(s=>{i-=s,r.add(a)});o=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const a=o.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next(()=>this.re(i,o)).next(s=>(X("IndexBackfiller",`Updating offset: ${s}`),this.localStore.indexManager.updateCollectionGroup(e,n,s))).next(()=>a.size)}))}re(e,n){let r=e;return n.changes.forEach((i,o)=>{const a=x$(o);nE(a,r)>0&&(r=a)}),new or(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}jn.oe=-1;function gf(t){return t==null}function uh(t){return t===0&&1/t==-1/0}function A$(t){return typeof t=="number"&&Number.isInteger(t)&&!uh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=uP(e)),e=i7(t.get(n),e);return uP(e)}function i7(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function uP(t){return t+""}function Gr(t){const e=t.length;if(de(e>=2),e===2)return de(t.charAt(0)===""&&t.charAt(1)===""),Oe.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const a=t.indexOf("",o);switch((a<0||a>n)&&le(),t.charAt(a+1)){case"":const s=t.substring(o,a);let l;i.length===0?l=s:(i+=s,l=i,i=""),r.push(l);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:le()}o=a+2}return new Oe(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(t,e){return[t,xn(e)]}function I$(t,e,n){return[t,xn(e),n]}const o7={},a7=["prefixPath","collectionGroup","readTime","documentId"],s7=["prefixPath","collectionGroup","documentId"],l7=["collectionGroup","readTime","prefixPath","documentId"],u7=["canonicalId","targetId"],c7=["targetId","path"],d7=["path","targetId"],h7=["collectionId","parent"],f7=["indexId","uid"],p7=["uid","sequenceNumber"],m7=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],g7=["indexId","uid","orderedDocumentKey"],y7=["userId","collectionPath","documentId"],v7=["userId","collectionPath","largestBatchId"],_7=["userId","collectionGroup","largestBatchId"],P$=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],b7=[...P$,"documentOverlays"],O$=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],k$=O$,iE=[...k$,"indexConfiguration","indexState","indexEntries"],w7=iE,x7=[...iE,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb extends T${constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function zt(t,e){const n=re(t);return ri.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ga(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function C$(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function R$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){this.comparator=e,this.root=n||an.EMPTY}insert(e,n){return new et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xp(this.root,e,this.comparator,!1)}getReverseIterator(){return new xp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xp(this.root,e,this.comparator,!0)}}class xp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??an.RED,this.left=i??an.EMPTY,this.right=o??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new an(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return an.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();const e=this.left.check();if(e!==this.right.check())throw le();return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(e,n,r,i,o){return this}insert(e,n,r){return new an(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hP(this.data.getIterator())}getIteratorFrom(e){return new hP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof We)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new We(this.comparator);return n.data=e,n}}class hP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Zs(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(ut.comparator)}static empty(){return new Vn([])}unionWith(e){let n=new We(ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hxe(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new N$("Invalid base64 string: "+o):o}}(e);return new Et(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new Et(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Et.EMPTY_BYTE_STRING=new Et("");const E7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ki(t){if(de(!!t),typeof t=="string"){let e=0;const n=E7.exec(t);if(de(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:st(t.seconds),nanos:st(t.nanos)}}function st(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Gi(t){return typeof t=="string"?Et.fromBase64String(t):Et.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Uy(t){const e=t.mapValue.fields.__previous_value__;return By(e)?Uy(e):e}function ch(t){const e=Ki(t.mapValue.fields.__local_write_time__.timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e,n,r,i,o,a,s,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class ys{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ys("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ys&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},hm={nullValue:"NULL_VALUE"};function Yo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?By(t)?4:D$(t)?9007199254740991:zy(t)?10:11:le()}function di(t,e){if(t===e)return!0;const n=Yo(t);if(n!==Yo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ch(t).isEqual(ch(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=Ki(i.timestampValue),s=Ki(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Gi(i.bytesValue).isEqual(Gi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return st(i.geoPointValue.latitude)===st(o.geoPointValue.latitude)&&st(i.geoPointValue.longitude)===st(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return st(i.integerValue)===st(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=st(i.doubleValue),s=st(o.doubleValue);return a===s?uh(a)===uh(s):isNaN(a)&&isNaN(s)}return!1}(t,e);case 9:return Zl(t.arrayValue.values||[],e.arrayValue.values||[],di);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(dP(a)!==dP(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(s[l]===void 0||!di(a[l],s[l])))return!1;return!0}(t,e);default:return le()}}function dh(t,e){return(t.values||[]).find(n=>di(n,e))!==void 0}function Jo(t,e){if(t===e)return 0;const n=Yo(t),r=Yo(e);if(n!==r)return ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ye(t.booleanValue,e.booleanValue);case 2:return function(o,a){const s=st(o.integerValue||o.doubleValue),l=st(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return fP(t.timestampValue,e.timestampValue);case 4:return fP(ch(t),ch(e));case 5:return ye(t.stringValue,e.stringValue);case 6:return function(o,a){const s=Gi(o),l=Gi(a);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const s=o.split("/"),l=a.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=ye(s[u],l[u]);if(c!==0)return c}return ye(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const s=ye(st(o.latitude),st(a.latitude));return s!==0?s:ye(st(o.longitude),st(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return pP(t.arrayValue,e.arrayValue);case 10:return function(o,a){var s,l,u,c;const d=o.fields||{},f=a.fields||{},p=(s=d.value)===null||s===void 0?void 0:s.arrayValue,g=(l=f.value)===null||l===void 0?void 0:l.arrayValue,m=ye(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0);return m!==0?m:pP(p,g)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===Ro.mapValue&&a===Ro.mapValue)return 0;if(o===Ro.mapValue)return 1;if(a===Ro.mapValue)return-1;const s=o.fields||{},l=Object.keys(s),u=a.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const f=ye(l[d],c[d]);if(f!==0)return f;const p=Jo(s[l[d]],u[c[d]]);if(p!==0)return p}return ye(l.length,c.length)}(t.mapValue,e.mapValue);default:throw le()}}function fP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ye(t,e);const n=Ki(t),r=Ki(e),i=ye(n.seconds,r.seconds);return i!==0?i:ye(n.nanos,r.nanos)}function pP(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Jo(n[i],r[i]);if(o)return o}return ye(n.length,r.length)}function nu(t){return Gb(t)}function Gb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ki(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Gi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Gb(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${Gb(n.fields[a])}`;return i+"}"}(t.mapValue):le()}function fm(t){switch(Yo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uy(t);return e?16+fm(e):16;case 5:return 2*t.stringValue.length;case 6:return Gi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+fm(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ga(r.fields,(o,a)=>{i+=o.length+fm(a)}),i}(t.mapValue);default:throw le()}}function vs(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Hb(t){return!!t&&"integerValue"in t}function hh(t){return!!t&&"arrayValue"in t}function mP(t){return!!t&&"nullValue"in t}function gP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pm(t){return!!t&&"mapValue"in t}function zy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Pd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ga(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Pd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function D$(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const M$={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function S7(t){return"nullValue"in t?hm:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?vs(ys.empty(),ae.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?zy(t)?M$:{mapValue:{}}:le()}function A7(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?vs(ys.empty(),ae.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?M$:"mapValue"in t?zy(t)?{mapValue:{}}:Ro:le()}function yP(t,e){const n=Jo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function vP(t,e){const n=Jo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!pm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pd(n)}setAll(e){let n=ut.emptyPath(),r={},i=[];e.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=Pd(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());pm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return di(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];pm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ga(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new sn(Pd(this.value))}}function $$(t){const e=[];return ga(t.fields,(n,r)=>{const i=new ut([n]);if(pm(r)){const o=$$(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n,r,i,o,a,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new ot(e,0,he.min(),he.min(),he.min(),sn.empty(),0)}static newFoundDocument(e,n,r,i){return new ot(e,1,n,he.min(),r,i,0)}static newNoDocument(e,n){return new ot(e,2,n,he.min(),he.min(),sn.empty(),0)}static newUnknownDocument(e,n){return new ot(e,3,n,he.min(),he.min(),sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n){this.position=e,this.inclusive=n}}function _P(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=ae.comparator(ae.fromName(a.referenceValue),n.key):r=Jo(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function bP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!di(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n="asc"){this.field=e,this.dir=n}}function I7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let L$=class{};class ke extends L${constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new P7(e,n,r):n==="array-contains"?new C7(e,r):n==="in"?new z$(e,r):n==="not-in"?new R7(e,r):n==="array-contains-any"?new N7(e,r):new ke(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new O7(e,r):new k7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Jo(n,this.value)):n!==null&&Yo(this.value)===Yo(n)&&this.matchesComparison(Jo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ve extends L${constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ve(e,n)}matches(e){return ru(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ru(t){return t.op==="and"}function Qb(t){return t.op==="or"}function oE(t){return j$(t)&&ru(t)}function j$(t){for(const e of t.filters)if(e instanceof Ve)return!1;return!0}function Xb(t){if(t instanceof ke)return t.field.canonicalString()+t.op.toString()+nu(t.value);if(oE(t))return t.filters.map(e=>Xb(e)).join(",");{const e=t.filters.map(n=>Xb(n)).join(",");return`${t.op}(${e})`}}function V$(t,e){return t instanceof ke?function(r,i){return i instanceof ke&&r.op===i.op&&r.field.isEqual(i.field)&&di(r.value,i.value)}(t,e):t instanceof Ve?function(r,i){return i instanceof Ve&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,s)=>o&&V$(a,i.filters[s]),!0):!1}(t,e):void le()}function F$(t,e){const n=t.filters.concat(e);return Ve.create(n,t.op)}function B$(t){return t instanceof ke?function(n){return`${n.field.canonicalString()} ${n.op} ${nu(n.value)}`}(t):t instanceof Ve?function(n){return n.op.toString()+" {"+n.getFilters().map(B$).join(" ,")+"}"}(t):"Filter"}class P7 extends ke{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class O7 extends ke{constructor(e,n){super(e,"in",n),this.keys=U$("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class k7 extends ke{constructor(e,n){super(e,"not-in",n),this.keys=U$("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function U$(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class C7 extends ke{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hh(n)&&dh(n.arrayValue,this.value)}}class z$ extends ke{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&dh(this.value.arrayValue,n)}}class R7 extends ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(dh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!dh(this.value.arrayValue,n)}}class N7 extends ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>dh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(e,n=null,r=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.ue=null}}function Yb(t,e=null,n=[],r=[],i=null,o=null,a=null){return new D7(t,e,n,r,i,o,a)}function _s(t){const e=re(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Xb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),gf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>nu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>nu(r)).join(",")),e.ue=n}return e.ue}function yf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!I7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!V$(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bP(t.startAt,e.startAt)&&bP(t.endAt,e.endAt)}function tg(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function ng(t,e){return t.filters.filter(n=>n instanceof ke&&n.field.isEqual(e))}function wP(t,e,n){let r=hm,i=!0;for(const o of ng(t,e)){let a=hm,s=!0;switch(o.op){case"<":case"<=":a=S7(o.value);break;case"==":case"in":case">=":a=o.value;break;case">":a=o.value,s=!1;break;case"!=":case"not-in":a=hm}yP({value:r,inclusive:i},{value:a,inclusive:s})<0&&(r=a,i=s)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const a=n.position[o];yP({value:r,inclusive:i},{value:a,inclusive:n.inclusive})<0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}function xP(t,e,n){let r=Ro,i=!0;for(const o of ng(t,e)){let a=Ro,s=!0;switch(o.op){case">=":case">":a=A7(o.value),s=!1;break;case"==":case"in":case"<=":a=o.value;break;case"<":a=o.value,s=!1;break;case"!=":case"not-in":a=Ro}vP({value:r,inclusive:i},{value:a,inclusive:s})>0&&(r=a,i=s)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const a=n.position[o];vP({value:r,inclusive:i},{value:a,inclusive:n.inclusive})>0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n=null,r=[],i=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function q$(t,e,n,r,i,o,a,s){return new Zi(t,e,n,r,i,o,a,s)}function Yu(t){return new Zi(t)}function EP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function aE(t){return t.collectionGroup!==null}function Bl(t){const e=re(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new We(ut.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new fh(o,r))}),n.has(ut.keyField().canonicalString())||e.ce.push(new fh(ut.keyField(),r))}return e.ce}function En(t){const e=re(t);return e.le||(e.le=K$(e,Bl(t))),e.le}function W$(t){const e=re(t);return e.he||(e.he=K$(e,t.explicitOrderBy)),e.he}function K$(t,e){if(t.limitType==="F")return Yb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new fh(i.field,o)});const n=t.endAt?new Zo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Zo(t.startAt.position,t.startAt.inclusive):null;return Yb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Jb(t,e){const n=t.filters.concat([e]);return new Zi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function rg(t,e,n){return new Zi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vf(t,e){return yf(En(t),En(e))&&t.limitType===e.limitType}function G$(t){return`${_s(En(t))}|lt:${t.limitType}`}function cl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>B$(i)).join(", ")}]`),gf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>nu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>nu(i)).join(",")),`Target(${r})`}(En(t))}; limitType=${t.limitType})`}function _f(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ae.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Bl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,s,l){const u=_P(a,s,l);return a.inclusive?u<=0:u<0}(r.startAt,Bl(r),i)||r.endAt&&!function(a,s,l){const u=_P(a,s,l);return a.inclusive?u>=0:u>0}(r.endAt,Bl(r),i))}(t,e)}function H$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Q$(t){return(e,n)=>{let r=!1;for(const i of Bl(t)){const o=M7(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function M7(t,e,n){const r=t.field.isKeyField()?ae.comparator(e.key,n.key):function(o,a,s){const l=a.data.field(o),u=s.data.field(o);return l!==null&&u!==null?Jo(l,u):le()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ga(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return R$(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $7=new et(ae.comparator);function Fn(){return $7}const X$=new et(ae.comparator);function hd(...t){let e=X$;for(const n of t)e=e.insert(n.key,n);return e}function Y$(t){let e=X$;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Hr(){return Od()}function J$(){return Od()}function Od(){return new eo(t=>t.toString(),(t,e)=>t.isEqual(e))}const L7=new et(ae.comparator),j7=new We(ae.comparator);function xe(...t){let e=j7;for(const n of t)e=e.add(n);return e}const V7=new We(ye);function sE(){return V7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uh(e)?"-0":e}}function Z$(t){return{integerValue:""+t}}function eL(t,e){return A$(e)?Z$(e):lE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(){this._=void 0}}function F7(t,e,n){return t instanceof iu?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&By(o)&&(o=Uy(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof bs?nL(t,e):t instanceof ws?rL(t,e):function(i,o){const a=tL(i,o),s=TP(a)+TP(i.Pe);return Hb(a)&&Hb(i.Pe)?Z$(s):lE(i.serializer,s)}(t,e)}function B7(t,e,n){return t instanceof bs?nL(t,e):t instanceof ws?rL(t,e):n}function tL(t,e){return t instanceof ou?function(r){return Hb(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class iu extends qy{}class bs extends qy{constructor(e){super(),this.elements=e}}function nL(t,e){const n=iL(e);for(const r of t.elements)n.some(i=>di(i,r))||n.push(r);return{arrayValue:{values:n}}}class ws extends qy{constructor(e){super(),this.elements=e}}function rL(t,e){let n=iL(e);for(const r of t.elements)n=n.filter(i=>!di(i,r));return{arrayValue:{values:n}}}class ou extends qy{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function TP(t){return st(t.integerValue||t.doubleValue)}function iL(t){return hh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n){this.field=e,this.transform=n}}function U7(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof bs&&i instanceof bs||r instanceof ws&&i instanceof ws?Zl(r.elements,i.elements,di):r instanceof ou&&i instanceof ou?di(r.Pe,i.Pe):r instanceof iu&&i instanceof iu}(t.transform,e.transform)}class z7{constructor(e,n){this.version=e,this.transformResults=n}}class ct{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ct}static exists(e){return new ct(void 0,e)}static updateTime(e){return new ct(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wy{}function oL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Zu(t.key,ct.none()):new Ju(t.key,t.data,ct.none());{const n=t.data,r=sn.empty();let i=new We(ut.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new to(t.key,r,new Vn(i.toArray()),ct.none())}}function q7(t,e,n){t instanceof Ju?function(i,o,a){const s=i.value.clone(),l=AP(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(t,e,n):t instanceof to?function(i,o,a){if(!mm(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=AP(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(aL(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function kd(t,e,n,r){return t instanceof Ju?function(o,a,s,l){if(!mm(o.precondition,a))return s;const u=o.value.clone(),c=IP(o.fieldTransforms,l,a);return u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof to?function(o,a,s,l){if(!mm(o.precondition,a))return s;const u=IP(o.fieldTransforms,l,a),c=a.data;return c.setAll(aL(o)),c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,a,s){return mm(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(t,e,n)}function W7(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=tL(r.transform,i||null);o!=null&&(n===null&&(n=sn.empty()),n.set(r.field,o))}return n||null}function SP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Zl(r,i,(o,a)=>U7(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ju extends Wy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class to extends Wy{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function aL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function AP(t,e,n){const r=new Map;de(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,B7(a,s,n[i]))}return r}function IP(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,F7(o,a,e))}return r}class Zu extends Wy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uE extends Wy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&q7(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=kd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=kd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=J$();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const l=oL(a,s);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&Zl(this.mutations,e.mutations,(n,r)=>SP(n,r))&&Zl(this.baseMutations,e.baseMutations,(n,r)=>SP(n,r))}}class dE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){de(e.mutations.length===r.length);let i=function(){return L7}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new dE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,Re;function lL(t){switch(t){default:return le();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function uL(t){if(t===void 0)return It("GRPC error has no .code"),U.UNKNOWN;switch(t){case Ct.OK:return U.OK;case Ct.CANCELLED:return U.CANCELLED;case Ct.UNKNOWN:return U.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return U.INTERNAL;case Ct.UNAVAILABLE:return U.UNAVAILABLE;case Ct.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Ct.NOT_FOUND:return U.NOT_FOUND;case Ct.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Ct.ABORTED:return U.ABORTED;case Ct.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Ct.DATA_LOSS:return U.DATA_LOSS;default:return le()}}(Re=Ct||(Ct={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ig=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7=new rs([4294967295,4294967295],0);function PP(t){const e=cL().encode(t),n=new d$;return n.update(e),new Uint8Array(n.digest())}function OP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new rs([n,r],0),new rs([i,o],0)]}class fE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new fd(`Invalid padding: ${n}`);if(r<0)throw new fd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new fd(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=rs.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(rs.fromNumber(r)));return i.compare(G7)===1&&(i=new rs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=PP(e),[r,i]=OP(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new fE(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(e){if(this.Ie===0)return;const n=PP(e),[r,i]=OP(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class fd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,xf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new wf(he.min(),i,new et(ye),Fn(),xe())}}class xf{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xf(r,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class dL{constructor(e,n){this.targetId=e,this.me=n}}class hL{constructor(e,n,r=Et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class kP{constructor(){this.fe=0,this.ge=RP(),this.pe=Et.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=xe(),n=xe(),r=xe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:le()}}),new xf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=RP()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,de(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class H7{constructor(e){this.Le=e,this.Be=new Map,this.ke=Fn(),this.qe=CP(),this.Qe=new et(ye)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(tg(o))if(r===0){const a=new ae(o.path);this.Ue(n,a,ot.newNoDocument(a,he.min()))}else de(r===1);else{const a=this.Ye(n);if(a!==r){const s=this.Ze(e),l=s?this.Xe(s,e,a):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}ig==null||ig.et(function(c,d,f,p,g){var m,y,_,w,v,A;const E={localCacheCount:c,existenceFilterCount:d.count,databaseId:f.database,projectId:f.projectId},S=d.unchangedNames;return S&&(E.bloomFilter={applied:g===0,hashCount:(m=S==null?void 0:S.hashCount)!==null&&m!==void 0?m:0,bitmapLength:(w=(_=(y=S==null?void 0:S.bits)===null||y===void 0?void 0:y.bitmap)===null||_===void 0?void 0:_.length)!==null&&w!==void 0?w:0,padding:(A=(v=S==null?void 0:S.bits)===null||v===void 0?void 0:v.padding)!==null&&A!==void 0?A:0,mightContain:x=>{var T;return(T=p==null?void 0:p.mightContain(x))!==null&&T!==void 0&&T}}),E}(a,e.me,this.Le.tt(),s,l))}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=Gi(r).toUint8Array()}catch(l){if(l instanceof N$)return br("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new fE(a,i,o)}catch(l){return br(l instanceof fd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.tt(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,a)=>{const s=this.Je(a);if(s){if(o.current&&tg(s.target)){const l=new ae(s.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,ot.newNoDocument(l,e))}o.be&&(n.set(a,o.ve()),o.Ce())}});let r=xe();this.qe.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const i=new wf(e,n,this.Qe,this.ke,r);return this.ke=Fn(),this.qe=CP(),this.Qe=new et(ye),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new kP,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new We(ye),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new kP),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function CP(){return new et(ae.comparator)}function RP(){return new et(ae.comparator)}const Q7=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),X7=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Y7=(()=>({and:"AND",or:"OR"}))();class J7{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zb(t,e){return t.useProto3Json||gf(e)?e:{value:e}}function au(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Z7(t,e){return au(t,e.toTimestamp())}function Ot(t){return de(!!t),he.fromTimestamp(function(n){const r=Ki(n);return new mt(r.seconds,r.nanos)}(t))}function pE(t,e){return ew(t,e).canonicalString()}function ew(t,e){const n=function(i){return new Oe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function pL(t){const e=Oe.fromString(t);return de(TL(e)),e}function ph(t,e){return pE(t.databaseId,e.path)}function ii(t,e){const n=pL(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(yL(n))}function mL(t,e){return pE(t.databaseId,e)}function gL(t){const e=pL(t);return e.length===4?Oe.emptyPath():yL(e)}function tw(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yL(t){return de(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function NP(t,e,n){return{name:ph(t,e),fields:n.value.mapValue.fields}}function vL(t,e,n){const r=ii(t,e.name),i=Ot(e.updateTime),o=e.createTime?Ot(e.createTime):he.min(),a=new sn({mapValue:{fields:e.fields}}),s=ot.newFoundDocument(r,i,o,a);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function eW(t,e){return"found"in e?function(r,i){de(!!i.found),i.found.name,i.found.updateTime;const o=ii(r,i.found.name),a=Ot(i.found.updateTime),s=i.found.createTime?Ot(i.found.createTime):he.min(),l=new sn({mapValue:{fields:i.found.fields}});return ot.newFoundDocument(o,a,s,l)}(t,e):"missing"in e?function(r,i){de(!!i.missing),de(!!i.readTime);const o=ii(r,i.missing),a=Ot(i.readTime);return ot.newNoDocument(o,a)}(t,e):le()}function tW(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:le()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(de(c===void 0||typeof c=="string"),Et.fromBase64String(c||"")):(de(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Et.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(u){const c=u.code===void 0?U.UNKNOWN:uL(u.code);return new Y(c,u.message||"")}(a);n=new hL(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ii(t,r.document.name),o=Ot(r.document.updateTime),a=r.document.createTime?Ot(r.document.createTime):he.min(),s=new sn({mapValue:{fields:r.document.fields}}),l=ot.newFoundDocument(i,o,a,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new gm(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ii(t,r.document),o=r.readTime?Ot(r.readTime):he.min(),a=ot.newNoDocument(i,o),s=r.removedTargetIds||[];n=new gm([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ii(t,r.document),o=r.removedTargetIds||[];n=new gm([],o,i,null)}else{if(!("filter"in e))return le();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new K7(i,o),s=r.targetId;n=new dL(s,a)}}return n}function mh(t,e){let n;if(e instanceof Ju)n={update:NP(t,e.key,e.value)};else if(e instanceof Zu)n={delete:ph(t,e.key)};else if(e instanceof to)n={update:NP(t,e.key,e.data),updateMask:sW(e.fieldMask)};else{if(!(e instanceof uE))return le();n={verify:ph(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const s=a.transform;if(s instanceof iu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof bs)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof ws)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof ou)return{fieldPath:a.field.canonicalString(),increment:s.Pe};throw le()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Z7(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:le()}(t,e.precondition)),n}function nw(t,e){const n=e.currentDocument?function(o){return o.updateTime!==void 0?ct.updateTime(Ot(o.updateTime)):o.exists!==void 0?ct.exists(o.exists):ct.none()}(e.currentDocument):ct.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,s){let l=null;if("setToServerValue"in s)de(s.setToServerValue==="REQUEST_TIME"),l=new iu;else if("appendMissingElements"in s){const c=s.appendMissingElements.values||[];l=new bs(c)}else if("removeAllFromArray"in s){const c=s.removeAllFromArray.values||[];l=new ws(c)}else"increment"in s?l=new ou(a,s.increment):le();const u=ut.fromServerFormat(s.fieldPath);return new bf(u,l)}(t,i)):[];if(e.update){e.update.name;const i=ii(t,e.update.name),o=new sn({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=function(l){const u=l.fieldPaths||[];return new Vn(u.map(c=>ut.fromServerFormat(c)))}(e.updateMask);return new to(i,o,a,n,r)}return new Ju(i,o,n,r)}if(e.delete){const i=ii(t,e.delete);return new Zu(i,n)}if(e.verify){const i=ii(t,e.verify);return new uE(i,n)}return le()}function nW(t,e){return t&&t.length>0?(de(e!==void 0),t.map(n=>function(i,o){let a=i.updateTime?Ot(i.updateTime):Ot(o);return a.isEqual(he.min())&&(a=Ot(o)),new z7(a,i.transformResults||[])}(n,e))):[]}function _L(t,e){return{documents:[mL(t,e.path)]}}function Ky(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=mL(t,i);const o=function(u){if(u.length!==0)return EL(Ve.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:Eo(f.field),direction:iW(f.dir)}}(c))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const s=Zb(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function bL(t,e,n,r){const{_t:i,parent:o}=Ky(t,e),a={},s=[];let l=0;return n.forEach(u=>{const c=r?u.alias:"aggregate_"+l++;a[c]=u.alias,u.aggregateType==="count"?s.push({alias:c,count:{}}):u.aggregateType==="avg"?s.push({alias:c,avg:{field:Eo(u.fieldPath)}}):u.aggregateType==="sum"&&s.push({alias:c,sum:{field:Eo(u.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:s,structuredQuery:i.structuredQuery},parent:i.parent},ut:a,parent:o}}function wL(t){let e=gL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){de(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(d){const f=xL(d);return f instanceof Ve&&oE(f)?f.getFilters():[f]}(n.where));let a=[];n.orderBy&&(a=function(d){return d.map(f=>function(g){return new fh(dl(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let s=null;n.limit&&(s=function(d){let f;return f=typeof d=="object"?d.value:d,gf(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,p=d.values||[];return new Zo(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,p=d.values||[];return new Zo(p,f)}(n.endAt)),q$(e,i,a,o,s,"F",l,u)}function rW(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function xL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=dl(n.unaryFilter.field);return ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=dl(n.unaryFilter.field);return ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=dl(n.unaryFilter.field);return ke.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=dl(n.unaryFilter.field);return ke.create(a,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(t):t.fieldFilter!==void 0?function(n){return ke.create(dl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ve.create(n.compositeFilter.filters.map(r=>xL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return le()}}(n.compositeFilter.op))}(t):le()}function iW(t){return Q7[t]}function oW(t){return X7[t]}function aW(t){return Y7[t]}function Eo(t){return{fieldPath:t.canonicalString()}}function dl(t){return ut.fromServerFormat(t.fieldPath)}function EL(t){return t instanceof ke?function(n){if(n.op==="=="){if(gP(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NAN"}};if(mP(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gP(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NOT_NAN"}};if(mP(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eo(n.field),op:oW(n.op),value:n.value}}}(t):t instanceof Ve?function(n){const r=n.getFilters().map(i=>EL(i));return r.length===1?r[0]:{compositeFilter:{op:aW(n.op),filters:r}}}(t):le()}function sW(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function TL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n,r,i,o=he.min(),a=he.min(),s=Et.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new Oi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.ct=e}}function lW(t,e){let n;if(e.document)n=vL(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ae.fromSegments(e.noDocument.path),i=Es(e.noDocument.readTime);n=ot.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return le();{const r=ae.fromSegments(e.unknownDocument.path),i=Es(e.unknownDocument.version);n=ot.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const o=new mt(i[0],i[1]);return he.fromTimestamp(o)}(e.readTime)),n}function DP(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:og(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,a){return{name:ph(o,a.key),fields:a.data.value.mapValue.fields,updateTime:au(o,a.version.toTimestamp()),createTime:au(o,a.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:xs(e.version)};else{if(!e.isUnknownDocument())return le();r.unknownDocument={path:n.path.toArray(),version:xs(e.version)}}return r}function og(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function xs(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Es(t){const e=new mt(t.seconds,t.nanoseconds);return he.fromTimestamp(e)}function Ua(t,e){const n=(e.baseMutations||[]).map(o=>nw(t.ct,o));for(let o=0;o<e.mutations.length-1;++o){const a=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const s=e.mutations[o+1];a.updateTransforms=s.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>nw(t.ct,o)),i=mt.fromMillis(e.localWriteTimeMs);return new cE(e.batchId,i,n,r)}function pd(t){const e=Es(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Es(t.lastLimboFreeSnapshotVersion):he.min();let r;return r=function(o){return o.documents!==void 0}(t.query)?function(o){return de(o.documents.length===1),En(Yu(gL(o.documents[0])))}(t.query):function(o){return En(wL(o))}(t.query),new Oi(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Et.fromBase64String(t.resumeToken))}function AL(t,e){const n=xs(e.snapshotVersion),r=xs(e.lastLimboFreeSnapshotVersion);let i;i=tg(e.target)?_L(t.ct,e.target):Ky(t.ct,e.target)._t;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:_s(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function mE(t){const e=wL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rg(e,e.limit,"L"):e}function n_(t,e){return new hE(e.largestBatchId,nw(t.ct,e.overlayMutation))}function MP(t,e){const n=e.path.lastSegment();return[t,xn(e.path.popLast()),n]}function $P(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:xs(r.readTime),documentKey:xn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uW{getBundleMetadata(e,n){return LP(e).get(n).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:Es(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,n){return LP(e).put(function(i){return{bundleId:i.id,createTime:xs(Ot(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return jP(e).get(n).next(r=>{if(r)return function(o){return{name:o.name,query:mE(o.bundledQuery),readTime:Es(o.readTime)}}(r)})}saveNamedQuery(e,n){return jP(e).put(function(i){return{name:i.name,readTime:xs(Ot(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function LP(t){return zt(t,"bundles")}function jP(t){return zt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new Gy(e,r)}getOverlay(e,n){return Uc(e).get(MP(this.userId,n)).next(r=>r?n_(this.serializer,r):null)}getOverlays(e,n){const r=Hr();return F.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,a)=>{const s=new hE(n,a);i.push(this.ht(e,s))}),F.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(a=>i.add(xn(a.getCollectionPath())));const o=[];return i.forEach(a=>{const s=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);o.push(Uc(e).j("collectionPathOverlayIndex",s))}),F.waitFor(o)}getOverlaysForCollection(e,n,r){const i=Hr(),o=xn(n),a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Uc(e).U("collectionPathOverlayIndex",a).next(s=>{for(const l of s){const u=n_(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=Hr();let a;const s=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Uc(e).J({index:"collectionGroupOverlayIndex",range:s},(l,u,c)=>{const d=n_(this.serializer,u);o.size()<i||d.largestBatchId===a?(o.set(d.getKey(),d),a=d.largestBatchId):c.done()}).next(()=>o)}ht(e,n){return Uc(e).put(function(i,o,a){const[s,l,u]=MP(o,a.mutation.key);return{userId:o,collectionPath:l,documentId:u,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:mh(i.ct,a.mutation)}}(this.serializer,this.userId,n))}}function Uc(t){return zt(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cW{Pt(e){return zt(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?Et.fromUint8Array(r):Et.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(st(e.integerValue));else if("doubleValue"in e){const r=st(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),uh(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Ki(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Gi(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?D$(e)?this.dt(n,Number.MAX_SAFE_INTEGER):zy(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):le()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const r=e.fields||{};this.dt(n,55);for(const i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;const o=e.fields||{};this.dt(n,53);const a="value",s=((i=(r=o[a].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(st(s)),this.Vt(a,n),this.Tt(o[a],n)}bt(e,n){const r=e.values||[];this.dt(n,50);for(const i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),ae.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}za.vt=new za;function dW(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function VP(t){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const a=dW(255&r[o]);if(i+=a,a!==8)break}return i}(t);return Math.ceil(e/8)}class hW{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const n=this.qt(e),r=VP(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(e){const n=this.qt(e),r=VP(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(o){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,o,!1),new Uint8Array(a.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class fW{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class pW{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class zc{constructor(){this.jt=new hW,this.Ht=new fW(this.jt),this.Jt=new pW(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new qa(this.indexId,this.documentKey,this.arrayValue,r)}}function ho(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=FP(t.arrayValue,e.arrayValue),n!==0?n:(n=FP(t.directionalValue,e.directionalValue),n!==0?n:ae.comparator(t.documentKey,e.documentKey)))}function FP(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.Xt=new We((n,r)=>ut.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(de(e.collectionGroup===this.collectionId),this.nn)return!1;const n=Wb(e);if(n!==void 0&&!this.sn(n))return!1;const r=$a(e);let i=new Set,o=0,a=0;for(;o<r.length&&this.sn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Xt.size>0){const s=this.Xt.getIterator().getNext();if(!i.has(s.field.canonicalString())){const l=r[o];if(!this.on(s,l)||!this._n(this.en[a++],l))return!1}++o}for(;o<r.length;++o){const s=r[o];if(a>=this.en.length||!this._n(this.en[a++],s))return!1}return!0}an(){if(this.nn)return null;let e=new We(ut.comparator);const n=[];for(const r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new is(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new is(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new is(r.field,r.dir==="asc"?0:1)));return new eu(eu.UNKNOWN_ID,this.collectionId,n,tu.empty())}sn(e){for(const n of this.tn)if(this.on(n,e))return!0;return!1}on(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}_n(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(t){var e,n;if(de(t instanceof ke||t instanceof Ve),t instanceof ke){if(t instanceof z$){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(o=>ke.create(t.field,"==",o)))||[];return Ve.create(i,"or")}return t}const r=t.filters.map(i=>IL(i));return Ve.create(r,t.op)}function mW(t){if(t.getFilters().length===0)return[];const e=ow(IL(t));return de(PL(e)),rw(e)||iw(e)?[e]:e.getFilters()}function rw(t){return t instanceof ke}function iw(t){return t instanceof Ve&&oE(t)}function PL(t){return rw(t)||iw(t)||function(n){if(n instanceof Ve&&Qb(n)){for(const r of n.getFilters())if(!rw(r)&&!iw(r))return!1;return!0}return!1}(t)}function ow(t){if(de(t instanceof ke||t instanceof Ve),t instanceof ke)return t;if(t.filters.length===1)return ow(t.filters[0]);const e=t.filters.map(r=>ow(r));let n=Ve.create(e,t.op);return n=ag(n),PL(n)?n:(de(n instanceof Ve),de(ru(n)),de(n.filters.length>1),n.filters.reduce((r,i)=>gE(r,i)))}function gE(t,e){let n;return de(t instanceof ke||t instanceof Ve),de(e instanceof ke||e instanceof Ve),n=t instanceof ke?e instanceof ke?function(i,o){return Ve.create([i,o],"and")}(t,e):UP(t,e):e instanceof ke?UP(e,t):function(i,o){if(de(i.filters.length>0&&o.filters.length>0),ru(i)&&ru(o))return F$(i,o.getFilters());const a=Qb(i)?i:o,s=Qb(i)?o:i,l=a.filters.map(u=>gE(u,s));return Ve.create(l,"or")}(t,e),ag(n)}function UP(t,e){if(ru(e))return F$(e,t.getFilters());{const n=e.filters.map(r=>gE(t,r));return Ve.create(n,"or")}}function ag(t){if(de(t instanceof ke||t instanceof Ve),t instanceof ke)return t;const e=t.getFilters();if(e.length===1)return ag(e[0]);if(j$(t))return t;const n=e.map(i=>ag(i)),r=[];return n.forEach(i=>{i instanceof ke?r.push(i):i instanceof Ve&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Ve.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gW{constructor(){this.un=new yE}addToCollectionParentIndex(e,n){return this.un.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(or.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(or.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class yE{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new We(Oe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new We(Oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep=new Uint8Array(0);class yW{constructor(e,n){this.databaseId=n,this.cn=new yE,this.ln=new eo(r=>_s(r),(r,i)=>yf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.cn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.cn.add(n)});const o={collectionId:r,parent:xn(i)};return zP(e).put(o)}return F.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[b$(n),""],!1,!0);return zP(e).U(i).next(o=>{for(const a of o){if(a.collectionId!==n)break;r.push(Gr(a.parent))}return r})}addFieldIndex(e,n){const r=qc(e),i=function(s){return{indexId:s.indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const o=r.add(i);if(n.indexState){const a=tl(e);return o.next(s=>{a.put($P(s,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=qc(e),i=tl(e),o=el(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=qc(e),r=el(e),i=tl(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return F.forEach(this.hn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new BP(r).an();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){const r=el(e);let i=!0;const o=new Map;return F.forEach(this.hn(n),a=>this.Pn(e,a).next(s=>{i&&(i=!!s),o.set(a,s)})).next(()=>{if(i){let a=xe();const s=[];return F.forEach(o,(l,u)=>{X("IndexedDbIndexManager",`Using index ${function(v){return`id=${v.indexId}|cg=${v.collectionGroup}|f=${v.fields.map(A=>`${A.fieldPath}:${A.kind}`).join(",")}`}(l)} to execute ${_s(n)}`);const c=function(v,A){const E=Wb(A);if(E===void 0)return null;for(const S of ng(v,E.fieldPath))switch(S.op){case"array-contains-any":return S.value.arrayValue.values||[];case"array-contains":return[S.value]}return null}(u,l),d=function(v,A){const E=new Map;for(const S of $a(A))for(const x of ng(v,S.fieldPath))switch(x.op){case"==":case"in":E.set(S.fieldPath.canonicalString(),x.value);break;case"not-in":case"!=":return E.set(S.fieldPath.canonicalString(),x.value),Array.from(E.values())}return null}(u,l),f=function(v,A){const E=[];let S=!0;for(const x of $a(A)){const T=x.kind===0?wP(v,x.fieldPath,v.startAt):xP(v,x.fieldPath,v.startAt);E.push(T.value),S&&(S=T.inclusive)}return new Zo(E,S)}(u,l),p=function(v,A){const E=[];let S=!0;for(const x of $a(A)){const T=x.kind===0?xP(v,x.fieldPath,v.endAt):wP(v,x.fieldPath,v.endAt);E.push(T.value),S&&(S=T.inclusive)}return new Zo(E,S)}(u,l),g=this.In(l,u,f),m=this.In(l,u,p),y=this.Tn(l,u,d),_=this.En(l.indexId,c,g,f.inclusive,m,p.inclusive,y);return F.forEach(_,w=>r.G(w,n.limit).next(v=>{v.forEach(A=>{const E=ae.fromSegments(A.documentKey);a.has(E)||(a=a.add(E),s.push(E))})}))}).next(()=>s)}return F.resolve(null)})}hn(e){let n=this.ln.get(e);return n||(e.filters.length===0?n=[e]:n=mW(Ve.create(e.filters,"and")).map(r=>Yb(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,n),n)}En(e,n,r,i,o,a,s){const l=(n!=null?n.length:1)*Math.max(r.length,o.length),u=l/(n!=null?n.length:1),c=[];for(let d=0;d<l;++d){const f=n?this.dn(n[d/u]):Ep,p=this.An(e,f,r[d%u],i),g=this.Rn(e,f,o[d%u],a),m=s.map(y=>this.An(e,f,y,!0));c.push(...this.createRange(p,g,m))}return c}An(e,n,r,i){const o=new qa(e,ae.empty(),n,r);return i?o:o.Zt()}Rn(e,n,r,i){const o=new qa(e,ae.empty(),n,r);return i?o.Zt():o}Pn(e,n){const r=new BP(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let a=null;for(const s of o)r.rn(s)&&(!a||s.fields.length>a.fields.length)&&(a=s);return a})}getIndexType(e,n){let r=2;const i=this.hn(n);return F.forEach(i,o=>this.Pn(e,o).next(a=>{a?r!==0&&a.fields.length<function(l){let u=new We(ut.comparator),c=!1;for(const d of l.filters)for(const f of d.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?c=!0:u=u.add(f.field));for(const d of l.orderBy)d.field.isKeyField()||(u=u.add(d.field));return u.size+(c?1:0)}(o)&&(r=1):r=0})).next(()=>function(a){return a.limit!==null}(n)&&i.length>1&&r===2?1:r)}Vn(e,n){const r=new zc;for(const i of $a(e)){const o=n.data.field(i.fieldPath);if(o==null)return null;const a=r.Yt(i.kind);za.vt.It(o,a)}return r.zt()}dn(e){const n=new zc;return za.vt.It(e,n.Yt(0)),n.zt()}mn(e,n){const r=new zc;return za.vt.It(vs(this.databaseId,n),r.Yt(function(o){const a=$a(o);return a.length===0?0:a[a.length-1].kind}(e))),r.zt()}Tn(e,n,r){if(r===null)return[];let i=[];i.push(new zc);let o=0;for(const a of $a(e)){const s=r[o++];for(const l of i)if(this.fn(n,a.fieldPath)&&hh(s))i=this.gn(i,a,s);else{const u=l.Yt(a.kind);za.vt.It(s,u)}}return this.pn(i)}In(e,n,r){return this.Tn(e,n,r.position)}pn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}gn(e,n,r){const i=[...e],o=[];for(const a of r.arrayValue.values||[])for(const s of i){const l=new zc;l.seed(s.zt()),za.vt.It(a,l.Yt(n.kind)),o.push(l)}return o}fn(e,n){return!!e.filters.find(r=>r instanceof ke&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=qc(e),i=tl(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(o=>{const a=[];return F.forEach(o,s=>i.get([s.indexId,this.uid]).next(l=>{a.push(function(c,d){const f=d?new tu(d.sequenceNumber,new or(Es(d.readTime),new ae(Gr(d.documentKey)),d.largestBatchId)):tu.empty(),p=c.fields.map(([g,m])=>new is(ut.fromServerFormat(g),m));return new eu(c.indexId,c.collectionGroup,p,f)}(s,l))})).next(()=>a)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:ye(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=qc(e),o=tl(e);return this.yn(e).next(a=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(s=>F.forEach(s,l=>o.put($P(l.indexId,this.uid,a,r)))))}updateIndexEntries(e,n){const r=new Map;return F.forEach(n,(i,o)=>{const a=r.get(i.collectionGroup);return(a?F.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next(s=>(r.set(i.collectionGroup,s),F.forEach(s,l=>this.wn(e,i,l).next(u=>{const c=this.Sn(o,l);return u.isEqual(c)?F.resolve():this.bn(e,o,l,u,c)}))))})}Dn(e,n,r,i){return el(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,n.key),documentKey:n.key.path.toArray()})}vn(e,n,r,i){return el(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,n.key),n.key.path.toArray()])}wn(e,n,r){const i=el(e);let o=new We(ho);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,n)])},(a,s)=>{o=o.add(new qa(r.indexId,n,s.arrayValue,s.directionalValue))}).next(()=>o)}Sn(e,n){let r=new We(ho);const i=this.Vn(n,e);if(i==null)return r;const o=Wb(n);if(o!=null){const a=e.data.field(o.fieldPath);if(hh(a))for(const s of a.arrayValue.values||[])r=r.add(new qa(n.indexId,e.key,this.dn(s),i))}else r=r.add(new qa(n.indexId,e.key,Ep,i));return r}bn(e,n,r,i,o){X("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const a=[];return function(l,u,c,d,f){const p=l.getIterator(),g=u.getIterator();let m=Zs(p),y=Zs(g);for(;m||y;){let _=!1,w=!1;if(m&&y){const v=c(m,y);v<0?w=!0:v>0&&(_=!0)}else m!=null?w=!0:_=!0;_?(d(y),y=Zs(g)):w?(f(m),m=Zs(p)):(m=Zs(p),y=Zs(g))}}(i,o,ho,s=>{a.push(this.Dn(e,n,r,s))},s=>{a.push(this.vn(e,n,r,s))}),F.waitFor(a)}yn(e){let n=1;return tl(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((a,s)=>ho(a,s)).filter((a,s,l)=>!s||ho(a,l[s-1])!==0);const i=[];i.push(e);for(const a of r){const s=ho(a,e),l=ho(a,n);if(s===0)i[0]=e.Zt();else if(s>0&&l<0)i.push(a),i.push(a.Zt());else if(l>0)break}i.push(n);const o=[];for(let a=0;a<i.length;a+=2){if(this.Cn(i[a],i[a+1]))return[];const s=[i[a].indexId,this.uid,i[a].arrayValue,i[a].directionalValue,Ep,[]],l=[i[a+1].indexId,this.uid,i[a+1].arrayValue,i[a+1].directionalValue,Ep,[]];o.push(IDBKeyRange.bound(s,l))}return o}Cn(e,n){return ho(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(qP)}getMinOffset(e,n){return F.mapArray(this.hn(n),r=>this.Pn(e,r).next(i=>i||le())).next(qP)}}function zP(t){return zt(t,"collectionParents")}function el(t){return zt(t,"indexEntries")}function qc(t){return zt(t,"indexConfiguration")}function tl(t){return zt(t,"indexState")}function qP(t){de(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;nE(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new or(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),o=[],a=IDBKeyRange.only(n.batchId);let s=0;const l=r.J({range:a},(c,d,f)=>(s++,f.delete()));o.push(l.next(()=>{de(s===1)}));const u=[];for(const c of n.mutations){const d=I$(e,c.key.path,n.batchId);o.push(i.delete(d)),u.push(c.key)}return F.waitFor(o).next(()=>u)}function sg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw le();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(41943040,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class Hy{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,n,r,i){de(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new Hy(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fo(e).J({index:"userMutationsIndex",range:r},(i,o,a)=>{n=!1,a.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=hl(e),a=fo(e);return a.add({}).next(s=>{de(typeof s=="number");const l=new cE(s,n,r,i),u=function(p,g,m){const y=m.baseMutations.map(w=>mh(p.ct,w)),_=m.mutations.map(w=>mh(p.ct,w));return{userId:g,batchId:m.batchId,localWriteTimeMs:m.localWriteTime.toMillis(),baseMutations:y,mutations:_}}(this.serializer,this.userId,l),c=[];let d=new We((f,p)=>ye(f.canonicalString(),p.canonicalString()));for(const f of i){const p=I$(this.userId,f.key.path,s);d=d.add(f.key.path.popLast()),c.push(a.put(u)),c.push(o.put(p,o7))}return d.forEach(f=>{c.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Fn[s]=l.keys()}),F.waitFor(c).next(()=>l)})}lookupMutationBatch(e,n){return fo(e).get(n).next(r=>r?(de(r.userId===this.userId),Ua(this.serializer,r)):null)}Mn(e,n){return this.Fn[n]?F.resolve(this.Fn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Fn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return fo(e).J({index:"userMutationsIndex",range:i},(a,s,l)=>{s.userId===this.userId&&(de(s.batchId>=r),o=Ua(this.serializer,s)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return fo(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,o,a)=>{r=o.batchId,a.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fo(e).U("userMutationsIndex",n).next(r=>r.map(i=>Ua(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=dm(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return hl(e).J({range:i},(a,s,l)=>{const[u,c,d]=a,f=Gr(c);if(u===this.userId&&n.path.isEqual(f))return fo(e).get(d).next(p=>{if(!p)throw le();de(p.userId===this.userId),o.push(Ua(this.serializer,p))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new We(ye);const i=[];return n.forEach(o=>{const a=dm(this.userId,o.path),s=IDBKeyRange.lowerBound(a),l=hl(e).J({range:s},(u,c,d)=>{const[f,p,g]=u,m=Gr(p);f===this.userId&&o.path.isEqual(m)?r=r.add(g):d.done()});i.push(l)}),F.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=dm(this.userId,r),a=IDBKeyRange.lowerBound(o);let s=new We(ye);return hl(e).J({range:a},(l,u,c)=>{const[d,f,p]=l,g=Gr(f);d===this.userId&&r.isPrefixOf(g)?g.length===i&&(s=s.add(p)):c.done()}).next(()=>this.xn(e,s))}xn(e,n){const r=[],i=[];return n.forEach(o=>{i.push(fo(e).get(o).next(a=>{if(a===null)throw le();de(a.userId===this.userId),r.push(Ua(this.serializer,a))}))}),F.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return OL(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.On(n.batchId)}),F.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return F.resolve();const r=IDBKeyRange.lowerBound(function(a){return[a]}(this.userId)),i=[];return hl(e).J({range:r},(o,a,s)=>{if(o[0]===this.userId){const l=Gr(o[1]);i.push(l)}else s.done()}).next(()=>{de(i.length===0)})})}containsKey(e,n){return kL(e,this.userId,n)}Nn(e){return CL(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function kL(t,e,n){const r=dm(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let a=!1;return hl(t).J({range:o,H:!0},(s,l,u)=>{const[c,d,f]=s;c===e&&d===i&&(a=!0),u.done()}).next(()=>a)}function fo(t){return zt(t,"mutations")}function hl(t){return zt(t,"documentMutations")}function CL(t){return zt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ts(0)}static kn(){return new Ts(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vW{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.qn(e).next(n=>{const r=new Ts(n.highestTargetId);return n.highestTargetId=r.next(),this.Qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(n=>he.fromTimestamp(new mt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Qn(e,i)))}addTargetData(e,n){return this.Kn(e,n).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(n,r),this.Qn(e,r))))}updateTargetData(e,n){return this.Kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>nl(e).delete(n.targetId)).next(()=>this.qn(e)).next(r=>(de(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return nl(e).J((a,s)=>{const l=pd(s);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,o.push(this.removeTargetData(e,l)))}).next(()=>F.waitFor(o)).next(()=>i)}forEachTarget(e,n){return nl(e).J((r,i)=>{const o=pd(i);n(o)})}qn(e){return KP(e).get("targetGlobalKey").next(n=>(de(n!==null),n))}Qn(e,n){return KP(e).put("targetGlobalKey",n)}Kn(e,n){return nl(e).put(AL(this.serializer,n))}$n(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=_s(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return nl(e).J({range:i,index:"queryTargetsIndex"},(a,s,l)=>{const u=pd(s);yf(n,u.target)&&(o=u,l.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=To(e);return n.forEach(a=>{const s=xn(a.path);i.push(o.put({targetId:r,path:s})),i.push(this.referenceDelegate.addReference(e,r,a))}),F.waitFor(i)}removeMatchingKeys(e,n,r){const i=To(e);return F.forEach(n,o=>{const a=xn(o.path);return F.waitFor([i.delete([r,a]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=To(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=To(e);let o=xe();return i.J({range:r,H:!0},(a,s,l)=>{const u=Gr(a[1]),c=new ae(u);o=o.add(c)}).next(()=>o)}containsKey(e,n){const r=xn(n.path),i=IDBKeyRange.bound([r],[b$(r)],!1,!0);let o=0;return To(e).J({index:"documentTargetsIndex",H:!0,range:i},([a,s],l,u)=>{a!==0&&(o++,u.done())}).next(()=>o>0)}ot(e,n){return nl(e).get(n).next(r=>r?pd(r):null)}}function nl(t){return zt(t,"targets")}function KP(t){return zt(t,"targetGlobal")}function To(t){return zt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP([t,e],[n,r]){const i=ye(t,n);return i===0?ye(e,r):i}class _W{constructor(e){this.Un=e,this.buffer=new We(GP),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();GP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class RL{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){X("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ma(n)?X("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await pa(n)}await this.Hn(3e5)})}}class bW{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(jn.oe);const r=new _W(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(WP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WP):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,o,a,s,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,a=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,s=Date.now(),this.removeTargets(e,r,n))).next(d=>(o=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),ul()<=Pe.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-c}ms
	Determined least recently used ${i} in `+(s-a)+`ms
	Removed ${o} targets in `+(l-s)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:d})))}}function NL(t,e){return new bW(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wW{constructor(e,n){this.db=e,this.garbageCollector=NL(this,n)}Yn(e){const n=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Zn(e,n){return this.tr(e,(r,i)=>n(i))}addReference(e,n,r){return Tp(e,r)}removeReference(e,n,r){return Tp(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Tp(e,n)}nr(e,n){return function(i,o){let a=!1;return CL(i).Y(s=>kL(i,s,o).next(l=>(l&&(a=!0),F.resolve(!l)))).next(()=>a)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.tr(e,(a,s)=>{if(s<=n){const l=this.nr(e,a).next(u=>{if(!u)return o++,r.getEntry(e,a).next(()=>(r.removeEntry(a,he.min()),To(e).delete(function(d){return[0,xn(d.path)]}(a))))});i.push(l)}}).next(()=>F.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Tp(e,n)}tr(e,n){const r=To(e);let i,o=jn.oe;return r.J({index:"documentTargetsIndex"},([a,s],{path:l,sequenceNumber:u})=>{a===0?(o!==jn.oe&&n(new ae(Gr(i)),o),o=u,i=l):o=jn.oe}).next(()=>{o!==jn.oe&&n(new ae(Gr(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Tp(t,e){return To(t).put(function(r,i){return{targetId:0,path:xn(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(){this.changes=new eo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ot.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xW{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Oa(e).put(r)}removeEntry(e,n,r){return Oa(e).delete(function(o,a){const s=o.path.toArray();return[s.slice(0,s.length-2),s[s.length-2],og(a),s[s.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.rr(e,r)))}getEntry(e,n){let r=ot.newInvalidDocument(n);return Oa(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Wc(n))},(i,o)=>{r=this.ir(n,o)}).next(()=>r)}sr(e,n){let r={size:0,document:ot.newInvalidDocument(n)};return Oa(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Wc(n))},(i,o)=>{r={document:this.ir(n,o),size:sg(o)}}).next(()=>r)}getEntries(e,n){let r=Fn();return this._r(e,n,(i,o)=>{const a=this.ir(i,o);r=r.insert(i,a)}).next(()=>r)}ar(e,n){let r=Fn(),i=new et(ae.comparator);return this._r(e,n,(o,a)=>{const s=this.ir(o,a);r=r.insert(o,s),i=i.insert(o,sg(a))}).next(()=>({documents:r,ur:i}))}_r(e,n,r){if(n.isEmpty())return F.resolve();let i=new We(XP);n.forEach(l=>i=i.add(l));const o=IDBKeyRange.bound(Wc(i.first()),Wc(i.last())),a=i.getIterator();let s=a.getNext();return Oa(e).J({index:"documentKeyIndex",range:o},(l,u,c)=>{const d=ae.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;s&&XP(s,d)<0;)r(s,null),s=a.getNext();s&&s.isEqual(d)&&(r(s,u),s=a.hasNext()?a.getNext():null),s?c.$(Wc(s)):c.done()}).next(()=>{for(;s;)r(s,null),s=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){const a=n.path,s=[a.popLast().toArray(),a.lastSegment(),og(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Oa(e).U(IDBKeyRange.bound(s,l,!0)).next(u=>{o==null||o.incrementDocumentReadCount(u.length);let c=Fn();for(const d of u){const f=this.ir(ae.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);f.isFoundDocument()&&(_f(n,f)||i.has(f.key))&&(c=c.insert(f.key,f))}return c})}getAllFromCollectionGroup(e,n,r,i){let o=Fn();const a=QP(n,r),s=QP(n,or.max());return Oa(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,s,!0)},(l,u,c)=>{const d=this.ir(ae.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);o=o.insert(d.key,d),o.size===i&&c.done()}).next(()=>o)}newChangeBuffer(e){return new EW(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return HP(e).get("remoteDocumentGlobalKey").next(n=>(de(!!n),n))}rr(e,n){return HP(e).put("remoteDocumentGlobalKey",n)}ir(e,n){if(n){const r=lW(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(he.min())))return r}return ot.newInvalidDocument(e)}}function ML(t){return new xW(t)}class EW extends DL{constructor(e,n){super(),this.cr=e,this.trackRemovals=n,this.lr=new eo(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new We((o,a)=>ye(o.canonicalString(),a.canonicalString()));return this.changes.forEach((o,a)=>{const s=this.lr.get(o);if(n.push(this.cr.removeEntry(e,o,s.readTime)),a.isValidDocument()){const l=DP(this.cr.serializer,a);i=i.add(o.path.popLast());const u=sg(l);r+=u-s.size,n.push(this.cr.addEntry(e,o,l))}else if(r-=s.size,this.trackRemovals){const l=DP(this.cr.serializer,a.convertToNoDocument(he.min()));n.push(this.cr.addEntry(e,o,l))}}),i.forEach(o=>{n.push(this.cr.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.cr.updateMetadata(e,r)),F.waitFor(n)}getFromCache(e,n){return this.cr.sr(e,n).next(r=>(this.lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.cr.ar(e,n).next(({documents:r,ur:i})=>(i.forEach((o,a)=>{this.lr.set(o,{size:a,readTime:r.get(o).readTime})}),r))}}function HP(t){return zt(t,"remoteDocumentGlobal")}function Oa(t){return zt(t,"remoteDocumentsV14")}function Wc(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function QP(t,e){const n=e.documentKey.path.toArray();return[t,og(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function XP(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=ye(n[o],r[o]),i)return i;return i=ye(n.length,r.length),i||(i=ye(n[n.length-2],r[r.length-2]),i||ye(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TW{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&kd(r.mutation,i,Vn.empty(),mt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xe()){const i=Hr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=hd();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Hr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(e,n,r,i){let o=Fn();const a=Od(),s=function(){return Od()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof to)?o=o.insert(u.key,u):c!==void 0?(a.set(u.key,c.mutation.getFieldMask()),kd(c.mutation,u,c.mutation.getFieldMask(),mt.now())):a.set(u.key,Vn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>a.set(u,c)),n.forEach((u,c)=>{var d;return s.set(u,new TW(c,(d=a.get(u))!==null&&d!==void 0?d:null))}),s))}recalculateAndSaveOverlays(e,n){const r=Od();let i=new et((a,s)=>a-s),o=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const s of a)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Vn.empty();c=s.applyToLocalView(u,c),r.set(l,c);const d=(i.get(s.batchId)||xe()).add(l);i=i.insert(s.batchId,d)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,d=J$();c.forEach(f=>{if(!o.has(f)){const p=oL(n.get(f),r.get(f));p!==null&&d.set(f,p),o=o.add(f)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,d))}return F.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return ae.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):aE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):F.resolve(Hr());let s=-1,l=o;return a.next(u=>F.forEach(u,(c,d)=>(s<d.largestBatchId&&(s=d.largestBatchId),o.get(c)?F.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,xe())).next(c=>({batchId:s,changes:Y$(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(r=>{let i=hd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=hd();return this.indexManager.getCollectionParents(e,o).next(s=>F.forEach(s,l=>{const u=function(d,f){return new Zi(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,f)=>{a=a.insert(d,f)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((l,u)=>{const c=u.getKey();a.get(c)===null&&(a=a.insert(c,ot.newInvalidDocument(c)))});let s=hd();return a.forEach((l,u)=>{const c=o.get(l);c!==void 0&&kd(c.mutation,u,Vn.empty(),mt.now()),_f(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SW{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return F.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ot(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:mE(i.bundledQuery),readTime:Ot(i.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AW{constructor(){this.overlays=new et(ae.comparator),this.Ir=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Hr();return F.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const i=Hr(),o=n.length+1,a=new ae(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new et((u,c)=>u-c);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Hr(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=Hr(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return F.resolve(s)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new hE(n,r));let o=this.Ir.get(n);o===void 0&&(o=xe(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IW{constructor(){this.sessionToken=Et.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(){this.Tr=new We(Kt.Er),this.dr=new We(Kt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Kt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Kt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ae(new Oe([])),r=new Kt(n,e),i=new Kt(n,e+1),o=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),o.push(a.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ae(new Oe([])),r=new Kt(n,e),i=new Kt(n,e+1);let o=xe();return this.dr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new Kt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Kt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ae.comparator(e.key,n.key)||ye(e.wr,n.wr)}static Ar(e,n){return ye(e.wr,n.wr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PW{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new We(Kt.Er)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new cE(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.br=this.br.add(new Kt(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return F.resolve(a)}lookupMutationBatch(e,n){return F.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return F.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Kt(n,0),i=new Kt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],a=>{const s=this.Dr(a.wr);o.push(s)}),F.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new We(ye);return n.forEach(i=>{const o=new Kt(i,0),a=new Kt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],s=>{r=r.add(s.wr)})}),F.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ae.isDocumentKey(o)||(o=o.child(""));const a=new Kt(new ae(o),0);let s=new We(ye);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},a),F.resolve(this.Cr(s))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){de(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return F.forEach(n.mutations,i=>{const o=new Kt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Kt(n,0),i=this.br.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OW{constructor(e){this.Mr=e,this.docs=function(){return new et(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():ot.newInvalidDocument(n))}getEntries(e,n){let r=Fn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ot.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Fn();const a=n.path,s=new ae(a.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||nE(x$(c),r)<=0||(i.has(c.key)||_f(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return F.resolve(o)}getAllFromCollectionGroup(e,n,r,i){le()}Or(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new kW(this)}getSize(e){return F.resolve(this.size)}}class kW extends DL{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CW{constructor(e){this.persistence=e,this.Nr=new eo(n=>_s(n),yf),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.Lr=0,this.Br=new vE,this.targetCount=0,this.kr=Ts.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),F.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ts(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Kn(n),F.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),F.waitFor(o).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),F.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,n){this.qr={},this.overlays={},this.Qr=new jn(0),this.Kr=!1,this.Kr=!0,this.$r=new IW,this.referenceDelegate=e(this),this.Ur=new CW(this),this.indexManager=new gW,this.remoteDocumentCache=function(i){return new OW(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new SL(n),this.Gr=new SW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new AW,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new PW(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const i=new RW(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return F.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class RW extends T${constructor(e){super(),this.currentSequenceNumber=e}}class Qy{constructor(e){this.persistence=e,this.Jr=new vE,this.Yr=null}static Zr(e){return new Qy(e)}get Xr(){if(this.Yr)return this.Yr;throw le()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),F.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Xr,r=>{const i=ae.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,he.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return F.or([()=>F.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class lg{constructor(e,n){this.persistence=e,this.ti=new eo(r=>xn(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=NL(this,n)}static Zr(e,n){return new lg(e,n)}zr(){}jr(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Yn(e){const n=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}Zn(e,n){return F.forEach(this.ti,(r,i)=>this.nr(e,r,i).next(o=>o?F.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Or(e,a=>this.nr(e,a,n).next(s=>{s||(r++,o.removeEntry(a,he.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ti.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.ti.set(n,e.currentSequenceNumber),F.resolve()}Wr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=fm(e.data.value)),n}nr(e,n,r){return F.or([()=>this.persistence.Hr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ti.get(n);return F.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NW{constructor(e){this.serializer=e}O(e,n,r,i){const o=new Fy("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",cP,{unique:!0}),l.createObjectStore("documentMutations")}(e),YP(e),function(l){l.createObjectStore("remoteDocuments")}(e));let a=F.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),YP(e)),a=a.next(()=>function(l){const u=l.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:he.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",c)}(o))),r<4&&i>=4&&(r!==0&&(a=a.next(()=>function(l,u){return u.store("mutations").U().next(c=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",cP,{unique:!0});const d=u.store("mutations"),f=c.map(p=>d.put(p));return F.waitFor(f)})}(e,o))),a=a.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(a=a.next(()=>this.ni(o))),r<6&&i>=6&&(a=a.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ri(o)))),r<7&&i>=7&&(a=a.next(()=>this.ii(o))),r<8&&i>=8&&(a=a.next(()=>this.si(e,o))),r<9&&i>=9&&(a=a.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(a=a.next(()=>this.oi(o))),r<11&&i>=11&&(a=a.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(a=a.next(()=>{(function(l){const u=l.createObjectStore("documentOverlays",{keyPath:y7});u.createIndex("collectionPathOverlayIndex",v7,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",_7,{unique:!1})})(e)})),r<13&&i>=13&&(a=a.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:a7});u.createIndex("documentKeyIndex",s7),u.createIndex("collectionGroupIndex",l7)}(e)).next(()=>this._i(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(a=a.next(()=>this.ai(e,o))),r<15&&i>=15&&(a=a.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:f7}).createIndex("sequenceNumberIndex",p7,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:m7}).createIndex("documentKeyIndex",g7,{unique:!1})}(e))),r<16&&i>=16&&(a=a.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&i>=17&&(a=a.next(()=>{(function(l){l.createObjectStore("globals",{keyPath:"name"})})(e)})),a}ri(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=sg(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>F.forEach(i,o=>{const a=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",a).next(s=>F.forEach(s,l=>{de(l.userId===o.userId);const u=Ua(this.serializer,l);return OL(e,o.userId,u).next(()=>{})}))}))}ii(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.J((a,s)=>{const l=new Oe(a),u=function(d){return[0,xn(d)]}(l);o.push(n.get(u).next(c=>c?F.resolve():(d=>n.put({targetId:0,path:xn(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>F.waitFor(o))})}si(e,n){e.createObjectStore("collectionParents",{keyPath:h7});const r=n.store("collectionParents"),i=new yE,o=a=>{if(i.add(a)){const s=a.lastSegment(),l=a.popLast();return r.put({collectionId:s,parent:xn(l)})}};return n.store("remoteDocuments").J({H:!0},(a,s)=>{const l=new Oe(a);return o(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([a,s,l],u)=>{const c=Gr(s);return o(c.popLast())}))}oi(e){const n=e.store("targets");return n.J((r,i)=>{const o=pd(i),a=AL(this.serializer,o);return n.put(a)})}_i(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((o,a)=>{const s=n.store("remoteDocumentsV14"),l=function(d){return d.document?new ae(Oe.fromString(d.document.name).popFirst(5)):d.noDocument?ae.fromSegments(d.noDocument.path):d.unknownDocument?ae.fromSegments(d.unknownDocument.path):le()}(a).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(s.put(u))}).next(()=>F.waitFor(i))}ai(e,n){const r=n.store("mutations"),i=ML(this.serializer),o=new _E(Qy.Zr,this.serializer.ct);return r.U().next(a=>{const s=new Map;return a.forEach(l=>{var u;let c=(u=s.get(l.userId))!==null&&u!==void 0?u:xe();Ua(this.serializer,l).keys().forEach(d=>c=c.add(d)),s.set(l.userId,c)}),F.forEach(s,(l,u)=>{const c=new Qt(u),d=Gy.lt(this.serializer,c),f=o.getIndexManager(c),p=Hy.lt(c,this.serializer,f,o.referenceDelegate);return new $L(i,p,d,f).recalculateAndSaveOverlaysForDocumentKeys(new Kb(n,jn.oe),l).next()})})}}function YP(t){t.createObjectStore("targetDocuments",{keyPath:c7}).createIndex("documentTargetsIndex",d7,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",u7,{unique:!0}),t.createObjectStore("targetGlobal")}const r_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class bE{constructor(e,n,r,i,o,a,s,l,u,c,d=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ui=o,this.window=a,this.document=s,this.ci=u,this.li=c,this.hi=d,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=f=>Promise.resolve(),!bE.D())throw new Y(U.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new wW(this,i),this.Ai=n+"main",this.serializer=new SL(l),this.Ri=new ri(this.Ai,this.hi,new NW(this.serializer)),this.$r=new cW,this.Ur=new vW(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ML(this.serializer),this.Gr=new uW,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,c===!1&&It("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Y(U.FAILED_PRECONDITION,r_);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new jn(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Sp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(n=>this.isPrimary&&!n?this.bi(e).next(()=>!1):!!n&&this.Di(e).next(()=>!0))).catch(e=>{if(ma(e))return X("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return X("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Kc(e).get("owner").next(n=>F.resolve(this.vi(n)))}Ci(e){return Sp(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=zt(n,"clientMetadata");return r.U().next(i=>{const o=this.xi(i,18e5),a=i.filter(s=>o.indexOf(s)===-1);return F.forEach(a,s=>r.delete(s.clientId)).next(()=>a)})}).catch(()=>[]);if(this.Vi)for(const n of e)this.Vi.removeItem(this.Oi(n.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?F.resolve(!0):Kc(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new Y(U.FAILED_PRECONDITION,r_);return!1}}return!(!this.networkEnabled||!this.inForeground)||Sp(e).U().next(r=>this.xi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,s=this.networkEnabled===i.networkEnabled;if(o||a&&s)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&X("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new Kb(e,jn.oe);return this.bi(n).next(()=>this.Ci(n))}),this.Ri.close(),this.qi()}xi(e,n){return e.filter(r=>this.Mi(r.updateTimeMs,n)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Sp(e).U().next(n=>this.xi(n,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,n){return Hy.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new yW(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Gy.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,n,r){X("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",o=function(l){return l===17?x7:l===16?w7:l===15?iE:l===14?k$:l===13?O$:l===12?b7:l===11?P$:void le()}(this.hi);let a;return this.Ri.runTransaction(e,i,o,s=>(a=new Kb(s,this.Qr?this.Qr.next():jn.oe),n==="readwrite-primary"?this.wi(a).next(l=>!!l||this.Si(a)).next(l=>{if(!l)throw It(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new Y(U.FAILED_PRECONDITION,E$);return r(a)}).next(l=>this.Di(a).next(()=>l)):this.Ki(a).next(()=>r(a)))).then(s=>(a.raiseOnCommittedEvent(),s))}Ki(e){return Kc(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Y(U.FAILED_PRECONDITION,r_)})}Di(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Kc(e).put("owner",n)}static D(){return ri.D()}bi(e){const n=Kc(e);return n.get("owner").next(r=>this.vi(r)?(X("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):F.resolve())}Mi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(It(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const n=/(?:Version|Mobile)\/1[456]/;TM()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var n;try{const r=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(e)))!==null;return X("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return It("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){It("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Kc(t){return zt(t,"owner")}function Sp(t){return zt(t,"clientMetadata")}function wE(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=xe(),i=xe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new xE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DW{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return TM()?8:S$(Ut())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new DW;return this.Xi(e,n,a).next(s=>{if(o.result=s,this.zi)return this.es(e,n,a,s.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ul()<=Pe.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",cl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),F.resolve()):(ul()<=Pe.DEBUG&&X("QueryEngine","Query:",cl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ul()<=Pe.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",cl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,En(n))):F.resolve())}Yi(e,n){if(EP(n))return F.resolve(null);let r=En(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=rg(n,null,"F"),r=En(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=xe(...o);return this.Ji.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,s);return this.ns(n,u,a,l.readTime)?this.Yi(e,rg(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return EP(n)||i.isEqual(he.min())?F.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const a=this.ts(n,o);return this.ns(n,a,r,i)?F.resolve(null):(ul()<=Pe.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),cl(n)),this.rs(e,a,n,w$(i,-1)).next(s=>s))})}ts(e,n){let r=new We(Q$(e));return n.forEach((i,o)=>{_f(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return ul()<=Pe.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",cl(n)),this.Ji.getDocumentsMatchingQuery(e,n,or.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MW{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new et(ye),this._s=new eo(o=>_s(o),yf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $L(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function jL(t,e,n,r){return new MW(t,e,n,r)}async function VL(t,e){const n=re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let l=xe();for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:s}))})})}function $W(t,e){const n=re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const d=u.batch,f=d.keys();let p=F.resolve();return f.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(m=>{const y=u.docVersions.get(g);de(y!==null),m.version.compareTo(y)<0&&(d.applyToRemoteDocument(m,u),m.isValidDocument()&&(m.setReadTime(u.commitVersion),c.addEntry(m)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=xe();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function FL(t){const e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function LW(t,e){const n=re(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];e.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;s.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,d)));let p=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Et.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(m,y,_){return m.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,p,c)&&s.push(n.Ur.updateTargetData(o,p))});let l=Fn(),u=xe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),s.push(BL(o,a,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(he.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(d=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(c)}return F.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function BL(t,e,n){let r=xe(),i=xe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=Fn();return n.forEach((s,l)=>{const u=o.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(he.min())?(e.removeEntry(s,l.readTime),a=a.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(s,l)):X("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function jW(t,e){const n=re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function su(t,e){const n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,F.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new Oi(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function lu(t,e,n){const r=re(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!ma(a))throw a;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function ug(t,e,n){const r=re(t);let i=he.min(),o=xe();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,c){const d=re(l),f=d._s.get(c);return f!==void 0?F.resolve(d.os.get(f)):d.Ur.getTargetData(u,c)}(r,a,En(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:he.min(),n?o:xe())).next(s=>(qL(r,H$(e),s),{documents:s,Ts:o})))}function UL(t,e){const n=re(t),r=re(n.Ur),i=n.os.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",o=>r.ot(o,e).next(a=>a?a.target:null))}function zL(t,e){const n=re(t),r=n.us.get(e)||he.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.cs.getAllFromCollectionGroup(i,e,w$(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(qL(n,e,i),i))}function qL(t,e,n){let r=t.us.get(e)||he.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}async function VW(t,e,n,r){const i=re(t);let o=xe(),a=Fn();for(const u of n){const c=e.Es(u.metadata.name);u.document&&(o=o.add(c));const d=e.ds(u);d.setReadTime(e.As(u.metadata.readTime)),a=a.insert(c,d)}const s=i.cs.newChangeBuffer({trackRemovals:!0}),l=await su(i,function(c){return En(Yu(Oe.fromString(`__bundle__/docs/${c}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>BL(u,s,a).next(c=>(s.apply(u),c)).next(c=>i.Ur.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.Ur.addMatchingKeys(u,o,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,c.Ps,c.Is)).next(()=>c.Ps)))}async function FW(t,e,n=xe()){const r=await su(t,En(mE(e.bundledQuery))),i=re(t);return i.persistence.runTransaction("Save named query","readwrite",o=>{const a=Ot(e.readTime);if(r.snapshotVersion.compareTo(a)>=0)return i.Gr.saveNamedQuery(o,e);const s=r.withResumeToken(Et.EMPTY_BYTE_STRING,a);return i.os=i.os.insert(s.targetId,s),i.Ur.updateTargetData(o,s).next(()=>i.Ur.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Ur.addMatchingKeys(o,n,r.targetId)).next(()=>i.Gr.saveNamedQuery(o,e))})}function JP(t,e){return`firestore_clients_${t}_${e}`}function ZP(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function i_(t,e){return`firestore_targets_${t}_${e}`}class cg{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Rs(e,n,r){const i=JSON.parse(r);let o,a=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return a&&i.error&&(a=typeof i.error.message=="string"&&typeof i.error.code=="string",a&&(o=new Y(i.error.code,i.error.message))),a?new cg(e,n,i.state,o):(It("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Cd{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Rs(e,n){const r=JSON.parse(n);let i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new Y(r.error.code,r.error.message))),o?new Cd(e,r.state,i):(It("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class dg{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Rs(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=sE();for(let a=0;i&&a<r.activeTargetIds.length;++a)i=A$(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new dg(e,o):(It("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class EE{constructor(e,n){this.clientId=e,this.onlineState=n}static Rs(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new EE(n.clientId,n.onlineState):(It("SharedClientState",`Failed to parse online state: ${e}`),null)}}class aw{constructor(){this.activeTargetIds=sE()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class o_{constructor(e,n,r,i,o){this.window=e,this.ui=n,this.persistenceKey=r,this.ps=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new et(ye),this.started=!1,this.bs=[];const a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Ds=JP(this.persistenceKey,this.ps),this.vs=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new aw),this.Cs=new RegExp(`^firestore_clients_${a}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${a}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${a}_(\\d+)$`),this.xs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.Os=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Qi();for(const r of e){if(r===this.ps)continue;const i=this.getItem(JP(this.persistenceKey,r));if(i){const o=dg.Rs(r,i);o&&(this.Ss=this.Ss.insert(o.clientId,o))}}this.Ns();const n=this.storage.getItem(this.xs);if(n){const r=this.Ls(n);r&&this.Bs(r)}for(const r of this.bs)this.ws(r);this.bs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let n=!1;return this.Ss.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,n,r){this.qs(e,n,r),this.Qs(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(i_(this.persistenceKey,e));if(i){const o=Cd.Rs(e,i);o&&(r=o.state)}}return n&&this.Ks.fs(e),this.Ns(),r}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(i_(this.persistenceKey,e))}updateQueryState(e,n,r){this.$s(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Qs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return X("SharedClientState","READ",e,n),n}setItem(e,n){X("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){X("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){const n=e;if(n.storageArea===this.storage){if(X("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ds)return void It("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Cs.test(n.key)){if(n.newValue==null){const r=this.Gs(n.key);return this.zs(r,null)}{const r=this.js(n.key,n.newValue);if(r)return this.zs(r.clientId,r)}}else if(this.Fs.test(n.key)){if(n.newValue!==null){const r=this.Hs(n.key,n.newValue);if(r)return this.Js(r)}}else if(this.Ms.test(n.key)){if(n.newValue!==null){const r=this.Ys(n.key,n.newValue);if(r)return this.Zs(r)}}else if(n.key===this.xs){if(n.newValue!==null){const r=this.Ls(n.newValue);if(r)return this.Bs(r)}}else if(n.key===this.vs){const r=function(o){let a=jn.oe;if(o!=null)try{const s=JSON.parse(o);de(typeof s=="number"),a=s}catch(s){It("SharedClientState","Failed to read sequence number from WebStorage",s)}return a}(n.newValue);r!==jn.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.Os){const r=this.Xs(n.newValue);await Promise.all(r.map(i=>this.syncEngine.eo(i)))}}}else this.bs.push(n)})}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,n,r){const i=new cg(this.currentUser,e,n,r),o=ZP(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Vs())}Qs(e){const n=ZP(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Us(e){const n={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(n))}$s(e,n,r){const i=i_(this.persistenceKey,e),o=new Cd(e,n,r);this.setItem(i,o.Vs())}Ws(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Os,n)}Gs(e){const n=this.Cs.exec(e);return n?n[1]:null}js(e,n){const r=this.Gs(e);return dg.Rs(r,n)}Hs(e,n){const r=this.Fs.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return cg.Rs(new Qt(o),i,n)}Ys(e,n){const r=this.Ms.exec(e),i=Number(r[1]);return Cd.Rs(i,n)}Ls(e){return EE.Rs(e)}Xs(e){return JSON.parse(e)}async Js(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);X("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,n){const r=n?this.Ss.insert(e,n):this.Ss.remove(e),i=this.ks(this.Ss),o=this.ks(r),a=[],s=[];return o.forEach(l=>{i.has(l)||a.push(l)}),i.forEach(l=>{o.has(l)||s.push(l)}),this.syncEngine.io(a,s).then(()=>{this.Ss=r})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let n=sE();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class WL{constructor(){this.so=new aw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new aw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BW{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ap=null;function a_(){return Ap===null?Ap=function(){return 268435456+Math.round(2147483648*Math.random())}():Ap++,"0x"+Ap.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zW{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="WebChannelConnection";class qW extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,a){const s=a_(),l=this.xo(n,r.toUriEncodedString());X("RestConnection",`Sending RPC '${n}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,a),this.No(n,l,u,i).then(c=>(X("RestConnection",`Received RPC '${n}' ${s}: `,c),c),c=>{throw br("RestConnection",`RPC '${n}' ${s} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,a,s){return this.Mo(n,r,i,o,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}xo(n,r){const i=UW[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=a_();return new Promise((a,s)=>{const l=new h$;l.setWithCredentials(!0),l.listenOnce(f$.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case cm.NO_ERROR:const c=l.getResponseJson();X(gn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),a(c);break;case cm.TIMEOUT:X(gn,`RPC '${e}' ${o} timed out`),s(new Y(U.DEADLINE_EXCEEDED,"Request time out"));break;case cm.HTTP_ERROR:const d=l.getStatus();if(X(gn,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const g=function(y){const _=y.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(_)>=0?_:U.UNKNOWN}(p.status);s(new Y(g,p.message))}else s(new Y(U.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new Y(U.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{X(gn,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);X(gn,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=a_(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=g$(),s=m$(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");X(gn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=a.createWebChannel(c,l);let f=!1,p=!1;const g=new zW({Io:y=>{p?X(gn,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(f||(X(gn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),X(gn,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},To:()=>d.close()}),m=(y,_,w)=>{y.listen(_,v=>{try{w(v)}catch(A){setTimeout(()=>{throw A},0)}})};return m(d,dd.EventType.OPEN,()=>{p||(X(gn,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),m(d,dd.EventType.CLOSE,()=>{p||(p=!0,X(gn,`RPC '${e}' stream ${i} transport closed`),g.So())}),m(d,dd.EventType.ERROR,y=>{p||(p=!0,br(gn,`RPC '${e}' stream ${i} transport errored:`,y),g.So(new Y(U.UNAVAILABLE,"The operation could not be completed")))}),m(d,dd.EventType.MESSAGE,y=>{var _;if(!p){const w=y.data[0];de(!!w);const v=w,A=v.error||((_=v[0])===null||_===void 0?void 0:_.error);if(A){X(gn,`RPC '${e}' stream ${i} received error:`,A);const E=A.status;let S=function(P){const k=Ct[P];if(k!==void 0)return uL(k)}(E),x=A.message;S===void 0&&(S=U.INTERNAL,x="Unknown error status: "+E+" with message "+A.message),p=!0,g.So(new Y(S,x)),d.close()}else X(gn,`RPC '${e}' stream ${i} received:`,w),g.bo(w)}}),m(s,p$.STAT_EVENT,y=>{y.stat===qb.PROXY?X(gn,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===qb.NOPROXY&&X(gn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(){return typeof window<"u"?window:null}function ym(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(t){return new J7(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e,n,r,i,o,a,s,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new TE(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(It(n.toString()),It("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Y(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WW extends GL{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=tW(this.serializer,e),r=function(o){if(!("targetChange"in o))return he.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?he.min():a.readTime?Ot(a.readTime):he.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=tw(this.serializer),n.addTarget=function(o,a){let s;const l=a.target;if(s=tg(l)?{documents:_L(o,l)}:{query:Ky(o,l)._t},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=fL(o,a.resumeToken);const u=Zb(o,a.expectedCount);u!==null&&(s.expectedCount=u)}else if(a.snapshotVersion.compareTo(he.min())>0){s.readTime=au(o,a.snapshotVersion.toTimestamp());const u=Zb(o,a.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=rW(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=tw(this.serializer),n.removeTarget=e,this.a_(n)}}class KW extends GL{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return de(!!e.streamToken),this.lastStreamToken=e.streamToken,de(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){de(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=nW(e.writeResults,e.commitTime),r=Ot(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=tw(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>mh(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GW extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Y(U.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,ew(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(U.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Lo(e,ew(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Y(U.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class HW{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(It(n),this.D_=!1):X("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QW{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget(async()=>{ya(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=re(l);u.L_.add(4),await ec(u),u.q_.set("Unknown"),u.L_.delete(4),await Tf(u)}(this))})}),this.q_=new HW(r,i)}}async function Tf(t){if(ya(t))for(const e of t.B_)await e(!0)}async function ec(t){for(const e of t.B_)await e(!1)}function Xy(t,e){const n=re(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),IE(n)?AE(n):nc(n).r_()&&SE(n,e))}function uu(t,e){const n=re(t),r=nc(n);n.N_.delete(e),r.r_()&&HL(n,e),n.N_.size===0&&(r.r_()?r.o_():ya(n)&&n.q_.set("Unknown"))}function SE(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}nc(t).A_(e)}function HL(t,e){t.Q_.xe(e),nc(t).R_(e)}function AE(t){t.Q_=new H7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),nc(t).start(),t.q_.v_()}function IE(t){return ya(t)&&!nc(t).n_()&&t.N_.size>0}function ya(t){return re(t).L_.size===0}function QL(t){t.Q_=void 0}async function XW(t){t.q_.set("Online")}async function YW(t){t.N_.forEach((e,n)=>{SE(t,e)})}async function JW(t,e){QL(t),IE(t)?(t.q_.M_(e),AE(t)):t.q_.set("Unknown")}async function ZW(t,e,n){if(t.q_.set("Online"),e instanceof hL&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hg(t,r)}else if(e instanceof gm?t.Q_.Ke(e):e instanceof dL?t.Q_.He(e):t.Q_.We(e),!n.isEqual(he.min()))try{const r=await FL(t.localStore);n.compareTo(r)>=0&&await function(o,a){const s=o.Q_.rt(a);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,a))}}),s.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(Et.EMPTY_BYTE_STRING,c.snapshotVersion)),HL(o,l);const d=new Oi(c.target,l,u,c.sequenceNumber);SE(o,d)}),o.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await hg(t,r)}}async function hg(t,e,n){if(!ma(e))throw e;t.L_.add(1),await ec(t),t.q_.set("Offline"),n||(n=()=>FL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Tf(t)})}function XL(t,e){return e().catch(n=>hg(t,n,e))}async function tc(t){const e=re(t),n=ea(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;eK(e);)try{const i=await jW(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,tK(e,i)}catch(i){await hg(e,i)}YL(e)&&JL(e)}function eK(t){return ya(t)&&t.O_.length<10}function tK(t,e){t.O_.push(e);const n=ea(t);n.r_()&&n.V_&&n.m_(e.mutations)}function YL(t){return ya(t)&&!ea(t).n_()&&t.O_.length>0}function JL(t){ea(t).start()}async function nK(t){ea(t).p_()}async function rK(t){const e=ea(t);for(const n of t.O_)e.m_(n.mutations)}async function iK(t,e,n){const r=t.O_.shift(),i=dE.from(r,e,n);await XL(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await tc(t)}async function oK(t,e){e&&ea(t).V_&&await async function(r,i){if(function(a){return lL(a)&&a!==U.ABORTED}(i.code)){const o=r.O_.shift();ea(r).s_(),await XL(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await tc(r)}}(t,e),YL(t)&&JL(t)}async function tO(t,e){const n=re(t);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=ya(n);n.L_.add(3),await ec(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Tf(n)}async function sw(t,e){const n=re(t);e?(n.L_.delete(2),await Tf(n)):e||(n.L_.add(2),await ec(n),n.q_.set("Unknown"))}function nc(t){return t.K_||(t.K_=function(n,r,i){const o=re(n);return o.w_(),new WW(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:XW.bind(null,t),Ro:YW.bind(null,t),mo:JW.bind(null,t),d_:ZW.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),IE(t)?AE(t):t.q_.set("Unknown")):(await t.K_.stop(),QL(t))})),t.K_}function ea(t){return t.U_||(t.U_=function(n,r,i){const o=re(n);return o.w_(),new KW(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:nK.bind(null,t),mo:oK.bind(null,t),f_:rK.bind(null,t),g_:iK.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await tc(t)):(await t.U_.stop(),t.O_.length>0&&(X("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Zt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,s=new PE(e,n,a,i,o);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rc(t,e){if(It("AsyncQueue",`${e}: ${t}`),ma(t))return new Y(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=hd(),this.sortedSet=new et(this.comparator)}static emptySet(e){return new Ul(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ul)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ul;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(){this.W_=new et(ae.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):le():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class cu{constructor(e,n,r,i,o,a,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new cu(e,n,Ul.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aK{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class sK{constructor(){this.queries=rO(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=re(n),o=i.queries;i.queries=rO(),o.forEach((a,s)=>{for(const l of s.j_)l.onError(r)})})(this,new Y(U.ABORTED,"Firestore shutting down"))}}function rO(){return new eo(t=>G$(t),vf)}async function OE(t,e){const n=re(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new aK,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=rc(a,`Initialization of query '${cl(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&CE(n)}async function kE(t,e){const n=re(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.j_.indexOf(e);a>=0&&(o.j_.splice(a,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function lK(t,e){const n=re(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.j_)s.X_(i)&&(r=!0);a.z_=i}}r&&CE(n)}function uK(t,e,n){const r=re(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function CE(t){t.Y_.forEach(e=>{e.next()})}var lw,iO;(iO=lw||(lw={})).ea="default",iO.Cache="cache";class RE{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new cu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=cu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==lw.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cK{constructor(e,n){this.aa=e,this.byteLength=n}ua(){return"metadata"in this.aa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e){this.serializer=e}Es(e){return ii(this.serializer,e)}ds(e){return e.metadata.exists?vL(this.serializer,e.document,!1):ot.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Ot(e)}}class dK{constructor(e,n,r){this.ca=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ZL(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++n;const r=Oe.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ha(e){const n=new Map,r=new oO(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.Es(i.metadata.name);for(const a of i.metadata.queries){const s=(n.get(a)||xe()).add(o);n.set(a,s)}}return n}async complete(){const e=await VW(this.localStore,new oO(this.serializer),this.documents,this.ca.id),n=this.ha(this.documents);for(const r of this.queries)await FW(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}}}function ZL(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e){this.key=e}}class tj{constructor(e){this.key=e}}class nj{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=xe(),this.mutatedKeys=xe(),this.Aa=Q$(e),this.Ra=new Ul(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new nO,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const f=i.get(c),p=_f(this.query,d)?d:null,g=!!f&&this.mutatedKeys.has(f.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;f&&p?f.data.isEqual(p.data)?g!==m&&(r.track({type:3,doc:p}),y=!0):this.ga(f,p)||(r.track({type:2,doc:p}),y=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(s=!0)):!f&&p?(r.track({type:0,doc:p}),y=!0):f&&!p&&(r.track({type:1,doc:f}),y=!0,(l||u)&&(s=!0)),y&&(p?(a=a.add(p),o=m?o.add(c):o.delete(c)):(a=a.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:a,fa:r,ns:s,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((c,d)=>function(p,g){const m=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return m(p)-m(g)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(r),i=i!=null&&i;const s=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,a.length!==0||u?{snapshot:new cu(this.query,e.Ra,o,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new nO,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=xe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new tj(r))}),this.da.forEach(r=>{e.has(r)||n.push(new ej(r))}),n}ba(e){this.Ta=e.Ts,this.da=xe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return cu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class hK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fK{constructor(e){this.key=e,this.va=!1}}class pK{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new eo(s=>G$(s),vf),this.Ma=new Map,this.xa=new Set,this.Oa=new et(ae.comparator),this.Na=new Map,this.La=new vE,this.Ba={},this.ka=new Map,this.qa=Ts.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function mK(t,e,n=!0){const r=Yy(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await rj(r,e,n,!0),i}async function gK(t,e){const n=Yy(t);await rj(n,e,!0,!1)}async function rj(t,e,n,r){const i=await su(t.localStore,En(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await NE(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&Xy(t.remoteStore,i),s}async function NE(t,e,n,r,i){t.Ka=(d,f,p)=>async function(m,y,_,w){let v=y.view.ma(_);v.ns&&(v=await ug(m.localStore,y.query,!1).then(({documents:x})=>y.view.ma(x,v)));const A=w&&w.targetChanges.get(y.targetId),E=w&&w.targetMismatches.get(y.targetId)!=null,S=y.view.applyChanges(v,m.isPrimaryClient,A,E);return uw(m,y.targetId,S.wa),S.snapshot}(t,d,f,p);const o=await ug(t.localStore,e,!0),a=new nj(e,o.Ts),s=a.ma(o.documents),l=xf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(s,t.isPrimaryClient,l);uw(t,n,u.wa);const c=new hK(e,n,a);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function yK(t,e,n){const r=re(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(a=>!vf(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await lu(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&uu(r.remoteStore,i.targetId),du(r,i.targetId)}).catch(pa)):(du(r,i.targetId),await lu(r.localStore,i.targetId,!0))}async function vK(t,e){const n=re(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),uu(n.remoteStore,r.targetId))}async function _K(t,e,n){const r=LE(t);try{const i=await function(a,s){const l=re(a),u=mt.now(),c=s.reduce((p,g)=>p.add(g.key),xe());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Fn(),m=xe();return l.cs.getEntries(p,c).next(y=>{g=y,g.forEach((_,w)=>{w.isValidDocument()||(m=m.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(y=>{d=y;const _=[];for(const w of s){const v=W7(w,d.get(w.key).overlayedDocument);v!=null&&_.push(new to(w.key,v,$$(v.value.mapValue),ct.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,_,s)}).next(y=>{f=y;const _=y.applyToLocalDocumentSet(d,m);return l.documentOverlayCache.saveOverlays(p,y.batchId,_)})}).then(()=>({batchId:f.batchId,changes:Y$(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,s,l){let u=a.Ba[a.currentUser.toKey()];u||(u=new et(ye)),u=u.insert(s,l),a.Ba[a.currentUser.toKey()]=u}(r,i.batchId,n),await no(r,i.changes),await tc(r.remoteStore)}catch(i){const o=rc(i,"Failed to persist write");n.reject(o)}}async function ij(t,e){const n=re(t);try{const r=await LW(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Na.get(o);a&&(de(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?de(a.va):i.removedDocuments.size>0&&(de(a.va),a.va=!1))}),await no(n,r,e)}catch(r){await pa(r)}}function aO(t,e,n){const r=re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,a)=>{const s=a.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(a,s){const l=re(a);l.onlineState=s;let u=!1;l.queries.forEach((c,d)=>{for(const f of d.j_)f.Z_(s)&&(u=!0)}),u&&CE(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bK(t,e,n){const r=re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let a=new et(ae.comparator);a=a.insert(o,ot.newNoDocument(o,he.min()));const s=xe().add(o),l=new wf(he.min(),new Map,new et(ye),a,s);await ij(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),$E(r)}else await lu(r.localStore,e,!1).then(()=>du(r,e,n)).catch(pa)}async function wK(t,e){const n=re(t),r=e.batch.batchId;try{const i=await $W(n.localStore,e);ME(n,r,null),DE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await no(n,i)}catch(i){await pa(i)}}async function xK(t,e,n){const r=re(t);try{const i=await function(a,s){const l=re(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(d=>(de(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);ME(r,e,n),DE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await no(r,i)}catch(i){await pa(i)}}async function EK(t,e){const n=re(t);ya(n.remoteStore)||X("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(a){const s=re(a);return s.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>s.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===-1)return void e.resolve();const i=n.ka.get(r)||[];i.push(e),n.ka.set(r,i)}catch(r){const i=rc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function DE(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function ME(t,e,n){const r=re(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function du(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||oj(t,r)})}function oj(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(uu(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),$E(t))}function uw(t,e,n){for(const r of n)r instanceof ej?(t.La.addReference(r.key,e),TK(t,r)):r instanceof tj?(X("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||oj(t,r.key)):le()}function TK(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(X("SyncEngine","New document in limbo: "+n),t.xa.add(r),$E(t))}function $E(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ae(Oe.fromString(e)),r=t.qa.next();t.Na.set(r,new fK(n)),t.Oa=t.Oa.insert(n,r),Xy(t.remoteStore,new Oi(En(Yu(n.path)),r,"TargetPurposeLimboResolution",jn.oe))}}async function no(t,e,n){const r=re(t),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((s,l)=>{a.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=xE.Wi(l.targetId,u);o.push(d)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(l,u){const c=re(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>F.forEach(u,f=>F.forEach(f.$i,p=>c.persistence.referenceDelegate.addReference(d,f.targetId,p)).next(()=>F.forEach(f.Ui,p=>c.persistence.referenceDelegate.removeReference(d,f.targetId,p)))))}catch(d){if(!ma(d))throw d;X("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const p=c.os.get(f),g=p.snapshotVersion,m=p.withLastLimboFreeSnapshotVersion(g);c.os=c.os.insert(f,m)}}}(r.localStore,o))}async function SK(t,e){const n=re(t);if(!n.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=await VL(n.localStore,e);n.currentUser=e,function(o,a){o.ka.forEach(s=>{s.forEach(l=>{l.reject(new Y(U.CANCELLED,a))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await no(n,r.hs)}}function AK(t,e){const n=re(t),r=n.Na.get(e);if(r&&r.va)return xe().add(r.key);{let i=xe();const o=n.Ma.get(e);if(!o)return i;for(const a of o){const s=n.Fa.get(a);i=i.unionWith(s.view.Va)}return i}}async function IK(t,e){const n=re(t),r=await ug(n.localStore,e.query,!0),i=e.view.ba(r);return n.isPrimaryClient&&uw(n,e.targetId,i.wa),i}async function PK(t,e){const n=re(t);return zL(n.localStore,e).then(r=>no(n,r))}async function OK(t,e,n,r){const i=re(t),o=await function(s,l){const u=re(s),c=re(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",d=>c.Mn(d,l).next(f=>f?u.localDocuments.getDocuments(d,f):F.resolve(null)))}(i.localStore,e);o!==null?(n==="pending"?await tc(i.remoteStore):n==="acknowledged"||n==="rejected"?(ME(i,e,r||null),DE(i,e),function(s,l){re(re(s).mutationQueue).On(l)}(i.localStore,e)):le(),await no(i,o)):X("SyncEngine","Cannot apply mutation batch with id: "+e)}async function kK(t,e){const n=re(t);if(Yy(n),LE(n),e===!0&&n.Qa!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await sO(n,r.toArray());n.Qa=!0,await sw(n.remoteStore,!0);for(const o of i)Xy(n.remoteStore,o)}else if(e===!1&&n.Qa!==!1){const r=[];let i=Promise.resolve();n.Ma.forEach((o,a)=>{n.sharedClientState.isLocalQueryTarget(a)?r.push(a):i=i.then(()=>(du(n,a),lu(n.localStore,a,!0))),uu(n.remoteStore,a)}),await i,await sO(n,r),function(a){const s=re(a);s.Na.forEach((l,u)=>{uu(s.remoteStore,u)}),s.La.pr(),s.Na=new Map,s.Oa=new et(ae.comparator)}(n),n.Qa=!1,await sw(n.remoteStore,!1)}}async function sO(t,e,n){const r=re(t),i=[],o=[];for(const a of e){let s;const l=r.Ma.get(a);if(l&&l.length!==0){s=await su(r.localStore,En(l[0]));for(const u of l){const c=r.Fa.get(u),d=await IK(r,c);d.snapshot&&o.push(d.snapshot)}}else{const u=await UL(r.localStore,a);s=await su(r.localStore,u),await NE(r,aj(u),a,!1,s.resumeToken)}i.push(s)}return r.Ca.d_(o),i}function aj(t){return q$(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function CK(t){return function(n){return re(re(n).persistence).Qi()}(re(t).localStore)}async function RK(t,e,n,r){const i=re(t);if(i.Qa)return void X("SyncEngine","Ignoring unexpected query state notification.");const o=i.Ma.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{const a=await zL(i.localStore,H$(o[0])),s=wf.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Et.EMPTY_BYTE_STRING);await no(i,a,s);break}case"rejected":await lu(i.localStore,e,!0),du(i,e,r);break;default:le()}}async function NK(t,e,n){const r=Yy(t);if(r.Qa){for(const i of e){if(r.Ma.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){X("SyncEngine","Adding an already active target "+i);continue}const o=await UL(r.localStore,i),a=await su(r.localStore,o);await NE(r,aj(o),a.targetId,!1,a.resumeToken),Xy(r.remoteStore,a)}for(const i of n)r.Ma.has(i)&&await lu(r.localStore,i,!1).then(()=>{uu(r.remoteStore,i),du(r,i)}).catch(pa)}}function Yy(t){const e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ij.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bK.bind(null,e),e.Ca.d_=lK.bind(null,e.eventManager),e.Ca.$a=uK.bind(null,e.eventManager),e}function LE(t){const e=re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xK.bind(null,e),e}function DK(t,e,n){const r=re(t);(async function(o,a,s){try{const l=await a.getMetadata();if(await function(p,g){const m=re(p),y=Ot(g.createTime);return m.persistence.runTransaction("hasNewerBundle","readonly",_=>m.Gr.getBundleMetadata(_,g.id)).then(_=>!!_&&_.createTime.compareTo(y)>=0)}(o.localStore,l))return await a.close(),s._completeWith(function(p){return{taskState:"Success",documentsLoaded:p.totalDocuments,bytesLoaded:p.totalBytes,totalDocuments:p.totalDocuments,totalBytes:p.totalBytes}}(l)),Promise.resolve(new Set);s._updateProgress(ZL(l));const u=new dK(l,o.localStore,a.serializer);let c=await a.Ua();for(;c;){const f=await u.la(c);f&&s._updateProgress(f),c=await a.Ua()}const d=await u.complete();return await no(o,d.Ia,void 0),await function(p,g){const m=re(p);return m.persistence.runTransaction("Save bundle","readwrite",y=>m.Gr.saveBundleMetadata(y,g))}(o.localStore,l),s._completeWith(d.progress),Promise.resolve(d.Pa)}catch(l){return br("SyncEngine",`Loading bundle failed with ${l}`),s._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class ta{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ef(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return jL(this.persistence,new LL,e.initialUser,this.serializer)}Ga(e){return new _E(Qy.Zr,this.serializer)}Wa(e){return new WL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ta.provider={build:()=>new ta};class MK extends ta{constructor(e){super(),this.cacheSizeBytes=e}ja(e,n){de(this.persistence.referenceDelegate instanceof lg);const r=this.persistence.referenceDelegate.garbageCollector;return new RL(r,e.asyncQueue,n)}Ga(e){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new _E(r=>lg.Zr(r,n),this.serializer)}}class jE extends ta{constructor(e,n,r){super(),this.Ja=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await LE(this.Ja.syncEngine),await tc(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return jL(this.persistence,new LL,e.initialUser,this.serializer)}ja(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new RL(r,e.asyncQueue,n)}Ha(e,n){const r=new r7(n,this.persistence);return new n7(e.asyncQueue,r)}Ga(e){const n=wE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new bE(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,KL(),ym(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new WL}}class sj extends jE{constructor(e,n){super(e,n,!1),this.Ja=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Ja.syncEngine;this.sharedClientState instanceof o_&&(this.sharedClientState.syncEngine={no:OK.bind(null,n),ro:RK.bind(null,n),io:NK.bind(null,n),Qi:CK.bind(null,n),eo:PK.bind(null,n)},await this.sharedClientState.start()),await this.persistence.yi(async r=>{await kK(this.Ja.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Wa(e){const n=KL();if(!o_.D(n))throw new Y(U.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=wE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new o_(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class na{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>aO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=SK.bind(null,this.syncEngine),await sw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new sK}()}createDatastore(e){const n=Ef(e.databaseInfo.databaseId),r=function(o){return new qW(o)}(e.databaseInfo);return function(o,a,s,l){return new GW(o,a,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,s){return new QW(r,i,o,a,s)}(this.localStore,this.datastore,e.asyncQueue,n=>aO(this.syncEngine,n,0),function(){return eO.D()?new eO:new BW}())}createSyncEngine(e,n){return function(i,o,a,s,l,u,c){const d=new pK(i,o,a,s,l,u);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=re(i);X("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await ec(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}na.provider={build:()=>new na};function lO(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):It("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $K{constructor(e,n){this.Xa=e,this.serializer=n,this.metadata=new Zt,this.buffer=new Uint8Array,this.eu=function(){return new TextDecoder("utf-8")}(),this.tu().then(r=>{r&&r.ua()?this.metadata.resolve(r.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.aa)}`))},r=>this.metadata.reject(r))}close(){return this.Xa.cancel()}async getMetadata(){return this.metadata.promise}async Ua(){return await this.getMetadata(),this.tu()}async tu(){const e=await this.nu();if(e===null)return null;const n=this.eu.decode(e),r=Number(n);isNaN(r)&&this.ru(`length string (${n}) is not valid number`);const i=await this.iu(r);return new cK(JSON.parse(i),e.length+r)}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async nu(){for(;this.su()<0&&!await this.ou(););if(this.buffer.length===0)return null;const e=this.su();e<0&&this.ru("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async iu(e){for(;this.buffer.length<e;)await this.ou()&&this.ru("Reached the end of bundle when more is expected.");const n=this.eu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}async ou(){const e=await this.Xa.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LK{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Y(U.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,o){const a=re(i),s={documents:o.map(d=>ph(a.serializer,d))},l=await a.Lo("BatchGetDocuments",a.serializer.databaseId,Oe.emptyPath(),s,o.length),u=new Map;l.forEach(d=>{const f=eW(a.serializer,d);u.set(f.key.toString(),f)});const c=[];return o.forEach(d=>{const f=u.get(d.toString());de(!!f),c.push(f)}),c}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Zu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=ae.fromPath(r);this.mutations.push(new uE(i,this.precondition(i)))}),await async function(r,i){const o=re(r),a={writes:i.map(s=>mh(o.serializer,s))};await o.Mo("Commit",o.serializer.databaseId,Oe.emptyPath(),a)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw le();n=he.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Y(U.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(he.min())?ct.exists(!1):ct.updateTime(n):ct.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(he.min()))throw new Y(U.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ct.updateTime(n)}return ct.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jK{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this._u=r.maxAttempts,this.t_=new TE(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new LK(this.datastore),n=this.cu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.lu(i)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const n=this.updateFunction(e);return!gf(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!lL(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VK{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qt.UNAUTHENTICATED,this.clientId=_$.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{X("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(X("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=rc(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function s_(t,e){t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await VL(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function uO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await VE(t);X("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>tO(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>tO(e.remoteStore,i)),t._onlineComponents=e}async function VE(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await s_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;br("Error using user provided cache. Falling back to memory cache: "+n),await s_(t,new ta)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await s_(t,new ta);return t._offlineComponents}async function Zy(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await uO(t,t._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await uO(t,new na))),t._onlineComponents}function lj(t){return VE(t).then(e=>e.persistence)}function ic(t){return VE(t).then(e=>e.localStore)}function uj(t){return Zy(t).then(e=>e.remoteStore)}function FE(t){return Zy(t).then(e=>e.syncEngine)}function cj(t){return Zy(t).then(e=>e.datastore)}async function hu(t){const e=await Zy(t),n=e.eventManager;return n.onListen=mK.bind(null,e.syncEngine),n.onUnlisten=yK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vK.bind(null,e.syncEngine),n}function FK(t){return t.asyncQueue.enqueue(async()=>{const e=await lj(t),n=await uj(t);return e.setNetworkEnabled(!0),function(i){const o=re(i);return o.L_.delete(0),Tf(o)}(n)})}function BK(t){return t.asyncQueue.enqueue(async()=>{const e=await lj(t),n=await uj(t);return e.setNetworkEnabled(!1),async function(i){const o=re(i);o.L_.add(0),await ec(o),o.q_.set("Offline")}(n)})}function UK(t,e){const n=new Zt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,o,a){try{const s=await function(u,c){const d=re(u);return d.persistence.runTransaction("read document","readonly",f=>d.localDocuments.getDocument(f,c))}(i,o);s.isFoundDocument()?a.resolve(s):s.isNoDocument()?a.resolve(null):a.reject(new Y(U.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(s){const l=rc(s,`Failed to get document '${o} from cache`);a.reject(l)}}(await ic(t),e,n)),n.promise}function dj(t,e,n={}){const r=new Zt;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const c=new Jy({next:f=>{c.Za(),a.enqueueAndForget(()=>kE(o,d));const p=f.docs.has(s);!p&&f.fromCache?u.reject(new Y(U.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?u.reject(new Y(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new RE(Yu(s.path),c,{includeMetadataChanges:!0,_a:!0});return OE(o,d)}(await hu(t),t.asyncQueue,e,n,r)),r.promise}function zK(t,e){const n=new Zt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,o,a){try{const s=await ug(i,o,!0),l=new nj(o,s.Ts),u=l.ma(s.documents),c=l.applyChanges(u,!1);a.resolve(c.snapshot)}catch(s){const l=rc(s,`Failed to execute query '${o} against cache`);a.reject(l)}}(await ic(t),e,n)),n.promise}function hj(t,e,n={}){const r=new Zt;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const c=new Jy({next:f=>{c.Za(),a.enqueueAndForget(()=>kE(o,d)),f.fromCache&&l.source==="server"?u.reject(new Y(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new RE(s,c,{includeMetadataChanges:!0,_a:!0});return OE(o,d)}(await hu(t),t.asyncQueue,e,n,r)),r.promise}function qK(t,e,n){const r=new Zt;return t.asyncQueue.enqueueAndForget(async()=>{try{const i=await cj(t);r.resolve(async function(a,s,l){var u;const c=re(a),{request:d,ut:f,parent:p}=bL(c.serializer,W$(s),l);c.connection.Fo||delete d.parent;const g=(await c.Lo("RunAggregationQuery",c.serializer.databaseId,p,d,1)).filter(y=>!!y.result);de(g.length===1);const m=(u=g[0].result)===null||u===void 0?void 0:u.aggregateFields;return Object.keys(m).reduce((y,_)=>(y[f[_]]=m[_],y),{})}(i,e,n))}catch(i){r.reject(i)}}),r.promise}function WK(t,e){const n=new Jy(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,o){re(i).Y_.add(o),o.next()}(await hu(t),n)),()=>{n.Za(),t.asyncQueue.enqueueAndForget(async()=>function(i,o){re(i).Y_.delete(o)}(await hu(t),n))}}function KK(t,e,n,r){const i=function(a,s){let l;return l=typeof a=="string"?cL().encode(a):a,function(c,d){return new $K(c,d)}(function(c,d){if(c instanceof Uint8Array)return lO(c,d);if(c instanceof ArrayBuffer)return lO(new Uint8Array(c),d);if(c instanceof ReadableStream)return c.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),s)}(n,Ef(e));t.asyncQueue.enqueueAndForget(async()=>{DK(await FE(t),i,r)})}function GK(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const o=re(r);return o.persistence.runTransaction("Get named query","readonly",a=>o.Gr.getNamedQuery(a,i))}(await ic(t),e))}function HK(t,e){return t.asyncQueue.enqueue(async()=>async function(r,i){const o=re(r),a=o.indexManager,s=[];return o.persistence.runTransaction("Configure indexes","readwrite",l=>a.getFieldIndexes(l).next(u=>function(d,f,p,g,m){d=[...d],f=[...f],d.sort(p),f.sort(p);const y=d.length,_=f.length;let w=0,v=0;for(;w<_&&v<y;){const A=p(d[v],f[w]);A<0?m(d[v++]):A>0?g(f[w++]):(w++,v++)}for(;w<_;)g(f[w++]);for(;v<y;)m(d[v++])}(u,i,Jq,c=>{s.push(a.addFieldIndex(l,c))},c=>{s.push(a.deleteFieldIndex(l,c))})).next(()=>F.waitFor(s)))}(await ic(t),e))}function QK(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){re(r).ss.zi=i}(await ic(t),e))}function XK(t){return t.asyncQueue.enqueue(async()=>function(n){const r=re(n),i=r.indexManager;return r.persistence.runTransaction("Delete All Indexes","readwrite",o=>i.deleteAllFieldIndexes(o))}(await ic(t)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(t,e,n){if(!n)throw new Y(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function YK(t,e,n,r){if(e===!0&&r===!0)throw new Y(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dO(t){if(!ae.isDocumentKey(t))throw new Y(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hO(t){if(ae.isDocumentKey(t))throw new Y(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ev(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le()}function Ae(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ev(t);throw new Y(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function pj(t,e){if(e<=0)throw new Y(U.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fj((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Y(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Y(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Y(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fO({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fO(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qq;switch(r.type){case"firstParty":return new Hq(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=cO.get(n);r&&(X("ComponentProvider","Removing Datastore"),cO.delete(n),r.terminate())}(this),Promise.resolve()}}function JK(t,e,n,r={}){var i;const o=(t=Ae(t,Sf))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&br("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let s,l;if(typeof r.mockUserToken=="string")s=r.mockUserToken,l=Qt.MOCK_USER;else{s=EM(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Y(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Qt(u)}t._authCredentials=new Wq(new y$(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new cn(this.firestore,e,this._query)}}class kt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kt(this.firestore,e,this._key)}}class oi extends cn{constructor(e,n,r){super(e,n,Yu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new ae(e))}withConverter(e){return new oi(this.firestore,e,this._path)}}function ra(t,e,...n){if(t=Le(t),BE("collection","path",e),t instanceof Sf){const r=Oe.fromString(e,...n);return hO(r),new oi(t,null,r)}{if(!(t instanceof kt||t instanceof oi))throw new Y(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return hO(r),new oi(t.firestore,null,r)}}function Jxe(t,e){if(t=Ae(t,Sf),BE("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Y(U.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new cn(t,null,function(r){return new Zi(Oe.emptyPath(),r)}(e))}function ia(t,e,...n){if(t=Le(t),arguments.length===1&&(e=_$.newId()),BE("doc","path",e),t instanceof Sf){const r=Oe.fromString(e,...n);return dO(r),new kt(t,null,new ae(r))}{if(!(t instanceof kt||t instanceof oi))throw new Y(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return dO(r),new kt(t.firestore,t instanceof oi?t.converter:null,new ae(r))}}function Zxe(t,e){return t=Le(t),e=Le(e),(t instanceof kt||t instanceof oi)&&(e instanceof kt||e instanceof oi)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function mj(t,e){return t=Le(t),e=Le(e),t instanceof cn&&e instanceof cn&&t.firestore===e.firestore&&vf(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new TE(this,"async_queue_retry"),this.Vu=()=>{const r=ym();r&&X("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=ym();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=ym();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Zt;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ma(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let s=a.message||"";return a.stack&&(s=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),s}(r);throw It("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=PE.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&le()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function cw(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class ZK{constructor(){this._progressObserver={},this._taskCompletionResolver=new Zt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eEe=-1;class He extends Sf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new pO,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pO(e),this._firestoreClient=void 0,await e}}}function tEe(t,e,n){n||(n="(default)");const r=Hu(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),o=r.getOptions(n);if(Ho(o,e))return i;throw new Y(U.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new Y(U.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function eG(t,e){const n=typeof t=="object"?t:Wx(),r=typeof t=="string"?t:e||"(default)",i=Hu(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=bM("firestore");o&&JK(i,...o)}return i}function yt(t){if(t._terminated)throw new Y(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||gj(t),t._firestoreClient}function gj(t){var e,n,r;const i=t._freezeSettings(),o=function(s,l,u,c){return new T7(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,fj(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new VK(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}function nEe(t,e){br("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return yj(t,na.provider,{build:r=>new jE(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function rEe(t){br("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();yj(t,na.provider,{build:n=>new sj(n,e.cacheSizeBytes)})}function yj(t,e,n){if((t=Ae(t,He))._firestoreClient||t._terminated)throw new Y(U.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new Y(U.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},gj(t)}function iEe(t){if(t._initialized&&!t._terminated)throw new Y(U.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Zt;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!ri.D())return Promise.resolve();const i=r+"main";await ri.delete(i)}(wE(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function oEe(t){return function(n){const r=new Zt;return n.asyncQueue.enqueueAndForget(async()=>EK(await FE(n),r)),r.promise}(yt(t=Ae(t,He)))}function aEe(t){return FK(yt(t=Ae(t,He)))}function sEe(t){return BK(yt(t=Ae(t,He)))}function lEe(t){return y9(t.app,"firestore",t._databaseId.database),t._delete()}function uEe(t,e){const n=yt(t=Ae(t,He)),r=new ZK;return KK(n,t._databaseId,e,r),r}function cEe(t,e){return GK(yt(t=Ae(t,He)),e).then(n=>n?new cn(t,null,n.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class tG{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ss(Et.fromBase64String(e))}catch(n){throw new Y(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ss(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function dEe(){return new js("__name__")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nG=/^__.*__$/;class rG{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new to(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ju(e,this.data,n,this.fieldTransforms)}}class vj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new to(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _j(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}class nv{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new nv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return fg(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(_j(this.Cu)&&nG.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class iG{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ef(e)}Qu(e,n,r,i=!1){return new nv({Cu:e,methodName:n,qu:r,path:ut.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fs(t){const e=t._freezeSettings(),n=Ef(t._databaseId);return new iG(t._databaseId,!!e.ignoreUndefinedProperties,n)}function rv(t,e,n,r,i,o={}){const a=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);QE("Data must be an object, but it was:",a,r);const s=xj(r,a);let l,u;if(o.merge)l=new Vn(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const f=yh(e,d,n);if(!a.contains(f))throw new Y(U.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Tj(c,f)||c.push(f)}l=new Vn(c),u=a.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=a.fieldTransforms;return new rG(new sn(s),l,u)}class Af extends Vs{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Af}}function bj(t,e,n){return new nv({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class zE extends Vs{_toFieldTransform(e){return new bf(e.path,new iu)}isEqual(e){return e instanceof zE}}class qE extends Vs{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=bj(this,e,!0),r=this.Ku.map(o=>Bs(o,n)),i=new bs(r);return new bf(e.path,i)}isEqual(e){return e instanceof qE&&Ho(this.Ku,e.Ku)}}class WE extends Vs{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=bj(this,e,!0),r=this.Ku.map(o=>Bs(o,n)),i=new ws(r);return new bf(e.path,i)}isEqual(e){return e instanceof WE&&Ho(this.Ku,e.Ku)}}class KE extends Vs{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new ou(e.serializer,eL(e.serializer,this.$u));return new bf(e.path,n)}isEqual(e){return e instanceof KE&&this.$u===e.$u}}function GE(t,e,n,r){const i=t.Qu(1,e,n);QE("Data must be an object, but it was:",i,r);const o=[],a=sn.empty();ga(r,(l,u)=>{const c=iv(e,l,n);u=Le(u);const d=i.Nu(c);if(u instanceof Af)o.push(c);else{const f=Bs(u,d);f!=null&&(o.push(c),a.set(c,f))}});const s=new Vn(o);return new vj(a,s,i.fieldTransforms)}function HE(t,e,n,r,i,o){const a=t.Qu(1,e,n),s=[yh(e,r,n)],l=[i];if(o.length%2!=0)throw new Y(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)s.push(yh(e,o[f])),l.push(o[f+1]);const u=[],c=sn.empty();for(let f=s.length-1;f>=0;--f)if(!Tj(u,s[f])){const p=s[f];let g=l[f];g=Le(g);const m=a.Nu(p);if(g instanceof Af)u.push(p);else{const y=Bs(g,m);y!=null&&(u.push(p),c.set(p,y))}}const d=new Vn(u);return new vj(c,d,a.fieldTransforms)}function wj(t,e,n,r=!1){return Bs(n,t.Qu(r?4:3,e))}function Bs(t,e){if(Ej(t=Le(t)))return QE("Unsupported field value:",e,t),xj(t,e);if(t instanceof Vs)return function(r,i){if(!_j(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const s of r){let l=Bs(s,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Le(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return eL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=mt.fromDate(r);return{timestampValue:au(i.serializer,o)}}if(r instanceof mt){const o=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:au(i.serializer,o)}}if(r instanceof UE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ss)return{bytesValue:fL(i.serializer,r._byteString)};if(r instanceof kt){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:pE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof tv)return function(a,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return lE(s.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${ev(r)}`)}(t,e)}function xj(t,e){const n={};return R$(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ga(t,(r,i)=>{const o=Bs(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Ej(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mt||t instanceof UE||t instanceof Ss||t instanceof kt||t instanceof Vs||t instanceof tv)}function QE(t,e,n){if(!Ej(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=ev(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function yh(t,e,n){if((e=Le(e))instanceof js)return e._internalPath;if(typeof e=="string")return iv(t,e);throw fg("Field path arguments must be of type string or ",t,!1,void 0,n)}const oG=new RegExp("[~\\*/\\[\\]]");function iv(t,e,n){if(e.search(oG)>=0)throw fg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new js(...e.split("."))._internalPath}catch{throw fg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fg(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new Y(U.INVALID_ARGUMENT,s+t+l)}function Tj(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ov("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class aG extends vh{data(){return super.data()}}function ov(t,e){return typeof e=="string"?iv(t,e):e instanceof js?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class XE{}class If extends XE{}function ki(t,e,...n){let r=[];e instanceof XE&&r.push(e),r=r.concat(n),function(o){const a=o.filter(l=>l instanceof oc).length,s=o.filter(l=>l instanceof Pf).length;if(a>1||a>0&&s>0)throw new Y(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Pf extends If{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Pf(e,n,r)}_apply(e){const n=this._parse(e);return Ij(e._query,n),new cn(e.firestore,e.converter,Jb(e._query,n))}_parse(e){const n=Fs(e.firestore);return function(o,a,s,l,u,c,d){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Y(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){gO(d,c);const p=[];for(const g of d)p.push(mO(l,o,g));f={arrayValue:{values:p}}}else f=mO(l,o,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||gO(d,c),f=wj(s,a,d,c==="in"||c==="not-in");return ke.create(u,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ci(t,e,n){const r=e,i=ov("where",t);return Pf._create(i,r,n)}class oc extends XE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new oc(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ve.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let a=i;const s=o.getFlattenedFilters();for(const l of s)Ij(a,l),a=Jb(a,l)}(e._query,n),new cn(e.firestore,e.converter,Jb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function hEe(...t){return t.forEach(e=>Pj("or",e)),oc._create("or",t)}function fEe(...t){return t.forEach(e=>Pj("and",e)),oc._create("and",t)}class YE extends If{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new YE(e,n)}_apply(e){const n=function(i,o,a){if(i.startAt!==null)throw new Y(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Y(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fh(o,a)}(e._query,this._field,this._direction);return new cn(e.firestore,e.converter,function(i,o){const a=i.explicitOrderBy.concat([o]);return new Zi(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function sG(t,e="asc"){const n=e,r=ov("orderBy",t);return YE._create(r,n)}class av extends If{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new av(e,n,r)}_apply(e){return new cn(e.firestore,e.converter,rg(e._query,this._limit,this._limitType))}}function pEe(t){return pj("limit",t),av._create("limit",t,"F")}function mEe(t){return pj("limitToLast",t),av._create("limitToLast",t,"L")}class sv extends If{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new sv(e,n,r)}_apply(e){const n=Aj(e,this.type,this._docOrFields,this._inclusive);return new cn(e.firestore,e.converter,function(i,o){return new Zi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,n))}}function gEe(...t){return sv._create("startAt",t,!0)}function yEe(...t){return sv._create("startAfter",t,!1)}class lv extends If{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new lv(e,n,r)}_apply(e){const n=Aj(e,this.type,this._docOrFields,this._inclusive);return new cn(e.firestore,e.converter,function(i,o){return new Zi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,n))}}function vEe(...t){return lv._create("endBefore",t,!1)}function _Ee(...t){return lv._create("endAt",t,!0)}function Aj(t,e,n,r){if(n[0]=Le(n[0]),n[0]instanceof vh)return function(o,a,s,l,u){if(!l)throw new Y(U.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${s}().`);const c=[];for(const d of Bl(o))if(d.field.isKeyField())c.push(vs(a,l.key));else{const f=l.data.field(d.field);if(By(f))throw new Y(U.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const p=d.field.canonicalString();throw new Y(U.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}c.push(f)}return new Zo(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Fs(t.firestore);return function(a,s,l,u,c,d){const f=a.explicitOrderBy;if(c.length>f.length)throw new Y(U.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let g=0;g<c.length;g++){const m=c[g];if(f[g].field.isKeyField()){if(typeof m!="string")throw new Y(U.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof m}`);if(!aE(a)&&m.indexOf("/")!==-1)throw new Y(U.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${m}' contains a slash.`);const y=a.path.child(Oe.fromString(m));if(!ae.isDocumentKey(y))throw new Y(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${y}' is not because it contains an odd number of segments.`);const _=new ae(y);p.push(vs(s,_))}else{const y=wj(l,u,m);p.push(y)}}return new Zo(p,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function mO(t,e,n){if(typeof(n=Le(n))=="string"){if(n==="")throw new Y(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aE(e)&&n.indexOf("/")!==-1)throw new Y(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Oe.fromString(n));if(!ae.isDocumentKey(r))throw new Y(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vs(t,new ae(r))}if(n instanceof kt)return vs(t,n._key);throw new Y(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ev(n)}.`)}function gO(t,e){if(!Array.isArray(t)||t.length===0)throw new Y(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ij(t,e){const n=function(i,o){for(const a of i)for(const s of a.getFlattenedFilters())if(o.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Y(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Pj(t,e){if(!(e instanceof Pf||e instanceof oc))throw new Y(U.INVALID_ARGUMENT,`Function ${t}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class Oj{convertValue(e,n="none"){switch(Yo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw le()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ga(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>st(a.doubleValue));return new tv(o)}convertGeoPoint(e){return new UE(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Uy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ch(e));default:return null}}convertTimestamp(e){const n=Ki(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Oe.fromString(e);de(TL(r));const i=new ys(r.get(1),r.get(3)),o=new ae(r.popFirst(5));return i.isEqual(n)||It(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class lG extends Oj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ss(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,n)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bEe(t){return new gh("sum",yh("sum",t))}function wEe(t){return new gh("avg",yh("average",t))}function uG(){return new gh("count")}function xEe(t,e){var n,r;return t instanceof gh&&e instanceof gh&&t.aggregateType===e.aggregateType&&((n=t._internalFieldPath)===null||n===void 0?void 0:n.canonicalString())===((r=e._internalFieldPath)===null||r===void 0?void 0:r.canonicalString())}function EEe(t,e){return mj(t.query,e.query)&&Ho(t.data(),e.data())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fu extends vh{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ov("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class vm extends fu{data(e={}){return super.data(e)}}class pu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new vm(this._firestore,this._userDataWriter,r.key,r,new Qa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const l=new vm(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Qa(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const l=new vm(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Qa(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),c=a.indexOf(s.doc.key)),{type:cG(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function cG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}function TEe(t,e){return t instanceof fu&&e instanceof fu?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof pu&&e instanceof pu&&t._firestore===e._firestore&&mj(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(t){t=Ae(t,kt);const e=Ae(t.firestore,He);return dj(yt(e),t._key).then(n=>ZE(e,t,n))}class va extends Oj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ss(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,n)}}function SEe(t){t=Ae(t,kt);const e=Ae(t.firestore,He),n=yt(e),r=new va(e);return UK(n,t._key).then(i=>new fu(e,r,t._key,i,new Qa(i!==null&&i.hasLocalMutations,!0),t.converter))}function AEe(t){t=Ae(t,kt);const e=Ae(t.firestore,He);return dj(yt(e),t._key,{source:"server"}).then(n=>ZE(e,t,n))}function IEe(t){t=Ae(t,cn);const e=Ae(t.firestore,He),n=yt(e),r=new va(e);return Sj(t._query),hj(n,t._query).then(i=>new pu(e,r,t,i))}function PEe(t){t=Ae(t,cn);const e=Ae(t.firestore,He),n=yt(e),r=new va(e);return zK(n,t._query).then(i=>new pu(e,r,t,i))}function OEe(t){t=Ae(t,cn);const e=Ae(t.firestore,He),n=yt(e),r=new va(e);return hj(n,t._query,{source:"server"}).then(i=>new pu(e,r,t,i))}function kj(t,e,n){t=Ae(t,kt);const r=Ae(t.firestore,He),i=uv(t.converter,e,n);return Of(r,[rv(Fs(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ct.none())])}function dG(t,e,n,...r){t=Ae(t,kt);const i=Ae(t.firestore,He),o=Fs(i);let a;return a=typeof(e=Le(e))=="string"||e instanceof js?HE(o,"updateDoc",t._key,e,n,r):GE(o,"updateDoc",t._key,e),Of(i,[a.toMutation(t._key,ct.exists(!0))])}function hG(t){return Of(Ae(t.firestore,He),[new Zu(t._key,ct.none())])}function Cj(t,e){const n=Ae(t.firestore,He),r=ia(t),i=uv(t.converter,e);return Of(n,[rv(Fs(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ct.exists(!1))]).then(()=>r)}function mu(t,...e){var n,r,i;t=Le(t);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||cw(e[a])||(o=e[a],a++);const s={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(cw(e[a])){const d=e[a];e[a]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[a+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[a+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof kt)u=Ae(t.firestore,He),c=Yu(t._key.path),l={next:d=>{e[a]&&e[a](ZE(u,t,d))},error:e[a+1],complete:e[a+2]};else{const d=Ae(t,cn);u=Ae(d.firestore,He),c=d._query;const f=new va(u);l={next:p=>{e[a]&&e[a](new pu(u,f,d,p))},error:e[a+1],complete:e[a+2]},Sj(t._query)}return function(f,p,g,m){const y=new Jy(m),_=new RE(p,y,g);return f.asyncQueue.enqueueAndForget(async()=>OE(await hu(f),_)),()=>{y.Za(),f.asyncQueue.enqueueAndForget(async()=>kE(await hu(f),_))}}(yt(u),c,s,l)}function kEe(t,e){return WK(yt(t=Ae(t,He)),cw(e)?e:{next:e})}function Of(t,e){return function(r,i){const o=new Zt;return r.asyncQueue.enqueueAndForget(async()=>_K(await FE(r),i,o)),o.promise}(yt(t),e)}function ZE(t,e,n){const r=n.docs.get(e._key),i=new va(t);return new fu(t,i,e._key,r,new Qa(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CEe(t){return fG(t,{count:uG()})}function fG(t,e){const n=Ae(t.firestore,He),r=yt(n),i=C$(e,(o,a)=>new sL(a,o.aggregateType,o._internalFieldPath));return qK(r,t._query,i).then(o=>function(s,l,u){const c=new va(s);return new tG(l,c,u)}(n,t,o))}class pG{constructor(e){this.kind="memory",this._onlineComponentProvider=na.provider,e!=null&&e.garbageCollector?this._offlineComponentProvider=e.garbageCollector._offlineComponentProvider:this._offlineComponentProvider=ta.provider}toJSON(){return{kind:this.kind}}}class mG{constructor(e){let n;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=bG(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class gG{constructor(){this.kind="memoryEager",this._offlineComponentProvider=ta.provider}toJSON(){return{kind:this.kind}}}class yG{constructor(e){this.kind="memoryLru",this._offlineComponentProvider={build:()=>new MK(e)}}toJSON(){return{kind:this.kind}}}function REe(){return new gG}function NEe(t){return new yG(t==null?void 0:t.cacheSizeBytes)}function DEe(t){return new pG(t)}function MEe(t){return new mG(t)}class vG{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=na.provider,this._offlineComponentProvider={build:n=>new jE(n,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}}class _G{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=na.provider,this._offlineComponentProvider={build:n=>new sj(n,e==null?void 0:e.cacheSizeBytes)}}}function bG(t){return new vG(t==null?void 0:t.forceOwnership)}function $Ee(){return new _G}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wG={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xG{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Fs(e)}set(e,n,r){this._verifyNotCommitted();const i=So(e,this._firestore),o=uv(i.converter,n,r),a=rv(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,ct.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=So(e,this._firestore);let a;return a=typeof(n=Le(n))=="string"||n instanceof js?HE(this._dataReader,"WriteBatch.update",o._key,n,r,i):GE(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(a.toMutation(o._key,ct.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=So(e,this._firestore);return this._mutations=this._mutations.concat(new Zu(n._key,ct.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Y(U.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function So(t,e){if((t=Le(t)).firestore!==e)throw new Y(U.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Fs(n)}get(n){const r=So(n,this._firestore),i=new lG(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||o.length!==1)return le();const a=o[0];if(a.isFoundDocument())return new vh(this._firestore,i,a.key,a,r.converter);if(a.isNoDocument())return new vh(this._firestore,i,r._key,null,r.converter);throw le()})}set(n,r,i){const o=So(n,this._firestore),a=uv(o.converter,r,i),s=rv(this._dataReader,"Transaction.set",o._key,a,o.converter!==null,i);return this._transaction.set(o._key,s),this}update(n,r,i,...o){const a=So(n,this._firestore);let s;return s=typeof(r=Le(r))=="string"||r instanceof js?HE(this._dataReader,"Transaction.update",a._key,r,i,o):GE(this._dataReader,"Transaction.update",a._key,r),this._transaction.update(a._key,s),this}delete(n){const r=So(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=So(e,this._firestore),r=new va(this._firestore);return super.get(e).then(i=>new fu(this._firestore,r,n._key,i._document,new Qa(!1,!1),n.converter))}}function jEe(t,e,n){t=Ae(t,He);const r=Object.assign(Object.assign({},wG),n);return function(o){if(o.maxAttempts<1)throw new Y(U.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,a,s){const l=new Zt;return o.asyncQueue.enqueueAndForget(async()=>{const u=await cj(o);new jK(o.asyncQueue,u,s,a,l).au()}),l.promise}(yt(t),i=>e(new EG(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VEe(){return new Af("deleteField")}function TG(){return new zE("serverTimestamp")}function FEe(...t){return new qE("arrayUnion",t)}function BEe(...t){return new WE("arrayRemove",t)}function UEe(t){return new KE("increment",t)}function zEe(t){return new tv(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qEe(t){return yt(t=Ae(t,He)),new xG(t,e=>Of(t,e))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WEe(t,e){const n=yt(t=Ae(t,He));if(!n._uninitializedComponentsProvider||n._uninitializedComponentsProvider._offline.kind==="memory")return br("Cannot enable indexes when persistence is disabled"),Promise.resolve();const r=function(o){const a=typeof o=="string"?function(u){try{return JSON.parse(u)}catch(c){throw new Y(U.INVALID_ARGUMENT,"Failed to parse JSON: "+(c==null?void 0:c.message))}}(o):o,s=[];if(Array.isArray(a.indexes))for(const l of a.indexes){const u=yO(l,"collectionGroup"),c=[];if(Array.isArray(l.fields))for(const d of l.fields){const f=iv("setIndexConfiguration",yO(d,"fieldPath"));d.arrayConfig==="CONTAINS"?c.push(new is(f,2)):d.order==="ASCENDING"?c.push(new is(f,0)):d.order==="DESCENDING"&&c.push(new is(f,1))}s.push(new eu(eu.UNKNOWN_ID,u,c,tu.empty()))}return s}(e);return HK(n,r)}function yO(t,e){if(typeof t[e]!="string")throw new Y(U.INVALID_ARGUMENT,"Missing string value for: "+e);return t[e]}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SG{constructor(e){this._firestore=e,this.type="PersistentCacheIndexManager"}}function KEe(t){var e;t=Ae(t,He);const n=vO.get(t);if(n)return n;if(((e=yt(t)._uninitializedComponentsProvider)===null||e===void 0?void 0:e._offline.kind)!=="persistent")return null;const r=new SG(t);return vO.set(t,r),r}function GEe(t){Rj(t,!0)}function HEe(t){Rj(t,!1)}function QEe(t){XK(yt(t._firestore)).then(e=>X("deleting all persistent cache indexes succeeded")).catch(e=>br("deleting all persistent cache indexes failed",e))}function Rj(t,e){QK(yt(t._firestore),e).then(n=>X(`setting persistent cache index auto creation isEnabled=${e} succeeded`)).catch(n=>br(`setting persistent cache index auto creation isEnabled=${e} failed`,n))}const vO=new WeakMap;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XEe(t){var e;const n=(e=yt(Ae(t.firestore,He))._onlineComponents)===null||e===void 0?void 0:e.datastore.serializer;return n===void 0?null:Ky(n,En(t._query))._t}function YEe(t,e){var n;const r=C$(e,(o,a)=>new sL(a,o.aggregateType,o._internalFieldPath)),i=(n=yt(Ae(t.firestore,He))._onlineComponents)===null||n===void 0?void 0:n.datastore.serializer;return i===void 0?null:bL(i,W$(t._query),r,!0).request}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JEe{constructor(){throw new Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return eT.instance.onExistenceFilterMismatch(e)}}class eT{constructor(){this.Uu=new Map}static get instance(){return Ip||(Ip=new eT,function(n){if(ig)throw new Error("a TestingHooksSpi instance is already set");ig=n}(Ip)),Ip}et(e){this.Uu.forEach(n=>n(e))}onExistenceFilterMismatch(e){const n=Symbol(),r=this.Uu;return r.set(n,e),()=>r.delete(n)}}let Ip=null;(function(e,n=!0){(function(i){Xu=i})($s),ps(new Qo("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),s=new He(new Kq(r.getProvider("auth-internal")),new Qq(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ys(u.options.projectId,c)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),ei(sP,"4.7.3",e),ei(sP,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj="firebasestorage.googleapis.com",Dj="storageBucket",AG=2*60*1e3,IG=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St extends fi{constructor(e,n,r=0){super(l_(e),`Firebase Storage: ${n} (${l_(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,St.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return l_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Tt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Tt||(Tt={}));function l_(t){return"storage/"+t}function tT(){const t="An unknown error occurred, please check the error payload for server response.";return new St(Tt.UNKNOWN,t)}function PG(t){return new St(Tt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function OG(t){return new St(Tt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function kG(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new St(Tt.UNAUTHENTICATED,t)}function CG(){return new St(Tt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function RG(t){return new St(Tt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function NG(){return new St(Tt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function DG(){return new St(Tt.CANCELED,"User canceled the upload/download.")}function MG(t){return new St(Tt.INVALID_URL,"Invalid URL '"+t+"'.")}function $G(t){return new St(Tt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function LG(){return new St(Tt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Dj+"' property when initializing the app?")}function jG(){return new St(Tt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function VG(){return new St(Tt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function FG(t){return new St(Tt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function dw(t){return new St(Tt.INVALID_ARGUMENT,t)}function Mj(){return new St(Tt.APP_DELETED,"The Firebase app was deleted.")}function BG(t){return new St(Tt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rd(t,e){return new St(Tt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Gc(t){throw new St(Tt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=er.makeFromUrl(e,n)}catch{return new er(e,"")}if(r.path==="")return r;throw $G(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const a="(/(.*))?$",s=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function u(A){A.path_=decodeURIComponent(A.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${c}/b/${i}/o${f}`,"i"),g={bucket:1,path:3},m=n===Nj?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",_=new RegExp(`^https?://${m}/${i}/${y}`,"i"),v=[{regex:s,indices:l,postModify:o},{regex:p,indices:g,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let A=0;A<v.length;A++){const E=v[A],S=E.regex.exec(e);if(S){const x=S[E.indices.bucket];let T=S[E.indices.path];T||(T=""),r=new er(x,T),E.postModify(r);break}}if(r==null)throw MG(e);return r}}class UG{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zG(t,e,n){let r=1,i=null,o=null,a=!1,s=0;function l(){return s===2}let u=!1;function c(...y){u||(u=!0,e.apply(null,y))}function d(y){i=setTimeout(()=>{i=null,t(p,l())},y)}function f(){o&&clearTimeout(o)}function p(y,..._){if(u){f();return}if(y){f(),c.call(null,y,..._);return}if(l()||a){f(),c.call(null,y,..._);return}r<64&&(r*=2);let v;s===1?(s=2,v=0):v=(r+Math.random())*1e3,d(v)}let g=!1;function m(y){g||(g=!0,f(),!u&&(i!==null?(y||(s=2),clearTimeout(i),d(0)):y||(s=1)))}return d(0),o=setTimeout(()=>{a=!0,m(!0)},n),m}function qG(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WG(t){return t!==void 0}function KG(t){return typeof t=="object"&&!Array.isArray(t)}function nT(t){return typeof t=="string"||t instanceof String}function _O(t){return rT()&&t instanceof Blob}function rT(){return typeof Blob<"u"}function bO(t,e,n,r){if(r<e)throw dw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw dw(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function $j(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var os;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(os||(os={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GG(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HG{constructor(e,n,r,i,o,a,s,l,u,c,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=s,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Pp(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=s=>{const l=s.loaded,u=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const s=o.getErrorCode()===os.NO_ERROR,l=o.getStatus();if(!s||GG(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===os.ABORT;r(!1,new Pp(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Pp(u,o))})},n=(r,i)=>{const o=this.resolve_,a=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());WG(l)?o(l):o()}catch(l){a(l)}else if(s!==null){const l=tT();l.serverResponse=s.getErrorText(),this.errorCallback_?a(this.errorCallback_(s,l)):a(l)}else if(i.canceled){const l=this.appDelete_?Mj():DG();a(l)}else{const l=NG();a(l)}};this.canceled_?n(!1,new Pp(!1,null,!0)):this.backoffId_=zG(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&qG(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Pp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function QG(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function XG(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function YG(t,e){e&&(t["X-Firebase-GMPID"]=e)}function JG(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function ZG(t,e,n,r,i,o,a=!0){const s=$j(t.urlParams),l=t.url+s,u=Object.assign({},t.headers);return YG(u,e),QG(u,n),XG(u,o),JG(u,r),new HG(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eH(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function tH(...t){const e=eH();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(rT())return new Blob(t);throw new St(Tt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function nH(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rH(t){if(typeof atob>"u")throw FG("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class u_{constructor(e,n){this.data=e,this.contentType=n||null}}function iH(t,e){switch(t){case Qr.RAW:return new u_(Lj(e));case Qr.BASE64:case Qr.BASE64URL:return new u_(jj(t,e));case Qr.DATA_URL:return new u_(aH(e),sH(e))}throw tT()}function Lj(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,a=t.charCodeAt(++n);r=65536|(o&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function oH(t){let e;try{e=decodeURIComponent(t)}catch{throw Rd(Qr.DATA_URL,"Malformed data URL.")}return Lj(e)}function jj(t,e){switch(t){case Qr.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Rd(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Qr.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Rd(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=rH(e)}catch(i){throw i.message.includes("polyfill")?i:Rd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Vj{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Rd(Qr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=lH(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function aH(t){const e=new Vj(t);return e.base64?jj(Qr.BASE64,e.rest):oH(e.rest)}function sH(t){return new Vj(t).contentType}function lH(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n){let r=0,i="";_O(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(_O(this.data_)){const r=this.data_,i=nH(r,e,n);return i===null?null:new Ao(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ao(r,!0)}}static getBlob(...e){if(rT()){const n=e.map(r=>r instanceof Ao?r.data_:r);return new Ao(tH.apply(null,n))}else{const n=e.map(a=>nT(a)?iH(Qr.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(a=>{for(let s=0;s<a.length;s++)i[o++]=a[s]}),new Ao(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(t){let e;try{e=JSON.parse(t)}catch{return null}return KG(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uH(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function cH(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Bj(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dH(t,e){return e}class Pn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||dH}}let Op=null;function hH(t){return!nT(t)||t.length<2?t:Bj(t)}function Uj(){if(Op)return Op;const t=[];t.push(new Pn("bucket")),t.push(new Pn("generation")),t.push(new Pn("metageneration")),t.push(new Pn("name","fullPath",!0));function e(o,a){return hH(a)}const n=new Pn("name");n.xform=e,t.push(n);function r(o,a){return a!==void 0?Number(a):a}const i=new Pn("size");return i.xform=r,t.push(i),t.push(new Pn("timeCreated")),t.push(new Pn("updated")),t.push(new Pn("md5Hash",null,!0)),t.push(new Pn("cacheControl",null,!0)),t.push(new Pn("contentDisposition",null,!0)),t.push(new Pn("contentEncoding",null,!0)),t.push(new Pn("contentLanguage",null,!0)),t.push(new Pn("contentType",null,!0)),t.push(new Pn("metadata","customMetadata",!0)),Op=t,Op}function fH(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new er(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function pH(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const a=n[o];r[a.local]=a.xform(r,e[a.server])}return fH(r,t),r}function zj(t,e,n){const r=Fj(e);return r===null?null:pH(t,r,n)}function mH(t,e,n,r){const i=Fj(e);if(i===null||!nT(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const a=encodeURIComponent;return o.split(",").map(u=>{const c=t.bucket,d=t.fullPath,f="/b/"+a(c)+"/o/"+a(d),p=iT(f,n,r),g=$j({alt:"media",token:u});return p+g})[0]}function gH(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class qj{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(t){if(!t)throw tT()}function yH(t,e){function n(r,i){const o=zj(t,i,e);return Wj(o!==null),o}return n}function vH(t,e){function n(r,i){const o=zj(t,i,e);return Wj(o!==null),mH(o,i,t.host,t._protocol)}return n}function Kj(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=CG():i=kG():n.getStatus()===402?i=OG(t.bucket):n.getStatus()===403?i=RG(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function _H(t){const e=Kj(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=PG(t.path)),o.serverResponse=i.serverResponse,o}return n}function bH(t,e,n){const r=e.fullServerUrl(),i=iT(r,t.host,t._protocol),o="GET",a=t.maxOperationRetryTime,s=new qj(i,o,vH(t,n),a);return s.errorHandler=_H(e),s}function wH(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function xH(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=wH(null,e)),r}function EH(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function s(){let v="";for(let A=0;A<2;A++)v=v+Math.random().toString().slice(2);return v}const l=s();a["Content-Type"]="multipart/related; boundary="+l;const u=xH(e,r,i),c=gH(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=Ao.getBlob(d,r,f);if(p===null)throw jG();const g={name:u.fullPath},m=iT(o,t.host,t._protocol),y="POST",_=t.maxUploadRetryTime,w=new qj(m,y,yH(t,n),_);return w.urlParams=g,w.headers=a,w.body=p.uploadData(),w.errorHandler=Kj(e),w}class TH{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=os.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=os.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=os.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Gc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Gc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Gc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Gc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Gc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class SH extends TH{initXhr(){this.xhr_.responseType="text"}}function Gj(){return new SH}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n){this._service=e,n instanceof er?this._location=n:this._location=er.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new As(e,n)}get root(){const e=new er(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Bj(this._location.path)}get storage(){return this._service}get parent(){const e=uH(this._location.path);if(e===null)return null;const n=new er(this._location.bucket,e);return new As(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw BG(e)}}function AH(t,e,n){t._throwIfRoot("uploadBytes");const r=EH(t.storage,t._location,Uj(),new Ao(e,!0),n);return t.storage.makeRequestWithTokens(r,Gj).then(i=>({metadata:i,ref:t}))}function IH(t){t._throwIfRoot("getDownloadURL");const e=bH(t.storage,t._location,Uj());return t.storage.makeRequestWithTokens(e,Gj).then(n=>{if(n===null)throw VG();return n})}function PH(t,e){const n=cH(t._location.path,e),r=new er(t._location.bucket,n);return new As(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OH(t){return/^[A-Za-z]+:\/\//.test(t)}function kH(t,e){return new As(t,e)}function Hj(t,e){if(t instanceof oT){const n=t;if(n._bucket==null)throw LG();const r=new As(n,n._bucket);return e!=null?Hj(r,e):r}else return e!==void 0?PH(t,e):t}function CH(t,e){if(e&&OH(e)){if(t instanceof oT)return kH(t,e);throw dw("To use ref(service, url), the first argument must be a Storage instance.")}else return Hj(t,e)}function wO(t,e){const n=e==null?void 0:e[Dj];return n==null?null:er.makeFromBucketSpec(n,t)}function RH(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:EM(i,t.app.options.projectId))}class oT{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Nj,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=AG,this._maxUploadRetryTime=IG,this._requests=new Set,i!=null?this._bucket=er.makeFromBucketSpec(i,this._host):this._bucket=wO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=er.makeFromBucketSpec(this._url,e):this._bucket=wO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){bO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){bO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new As(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new UG(Mj());{const a=ZG(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const xO="@firebase/storage",EO="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj="storage";function NH(t,e,n){return t=Le(t),AH(t,e,n)}function DH(t){return t=Le(t),IH(t)}function MH(t,e){return t=Le(t),CH(t,e)}function Xj(t=Wx(),e){t=Le(t);const r=Hu(t,Qj).getImmediate({identifier:e}),i=bM("storage");return i&&$H(r,...i),r}function $H(t,e,n,r={}){RH(t,e,n,r)}function LH(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new oT(n,r,i,e,$s)}function jH(){ps(new Qo(Qj,LH,"PUBLIC").setMultipleInstances(!0)),ei(xO,EO,""),ei(xO,EO,"esm2017")}jH();const VH={apiKey:"AIzaSyBbhES_cDHSmeJA6OUDuPoy3fQqnPIaxPM",authDomain:"fertitrack-f2f46.firebaseapp.com",projectId:"fertitrack-f2f46",storageBucket:"fertitrack-f2f46.firebasestorage.app",messagingSenderId:"1021782099997",appId:"1:1021782099997:web:dd3961385e88058f3f9ef4"},aT=PM(VH),kp=Fq(aT),Tn=eG(aT);Xj(aT);const sT=$.createContext();function lr(){return $.useContext(sT)}function FH({children:t}){const[e,n]=$.useState(null),[r,i]=$.useState(null),[o,a]=$.useState(!0);async function s(d,f,p){const g=await T8(kp,d,f);return await kj(ia(Tn,"users",g.user.uid),{...p,createdAt:new Date}),g}async function l(d,f){return await S8(kp,d,f)}function u(){return O8(kp)}$.useEffect(()=>P8(kp,async f=>{if(n(f),f){const p=await JE(ia(Tn,"users",f.uid));i(p.data())}else i(null);a(!1)}),[]);const c={currentUser:e,userData:r,signup:s,login:l,logout:u};return O(sT.Provider,{value:c,children:!o&&t})}const Yj=$.createContext();function BH(){return $.useContext(Yj)}function UH({children:t}){const[e,n]=$.useState(!1);$.useEffect(()=>{const i=localStorage.getItem("darkMode")==="true";n(i)},[]),$.useEffect(()=>{localStorage.setItem("darkMode",e),e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]);const r=()=>{n(!e)};return O(Yj.Provider,{value:{darkMode:e,toggleDarkMode:r},children:t})}var zH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const qH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WH=(t,e)=>{const n=$.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,children:s,...l},u)=>$.createElement("svg",{ref:u,...zH,width:i,height:i,stroke:r,strokeWidth:a?Number(o)*24/Number(i):o,className:`lucide lucide-${qH(t)}`,...l},[...e.map(([c,d])=>$.createElement(c,d)),...(Array.isArray(s)?s:[s])||[]]));return n.displayName=`${t}`,n};var we=WH;const KH=we("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),TO=we("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),GH=we("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),HH=we("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),QH=we("Bug",[["rect",{width:"8",height:"14",x:"8",y:"6",rx:"4",key:"hq8nra"}],["path",{d:"m19 7-3 2",key:"fmg8ec"}],["path",{d:"m5 7 3 2",key:"dkxqes"}],["path",{d:"m19 19-3-2",key:"1hbhi4"}],["path",{d:"m5 19 3-2",key:"dvt2ee"}],["path",{d:"M20 13h-4",key:"1agfp2"}],["path",{d:"M4 13h4",key:"1bwh8b"}],["path",{d:"m10 4 1 2",key:"1pot59"}],["path",{d:"m14 4-1 2",key:"m8sn0o"}]]),XH=we("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]),YH=we("CloudSnow",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M8 19h.01",key:"puxtts"}],["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M12 21h.01",key:"h35vbk"}],["path",{d:"M16 15h.01",key:"rnfrdf"}],["path",{d:"M16 19h.01",key:"1vcnzz"}]]),JH=we("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),Al=we("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),ZH=we("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),SO=we("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Hc=we("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]),eQ=we("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),AO=we("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Jj=we("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),tQ=we("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Zj=we("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),nQ=we("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),IO=we("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),rQ=we("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]),_h=we("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),eV=we("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),tV=we("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),nV=we("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),iQ=we("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),c_=we("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),oQ=we("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),PO=we("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),pg=we("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),bh=we("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),mg=we("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),rl=we("Sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]]),lT=we("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),aQ=we("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]),hw=we("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Cp=we("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),OO=we("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),sQ=we("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]),lQ=we("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Xa=we("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),kO=we("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Rp=we("Wheat",[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]]),CO=we("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),gu=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function uQ(){const{currentUser:t,userData:e,logout:n}=lr(),{darkMode:r,toggleDarkMode:i}=BH(),o=My(),[a,s]=$.useState(!1),l=async()=>{try{await n(),o("/"),s(!1)}catch(d){console.error("Logout error:",d)}},u=[{name:"Home",path:"/",show:!0},{name:"Dashboard",path:t?(e==null?void 0:e.role)==="farmer"?"/farmer":"/shopkeeper":"/auth",show:!0},{name:"About",path:"/about",show:!0}],c=()=>{s(!1)};return O("nav",{className:"backdrop-blur-lg bg-white/10 border-b border-white/20 shadow-xl",children:M("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[M("div",{className:"flex justify-between items-center h-16",children:[M(Fa,{to:"/",className:"flex items-center space-x-2 group",onClick:c,children:[O("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm border border-white/30 group-hover:scale-110 transition-transform duration-300",children:O("span",{className:"text-2xl",children:""})}),O("span",{className:"font-bold text-2xl text-white bg-gradient-to-r from-white to-emerald-100 bg-clip-text text-transparent",children:"FertiTrack"})]}),M("div",{className:"hidden md:flex items-center space-x-6",children:[u.map(d=>d.show&&O(Fa,{to:d.path,className:"text-white/90 hover:text-emerald-300 px-4 py-2 rounded-xl hover:bg-white/10 backdrop-blur-sm transition-all duration-300 hover:scale-105 font-medium",children:d.name},d.name)),O("button",{onClick:i,className:"p-3 rounded-xl bg-white/10 hover:bg-white/20 backdrop-blur-sm border border-white/20 hover:scale-105 transition-all duration-300","aria-label":"Toggle theme",children:r?O(hw,{size:20,className:"text-yellow-300"}):O(IO,{size:20,className:"text-white"})}),t?M("div",{className:"flex items-center space-x-4",children:[M("div",{className:"flex items-center space-x-3 bg-white/10 backdrop-blur-sm px-4 py-2 rounded-xl border border-white/20",children:[O(kO,{size:18,className:"text-emerald-300"}),O("span",{className:"text-white text-sm",children:e==null?void 0:e.name}),O("span",{className:"text-emerald-300 text-xs bg-emerald-500/20 px-2 py-1 rounded-full",children:e==null?void 0:e.role})]}),M("button",{onClick:l,className:"flex items-center space-x-2 bg-red-500/20 hover:bg-red-500/30 text-white px-4 py-2 rounded-xl border border-red-300/30 hover:scale-105 transition-all duration-300 backdrop-blur-sm",children:[O(AO,{size:16}),O("span",{children:"Logout"})]})]}):O(Fa,{to:"/auth",className:"bg-emerald-500/80 hover:bg-emerald-500 text-white px-6 py-3 rounded-xl backdrop-blur-sm border border-emerald-300/30 hover:scale-105 transition-all duration-300 font-medium shadow-lg hover:shadow-emerald-500/25",children:"Login"})]}),M("div",{className:"md:hidden flex items-center space-x-3",children:[O("button",{onClick:i,className:"p-2 rounded-xl bg-white/10 border border-white/20",children:r?O(hw,{size:18,className:"text-yellow-300"}):O(IO,{size:18,className:"text-white"})}),O("button",{onClick:()=>s(!a),className:"p-2 rounded-xl bg-white/10 border border-white/20 hover:bg-white/20 transition-colors",children:a?O(gu,{size:20,className:"text-white"}):O(tQ,{size:20,className:"text-white"})})]})]}),a&&O("div",{className:"md:hidden border-t border-white/20 backdrop-blur-lg bg-white/5",children:M("div",{className:"px-2 pt-2 pb-4 space-y-2",children:[u.map(d=>d.show&&O(Fa,{to:d.path,onClick:c,className:"text-white/90 hover:text-emerald-300 block px-3 py-3 rounded-xl hover:bg-white/10 transition-all duration-300 font-medium",children:d.name},d.name)),t?M("div",{className:"border-t border-white/20 pt-3 space-y-2",children:[M("div",{className:"flex items-center space-x-2 px-3 py-2 text-white/80",children:[O(kO,{size:16}),M("span",{className:"text-sm",children:[e==null?void 0:e.name," (",e==null?void 0:e.role,")"]})]}),M("button",{onClick:l,className:"w-full text-left flex items-center space-x-2 text-red-300 hover:bg-red-500/20 px-3 py-3 rounded-xl transition-colors",children:[O(AO,{size:16}),O("span",{children:"Logout"})]})]}):O(Fa,{to:"/auth",onClick:c,className:"block bg-emerald-500/80 text-white px-3 py-3 rounded-xl text-center hover:bg-emerald-500 transition-colors font-medium",children:"Login"})]})})]})})}function cQ(){const t=new Date().getFullYear();return O("footer",{className:"backdrop-blur-lg bg-white/10 border-t border-white/20 shadow-xl mt-auto",children:O("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:M("div",{className:"py-8",children:[M("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[O("div",{className:"text-center md:text-left",children:M("p",{className:"text-white/80 text-sm",children:[" ",t," FertiTrack. All rights reserved."]})}),M("div",{className:"flex items-center space-x-8",children:[O(Fa,{to:"/privacy",className:"text-white/70 hover:text-emerald-300 text-sm transition-all duration-300 hover:scale-105",children:"Privacy Policy"}),O(Fa,{to:"/contact",className:"text-white/70 hover:text-emerald-300 text-sm transition-all duration-300 hover:scale-105",children:"Contact Us"})]})]}),O("div",{className:"mt-6 text-center",children:O("p",{className:"text-xs text-white/50",children:"Cultivating the future of smart farming "})})]})})})}let dQ={data:""},hQ=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||dQ},fQ=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,pQ=/\/\*[^]*?\*\/|  +/g,RO=/\n+/g,Io=(t,e)=>{let n="",r="",i="";for(let o in t){let a=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+a+";":r+=o[1]=="f"?Io(a,o):o+"{"+Io(a,o[1]=="k"?"":e)+"}":typeof a=="object"?r+=Io(a,e?e.replace(/([^,])+/g,s=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,s):s?s+" "+l:l)):o):a!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Io.p?Io.p(o,a):o+":"+a+";")}return n+(e&&i?e+"{"+i+"}":i)+r},_i={},rV=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+rV(t[n]);return e}return t},mQ=(t,e,n,r,i)=>{let o=rV(t),a=_i[o]||(_i[o]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(o));if(!_i[a]){let l=o!==t?t:(u=>{let c,d,f=[{}];for(;c=fQ.exec(u.replace(pQ,""));)c[4]?f.shift():c[3]?(d=c[3].replace(RO," ").trim(),f.unshift(f[0][d]=f[0][d]||{})):f[0][c[1]]=c[2].replace(RO," ").trim();return f[0]})(t);_i[a]=Io(i?{["@keyframes "+a]:l}:l,n?"":"."+a)}let s=n&&_i.g?_i.g:null;return n&&(_i.g=_i[a]),((l,u,c,d)=>{d?u.data=u.data.replace(d,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(_i[a],e,r,s),a},gQ=(t,e,n)=>t.reduce((r,i,o)=>{let a=e[o];if(a&&a.call){let s=a(n),l=s&&s.props&&s.props.className||/^go/.test(s)&&s;a=l?"."+l:s&&typeof s=="object"?s.props?"":Io(s,""):s===!1?"":s}return r+i+(a??"")},"");function cv(t){let e=this||{},n=t.call?t(e.p):t;return mQ(n.unshift?n.raw?gQ(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,hQ(e.target),e.g,e.o,e.k)}let iV,fw,pw;cv.bind({g:1});let Hi=cv.bind({k:1});function yQ(t,e,n,r){Io.p=e,iV=t,fw=n,pw=r}function _a(t,e){let n=this||{};return function(){let r=arguments;function i(o,a){let s=Object.assign({},o),l=s.className||i.className;n.p=Object.assign({theme:fw&&fw()},s),n.o=/ *go\d+/.test(l),s.className=cv.apply(n,r)+(l?" "+l:""),e&&(s.ref=a);let u=t;return t[0]&&(u=s.as||t,delete s.as),pw&&u[0]&&pw(s),iV(u,s)}return e?e(i):i}}var vQ=t=>typeof t=="function",gg=(t,e)=>vQ(t)?t(e):t,_Q=(()=>{let t=0;return()=>(++t).toString()})(),oV=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),bQ=20,uT="default",aV=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:r}=e;return aV(t,{type:t.toasts.find(a=>a.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(a=>a.id===i||i===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let o=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+o}))}}},_m=[],sV={toasts:[],pausedAt:void 0,settings:{toastLimit:bQ}},Xr={},lV=(t,e=uT)=>{Xr[e]=aV(Xr[e]||sV,t),_m.forEach(([n,r])=>{n===e&&r(Xr[e])})},uV=t=>Object.keys(Xr).forEach(e=>lV(t,e)),wQ=t=>Object.keys(Xr).find(e=>Xr[e].toasts.some(n=>n.id===t)),dv=(t=uT)=>e=>{lV(e,t)},xQ={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},EQ=(t={},e=uT)=>{let[n,r]=$.useState(Xr[e]||sV),i=$.useRef(Xr[e]);$.useEffect(()=>(i.current!==Xr[e]&&r(Xr[e]),_m.push([e,r]),()=>{let a=_m.findIndex(([s])=>s===e);a>-1&&_m.splice(a,1)}),[e]);let o=n.toasts.map(a=>{var s,l,u;return{...t,...t[a.type],...a,removeDelay:a.removeDelay||((s=t[a.type])==null?void 0:s.removeDelay)||(t==null?void 0:t.removeDelay),duration:a.duration||((l=t[a.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||xQ[a.type],style:{...t.style,...(u=t[a.type])==null?void 0:u.style,...a.style}}});return{...n,toasts:o}},TQ=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||_Q()}),kf=t=>(e,n)=>{let r=TQ(e,t,n);return dv(r.toasterId||wQ(r.id))({type:2,toast:r}),r.id},jt=(t,e)=>kf("blank")(t,e);jt.error=kf("error");jt.success=kf("success");jt.loading=kf("loading");jt.custom=kf("custom");jt.dismiss=(t,e)=>{let n={type:3,toastId:t};e?dv(e)(n):uV(n)};jt.dismissAll=t=>jt.dismiss(void 0,t);jt.remove=(t,e)=>{let n={type:4,toastId:t};e?dv(e)(n):uV(n)};jt.removeAll=t=>jt.remove(void 0,t);jt.promise=(t,e,n)=>{let r=jt.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let o=e.success?gg(e.success,i):void 0;return o?jt.success(o,{id:r,...n,...n==null?void 0:n.success}):jt.dismiss(r),i}).catch(i=>{let o=e.error?gg(e.error,i):void 0;o?jt.error(o,{id:r,...n,...n==null?void 0:n.error}):jt.dismiss(r)}),t};var SQ=1e3,AQ=(t,e="default")=>{let{toasts:n,pausedAt:r}=EQ(t,e),i=$.useRef(new Map).current,o=$.useCallback((d,f=SQ)=>{if(i.has(d))return;let p=setTimeout(()=>{i.delete(d),a({type:4,toastId:d})},f);i.set(d,p)},[]);$.useEffect(()=>{if(r)return;let d=Date.now(),f=n.map(p=>{if(p.duration===1/0)return;let g=(p.duration||0)+p.pauseDuration-(d-p.createdAt);if(g<0){p.visible&&jt.dismiss(p.id);return}return setTimeout(()=>jt.dismiss(p.id,e),g)});return()=>{f.forEach(p=>p&&clearTimeout(p))}},[n,r,e]);let a=$.useCallback(dv(e),[e]),s=$.useCallback(()=>{a({type:5,time:Date.now()})},[a]),l=$.useCallback((d,f)=>{a({type:1,toast:{id:d,height:f}})},[a]),u=$.useCallback(()=>{r&&a({type:6,time:Date.now()})},[r,a]),c=$.useCallback((d,f)=>{let{reverseOrder:p=!1,gutter:g=8,defaultPosition:m}=f||{},y=n.filter(v=>(v.position||m)===(d.position||m)&&v.height),_=y.findIndex(v=>v.id===d.id),w=y.filter((v,A)=>A<_&&v.visible).length;return y.filter(v=>v.visible).slice(...p?[w+1]:[0,w]).reduce((v,A)=>v+(A.height||0)+g,0)},[n]);return $.useEffect(()=>{n.forEach(d=>{if(d.dismissed)o(d.id,d.removeDelay);else{let f=i.get(d.id);f&&(clearTimeout(f),i.delete(d.id))}})},[n,o]),{toasts:n,handlers:{updateHeight:l,startPause:s,endPause:u,calculateOffset:c}}},IQ=Hi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,PQ=Hi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,OQ=Hi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,kQ=_a("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${IQ} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${PQ} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${OQ} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,CQ=Hi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,RQ=_a("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${CQ} 1s linear infinite;
`,NQ=Hi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,DQ=Hi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,MQ=_a("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${NQ} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${DQ} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,$Q=_a("div")`
  position: absolute;
`,LQ=_a("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,jQ=Hi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,VQ=_a("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${jQ} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,FQ=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?$.createElement(VQ,null,e):e:n==="blank"?null:$.createElement(LQ,null,$.createElement(RQ,{...r}),n!=="loading"&&$.createElement($Q,null,n==="error"?$.createElement(kQ,{...r}):$.createElement(MQ,{...r})))},BQ=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,UQ=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,zQ="0%{opacity:0;} 100%{opacity:1;}",qQ="0%{opacity:1;} 100%{opacity:0;}",WQ=_a("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,KQ=_a("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,GQ=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=oV()?[zQ,qQ]:[BQ(n),UQ(n)];return{animation:e?`${Hi(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Hi(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},HQ=$.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?GQ(t.position||e||"top-center",t.visible):{opacity:0},o=$.createElement(FQ,{toast:t}),a=$.createElement(KQ,{...t.ariaProps},gg(t.message,t));return $.createElement(WQ,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:o,message:a}):$.createElement($.Fragment,null,o,a))});yQ($.createElement);var QQ=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let o=$.useCallback(a=>{if(a){let s=()=>{let l=a.getBoundingClientRect().height;r(t,l)};s(),new MutationObserver(s).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return $.createElement("div",{ref:o,className:e,style:n},i)},XQ=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:oV()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},YQ=cv`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Np=16,JQ=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,toasterId:o,containerStyle:a,containerClassName:s})=>{let{toasts:l,handlers:u}=AQ(n,o);return $.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:Np,left:Np,right:Np,bottom:Np,pointerEvents:"none",...a},className:s,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(c=>{let d=c.position||e,f=u.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),p=XQ(d,f);return $.createElement(QQ,{id:c.id,key:c.id,onHeightUpdate:u.updateHeight,className:c.visible?YQ:"",style:p},c.type==="custom"?gg(c.message,c):i?i(c):$.createElement(HQ,{toast:c,position:d}))}))},Yt=jt;function ZQ(){const[t,e]=$.useState(!0),[n,r]=$.useState("farmer"),[i,o]=$.useState({name:"",email:"",password:"",phone:"",location:""}),[a,s]=$.useState(!1),{login:l,signup:u}=lr(),c=My(),d=async p=>{p.preventDefault(),s(!0);try{t?(await l(i.email,i.password),Yt.success("Login successful!")):(await u(i.email,i.password,{name:i.name,email:i.email,phone:i.phone,location:i.location,role:n}),Yt.success("Account created successfully!")),c(n==="farmer"?"/farmer":"/shopkeeper")}catch(g){Yt.error(g.message)}finally{s(!1)}},f=p=>{o(g=>({...g,[p.target.name]:p.target.value}))};return O("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center py-12 px-4",children:M("div",{className:"max-w-md w-full space-y-8 bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg",children:[O("div",{children:O("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:t?"Sign in to your account":"Create your account"})}),M("div",{className:"flex bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[O("button",{type:"button",onClick:()=>r("farmer"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium ${n==="farmer"?"bg-green-500 text-white shadow":"text-gray-700 dark:text-gray-300"}`,children:"Farmer"}),O("button",{type:"button",onClick:()=>r("shopkeeper"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium ${n==="shopkeeper"?"bg-green-500 text-white shadow":"text-gray-700 dark:text-gray-300"}`,children:"Shopkeeper"})]}),M("form",{className:"mt-8 space-y-6",onSubmit:d,children:[M("div",{className:"space-y-4",children:[!t&&O("input",{name:"name",type:"text",required:!0,placeholder:"Full Name",value:i.name,onChange:f,className:"appearance-none rounded-lg relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-green-500 focus:border-green-500"}),O("input",{name:"email",type:"email",required:!0,placeholder:"Email address",value:i.email,onChange:f,className:"appearance-none rounded-lg relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-green-500 focus:border-green-500"}),O("input",{name:"password",type:"password",required:!0,placeholder:"Password",value:i.password,onChange:f,className:"appearance-none rounded-lg relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-green-500 focus:border-green-500"}),!t&&M(o2,{children:[O("input",{name:"phone",type:"tel",required:!0,placeholder:"Phone Number",value:i.phone,onChange:f,className:"appearance-none rounded-lg relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-green-500 focus:border-green-500"}),O("input",{name:"location",type:"text",required:!0,placeholder:"Location",value:i.location,onChange:f,className:"appearance-none rounded-lg relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-green-500 focus:border-green-500"})]})]}),O("button",{type:"submit",disabled:a,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-500 hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:a?"Loading...":t?"Sign In":"Sign Up"}),O("div",{className:"text-center",children:O("button",{type:"button",onClick:()=>e(!t),className:"text-green-500 hover:text-green-600",children:t?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})]})})}function cV(t={}){const[e,n]=$.useState([]),[r,i]=$.useState(!0);return $.useEffect(()=>{let o=ki(ra(Tn,"fertilizers"),Ci("quantity",">",0));return t.cropType&&(o=ki(o,Ci("suitableCrops","array-contains",t.cropType))),t.soilType&&(o=ki(o,Ci("suitableSoil","array-contains",t.soilType))),t.shopId&&(o=ki(o,Ci("shopId","==",t.shopId))),mu(o,s=>{const l=s.docs.map(u=>({id:u.id,...u.data()}));n(l),i(!1)})},[t]),{fertilizers:e,loading:r}}function cT(){const[t,e]=$.useState([]),{userData:n}=$.useContext(sT),r=l=>{(n==null?void 0:n.role)==="farmer"&&e(u=>u.find(d=>d.id===l.id)?u.map(d=>d.id===l.id?{...d,quantity:d.quantity+1}:d):[...u,{...l,quantity:1}])},i=l=>{e(u=>u.filter(c=>c.id!==l))};return{cart:t,addToCart:r,removeFromCart:i,updateQuantity:(l,u)=>{if(u<=0){i(l);return}e(c=>c.map(d=>d.id===l?{...d,quantity:u}:d))},clearCart:()=>e([]),getTotalPrice:()=>t.reduce((l,u)=>l+u.price*u.quantity,0)}}function eX(){const[t,e]=$.useState(null),[n,r]=$.useState(!0);return $.useEffect(()=>{(async()=>{try{const o={location:"Farm Location",temperature:22,humidity:65,condition:"Partly Cloudy",windSpeed:12};setTimeout(()=>{e(o),r(!1)},1e3)}catch(o){console.error("Error fetching weather:",o),r(!1)}})()},[]),{weather:t,loading:n}}function tX(){const[t,e]=$.useState([]);$.useEffect(()=>{e([{id:1,type:"info",message:"New organic fertilizers available",read:!1},{id:2,type:"sale",message:"Special discount on nitrogen fertilizers",read:!1},{id:3,type:"alert",message:"Weather alert: Rain expected tomorrow",read:!0}])},[]);const n=t.filter(r=>!r.read).length;return{notifications:t,unreadCount:n}}function dV({fertilizer:t,onAddToCart:e,isRecommended:n=!1}){var u,c,d,f;const{userData:r}=lr(),[i,o]=$.useState(!1),a=()=>{if((r==null?void 0:r.role)!=="farmer"){Yt.error("Only farmers can add to cart");return}e(t),Yt.success("Added to cart!")},s=p=>{p.stopPropagation(),t.shopMapLink?window.open(t.shopMapLink,"_blank","noopener,noreferrer"):Yt.error("No map location available for this shop")},l=p=>{p.stopPropagation(),t.shopPhone?window.open(`tel:${t.shopPhone}`):Yt.error("No phone number available for this shop")};return M("div",{className:`backdrop-blur-lg bg-white/10 border border-white/20 rounded-2xl shadow-xl overflow-hidden hover:scale-105 hover:shadow-2xl transition-all duration-300 ${n?"ring-2 ring-emerald-400/50":""}`,children:[M("div",{className:"h-48 bg-gradient-to-br from-white/10 to-white/5 relative overflow-hidden",children:[t.imageUrl&&!i?O("img",{src:t.imageUrl,alt:t.name,className:"w-full h-full object-cover",onError:()=>o(!0)}):O("div",{className:"w-full h-full flex items-center justify-center text-white/40",children:M("div",{className:"text-center",children:[O("div",{className:"text-4xl mb-2",children:""}),O("p",{className:"text-sm",children:"No Image"})]})}),M("div",{className:"absolute top-3 right-3 flex flex-col space-y-2",children:[n&&M("div",{className:"bg-gradient-to-r from-emerald-500 to-green-500 text-white px-2 py-1 rounded-full text-xs font-medium flex items-center space-x-1",children:[O(mg,{size:12}),O("span",{children:"AI Recommended"})]}),M("div",{className:"bg-white/20 backdrop-blur-sm text-white px-2 py-1 rounded-full text-sm",children:["$",t.price]})]})]}),M("div",{className:"p-5",children:[O("h3",{className:"font-bold text-lg text-white mb-2 line-clamp-1",children:t.name}),M("div",{className:"mb-4 space-y-3",children:[O("div",{className:"flex items-center justify-between",children:M("div",{className:"flex items-center text-white/80 text-sm",children:[O(pg,{size:14,className:"mr-2"}),O("span",{className:"font-medium truncate",children:t.shopName||"Unknown Shop"})]})}),t.shopAddress&&M("div",{className:"flex items-start space-x-2 text-white/70 text-xs",children:[O(Jj,{size:12,className:"mt-0.5 flex-shrink-0"}),O("span",{className:"line-clamp-2",children:t.shopAddress})]}),M("div",{className:"flex items-center justify-between pt-2",children:[t.shopPhone&&M("button",{onClick:l,className:"flex items-center space-x-1 text-emerald-300 hover:text-emerald-200 text-xs transition-colors group",children:[O(tV,{size:12}),O("span",{children:"Call"})]}),t.shopMapLink&&M("button",{onClick:s,className:"flex items-center space-x-1 text-blue-300 hover:text-blue-200 text-xs transition-colors group",children:[O(rQ,{size:12}),O("span",{children:"View on Map"})]})]})]}),M("div",{className:"mb-4",children:[M("div",{className:"flex flex-wrap gap-1 mb-2",children:[(u=t.nutrients)==null?void 0:u.slice(0,3).map((p,g)=>O("span",{className:"bg-white/20 backdrop-blur-sm text-white/90 px-2 py-1 rounded-lg text-xs border border-white/20",children:p},g)),((c=t.nutrients)==null?void 0:c.length)>3&&M("span",{className:"bg-white/10 text-white/70 px-2 py-1 rounded-lg text-xs",children:["+",t.nutrients.length-3," more"]})]}),M("div",{className:"text-white/70 text-sm space-y-1",children:[M("div",{children:["Suitable for: ",(d=t.suitableCrops)==null?void 0:d.slice(0,2).join(", ")]}),M("div",{children:["Soil type: ",(f=t.suitableSoil)==null?void 0:f.join(", ")]})]})]}),M("div",{className:"flex justify-between items-center mb-4",children:[M("div",{className:"flex items-center space-x-1",children:[O(lT,{size:14,className:"text-yellow-300 fill-current"}),O("span",{className:"text-white/80 text-sm",children:t.rating||"4.2"})]}),O("div",{className:`text-sm font-medium ${t.quantity<10?"text-red-300":"text-emerald-300"}`,children:t.quantity<10?"Low Stock":"In Stock"})]}),(r==null?void 0:r.role)==="farmer"&&M("button",{onClick:a,disabled:t.quantity===0,className:"w-full bg-gradient-to-r from-emerald-500 to-green-500 hover:from-emerald-600 hover:to-green-600 disabled:from-gray-500 disabled:to-gray-600 text-white py-3 rounded-xl font-semibold transition-all duration-300 hover:scale-105 disabled:hover:scale-100 flex items-center justify-center space-x-2",children:[O(bh,{size:18}),O("span",{children:"Add to Cart"})]})]})]})}async function nX(t,e,n){var i,o;const r={items:t,total:t.reduce((a,s)=>a+s.price*s.quantity,0),status:"pending",farmerId:e,farmerName:n.name,farmerLocation:n.location,createdAt:TG(),shopId:(i=t[0])==null?void 0:i.shopId,shopName:(o=t[0])==null?void 0:o.shopName};await Cj(ra(Tn,"orders"),r)}function rX({onClose:t}){const{cart:e,removeFromCart:n,updateQuantity:r,clearCart:i,getTotalPrice:o}=cT(),{currentUser:a,userData:s}=lr(),l=async()=>{try{await nX(e,a.uid,s),i(),Yt.success("Order placed successfully!"),t()}catch(u){Yt.error("Failed to place order: "+u.message)}};return O("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-end z-50",children:M("div",{className:"backdrop-blur-lg bg-white/10 border-l border-white/20 w-full max-w-md h-full overflow-y-auto shadow-2xl",children:[O("div",{className:"p-6 border-b border-white/20",children:M("div",{className:"flex justify-between items-center",children:[M("div",{className:"flex items-center space-x-3",children:[O(pg,{className:"text-white",size:24}),O("h2",{className:"text-xl font-semibold text-white",children:"Shopping Cart"})]}),O("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:O(gu,{size:20,className:"text-white"})})]})}),O("div",{className:"p-6 space-y-4",children:e.length===0?M("div",{className:"text-center py-12",children:[O(pg,{size:48,className:"text-white/40 mx-auto mb-4"}),O("p",{className:"text-white/80 text-lg",children:"Your cart is empty"})]}):M(o2,{children:[e.map(u=>O("div",{className:"backdrop-blur-sm bg-white/5 border border-white/20 rounded-2xl p-4",children:M("div",{className:"flex items-center space-x-4",children:[O("img",{src:u.imageUrl,alt:u.name,className:"w-16 h-16 object-cover rounded-xl"}),M("div",{className:"flex-1",children:[O("h3",{className:"font-semibold text-white text-sm line-clamp-1",children:u.name}),M("p",{className:"text-emerald-300 text-sm",children:["$",u.price]}),M("div",{className:"flex items-center space-x-2 mt-2",children:[O("button",{onClick:()=>r(u.id,u.quantity-1),className:"p-1 rounded-lg bg-white/10 hover:bg-white/20 transition-colors",children:O(nQ,{size:14,className:"text-white"})}),O("span",{className:"w-8 text-center text-white text-sm",children:u.quantity}),O("button",{onClick:()=>r(u.id,u.quantity+1),className:"p-1 rounded-lg bg-white/10 hover:bg-white/20 transition-colors",children:O(nV,{size:14,className:"text-white"})})]})]}),O("button",{onClick:()=>n(u.id),className:"p-2 text-red-300 hover:bg-red-500/20 rounded-xl transition-colors",children:O(gu,{size:16})})]})},u.id)),M("div",{className:"border-t border-white/20 pt-6",children:[M("div",{className:"flex justify-between items-center mb-6",children:[O("span",{className:"text-white/80 text-lg",children:"Total:"}),M("span",{className:"text-white text-2xl font-bold",children:["$",o().toFixed(2)]})]}),O("button",{onClick:l,className:"w-full bg-gradient-to-r from-emerald-500 to-green-500 hover:from-emerald-600 hover:to-green-600 text-white py-4 rounded-xl font-semibold text-lg transition-all duration-300 hover:scale-105 shadow-lg",children:"Place Order"})]})]})})]})})}function iX(){const[t,e]=$.useState([]),{fertilizers:n}=cV(),{addToCart:r}=cT();return $.useEffect(()=>{const i=n.filter(o=>{var u;const a=o.quantity>5,s=o.rating>=4,l=((u=o.nutrients)==null?void 0:u.length)>=2;return a&&(s||l)}).sort((o,a)=>{const s=(o.rating||3)*(o.quantity>10?1.2:1);return(a.rating||3)*(a.quantity>10?1.2:1)-s}).slice(0,8);e(i)},[n]),M("div",{className:"space-y-6",children:[M("div",{className:"backdrop-blur-lg bg-white/10 border border-white/20 rounded-2xl p-6 shadow-xl",children:[M("div",{className:"flex items-center space-x-3 mb-4",children:[O("div",{className:"p-2 bg-emerald-500/20 rounded-xl",children:O(mg,{className:"text-emerald-300",size:24})}),M("div",{children:[O("h3",{className:"text-white text-xl font-semibold",children:"AI-Powered Recommendations"}),O("p",{className:"text-white/70 text-sm",children:"Smart suggestions based on your farming patterns and local conditions"})]})]}),M("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[M("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10",children:[O(Xa,{size:20,className:"text-emerald-300 mb-2"}),O("p",{className:"text-white text-sm font-medium",children:"Personalized"}),O("p",{className:"text-white/60 text-xs",children:"Based on your crop history"})]}),M("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10",children:[O(lT,{size:20,className:"text-yellow-300 mb-2"}),O("p",{className:"text-white text-sm font-medium",children:"Top Rated"}),O("p",{className:"text-white/60 text-xs",children:"Highly reviewed by farmers"})]})]})]}),M("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[t.map(i=>O(dV,{fertilizer:i,onAddToCart:r,isRecommended:!0},i.id)),t.length===0&&M("div",{className:"col-span-full text-center py-12 backdrop-blur-lg bg-white/10 rounded-2xl border border-white/20",children:[O(mg,{size:48,className:"text-white/40 mx-auto mb-4"}),O("p",{className:"text-white/80 text-lg",children:"No recommendations available yet. Start browsing to get personalized suggestions!"})]})]})]})}function oX({weather:t,loading:e}){const n=r=>{const i=r==null?void 0:r.toLowerCase();return i!=null&&i.includes("rain")?O(XH,{className:"text-blue-300",size:24}):i!=null&&i.includes("snow")?O(YH,{className:"text-blue-100",size:24}):i!=null&&i.includes("cloud")?O(JH,{className:"text-gray-300",size:24}):i!=null&&i.includes("wind")?O(CO,{className:"text-gray-400",size:24}):O(hw,{className:"text-yellow-300",size:24})};return e?M("div",{className:"backdrop-blur-lg bg-white/10 border border-white/20 rounded-2xl p-6 shadow-xl animate-pulse",children:[O("div",{className:"h-6 bg-white/20 rounded w-1/3 mb-4"}),O("div",{className:"h-4 bg-white/20 rounded w-1/2"})]}):M("div",{className:"backdrop-blur-lg bg-white/10 border border-white/20 rounded-2xl p-6 shadow-xl hover:scale-105 transition-transform duration-300",children:[M("div",{className:"flex items-center justify-between",children:[M("div",{children:[O("h3",{className:"text-white text-lg font-semibold mb-2",children:"Current Weather"}),O("p",{className:"text-white/80 text-sm",children:(t==null?void 0:t.location)||"Your Location"})]}),(t==null?void 0:t.condition)&&n(t.condition)]}),M("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[M("div",{className:"flex items-center space-x-2",children:[O(sQ,{size:18,className:"text-red-300"}),M("div",{children:[O("p",{className:"text-white/60 text-xs",children:"Temperature"}),M("p",{className:"text-white font-semibold",children:[(t==null?void 0:t.temperature)||"--","C"]})]})]}),M("div",{className:"flex items-center space-x-2",children:[O(ZH,{size:18,className:"text-blue-300"}),M("div",{children:[O("p",{className:"text-white/60 text-xs",children:"Humidity"}),M("p",{className:"text-white font-semibold",children:[(t==null?void 0:t.humidity)||"--","%"]})]})]}),M("div",{className:"flex items-center space-x-2",children:[O(CO,{size:18,className:"text-gray-300"}),M("div",{children:[O("p",{className:"text-white/60 text-xs",children:"Condition"}),O("p",{className:"text-white font-semibold text-sm capitalize",children:(t==null?void 0:t.condition)||"--"})]})]})]})]})}function hV(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=hV(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ee(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=hV(t))&&(r&&(r+=" "),r+=e);return r}var aX=Array.isArray,Wn=aX,sX=typeof np=="object"&&np&&np.Object===Object&&np,fV=sX,lX=fV,uX=typeof self=="object"&&self&&self.Object===Object&&self,cX=lX||uX||Function("return this")(),pi=cX,dX=pi,hX=dX.Symbol,Cf=hX,NO=Cf,pV=Object.prototype,fX=pV.hasOwnProperty,pX=pV.toString,Qc=NO?NO.toStringTag:void 0;function mX(t){var e=fX.call(t,Qc),n=t[Qc];try{t[Qc]=void 0;var r=!0}catch{}var i=pX.call(t);return r&&(e?t[Qc]=n:delete t[Qc]),i}var gX=mX,yX=Object.prototype,vX=yX.toString;function _X(t){return vX.call(t)}var bX=_X,DO=Cf,wX=gX,xX=bX,EX="[object Null]",TX="[object Undefined]",MO=DO?DO.toStringTag:void 0;function SX(t){return t==null?t===void 0?TX:EX:MO&&MO in Object(t)?wX(t):xX(t)}var ro=SX;function AX(t){return t!=null&&typeof t=="object"}var io=AX,IX=ro,PX=io,OX="[object Symbol]";function kX(t){return typeof t=="symbol"||PX(t)&&IX(t)==OX}var ac=kX,CX=Wn,RX=ac,NX=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,DX=/^\w*$/;function MX(t,e){if(CX(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||RX(t)?!0:DX.test(t)||!NX.test(t)||e!=null&&t in Object(e)}var dT=MX;function $X(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ba=$X;const sc=Be(ba);var LX=ro,jX=ba,VX="[object AsyncFunction]",FX="[object Function]",BX="[object GeneratorFunction]",UX="[object Proxy]";function zX(t){if(!jX(t))return!1;var e=LX(t);return e==FX||e==BX||e==VX||e==UX}var hT=zX;const ve=Be(hT);var qX=pi,WX=qX["__core-js_shared__"],KX=WX,d_=KX,$O=function(){var t=/[^.]+$/.exec(d_&&d_.keys&&d_.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function GX(t){return!!$O&&$O in t}var HX=GX,QX=Function.prototype,XX=QX.toString;function YX(t){if(t!=null){try{return XX.call(t)}catch{}try{return t+""}catch{}}return""}var mV=YX,JX=hT,ZX=HX,eY=ba,tY=mV,nY=/[\\^$.*+?()[\]{}|]/g,rY=/^\[object .+?Constructor\]$/,iY=Function.prototype,oY=Object.prototype,aY=iY.toString,sY=oY.hasOwnProperty,lY=RegExp("^"+aY.call(sY).replace(nY,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function uY(t){if(!eY(t)||ZX(t))return!1;var e=JX(t)?lY:rY;return e.test(tY(t))}var cY=uY;function dY(t,e){return t==null?void 0:t[e]}var hY=dY,fY=cY,pY=hY;function mY(t,e){var n=pY(t,e);return fY(n)?n:void 0}var Us=mY,gY=Us,yY=gY(Object,"create"),hv=yY,LO=hv;function vY(){this.__data__=LO?LO(null):{},this.size=0}var _Y=vY;function bY(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var wY=bY,xY=hv,EY="__lodash_hash_undefined__",TY=Object.prototype,SY=TY.hasOwnProperty;function AY(t){var e=this.__data__;if(xY){var n=e[t];return n===EY?void 0:n}return SY.call(e,t)?e[t]:void 0}var IY=AY,PY=hv,OY=Object.prototype,kY=OY.hasOwnProperty;function CY(t){var e=this.__data__;return PY?e[t]!==void 0:kY.call(e,t)}var RY=CY,NY=hv,DY="__lodash_hash_undefined__";function MY(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=NY&&e===void 0?DY:e,this}var $Y=MY,LY=_Y,jY=wY,VY=IY,FY=RY,BY=$Y;function lc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}lc.prototype.clear=LY;lc.prototype.delete=jY;lc.prototype.get=VY;lc.prototype.has=FY;lc.prototype.set=BY;var UY=lc;function zY(){this.__data__=[],this.size=0}var qY=zY;function WY(t,e){return t===e||t!==t&&e!==e}var fT=WY,KY=fT;function GY(t,e){for(var n=t.length;n--;)if(KY(t[n][0],e))return n;return-1}var fv=GY,HY=fv,QY=Array.prototype,XY=QY.splice;function YY(t){var e=this.__data__,n=HY(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():XY.call(e,n,1),--this.size,!0}var JY=YY,ZY=fv;function eJ(t){var e=this.__data__,n=ZY(e,t);return n<0?void 0:e[n][1]}var tJ=eJ,nJ=fv;function rJ(t){return nJ(this.__data__,t)>-1}var iJ=rJ,oJ=fv;function aJ(t,e){var n=this.__data__,r=oJ(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var sJ=aJ,lJ=qY,uJ=JY,cJ=tJ,dJ=iJ,hJ=sJ;function uc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}uc.prototype.clear=lJ;uc.prototype.delete=uJ;uc.prototype.get=cJ;uc.prototype.has=dJ;uc.prototype.set=hJ;var pv=uc,fJ=Us,pJ=pi,mJ=fJ(pJ,"Map"),pT=mJ,jO=UY,gJ=pv,yJ=pT;function vJ(){this.size=0,this.__data__={hash:new jO,map:new(yJ||gJ),string:new jO}}var _J=vJ;function bJ(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var wJ=bJ,xJ=wJ;function EJ(t,e){var n=t.__data__;return xJ(e)?n[typeof e=="string"?"string":"hash"]:n.map}var mv=EJ,TJ=mv;function SJ(t){var e=TJ(this,t).delete(t);return this.size-=e?1:0,e}var AJ=SJ,IJ=mv;function PJ(t){return IJ(this,t).get(t)}var OJ=PJ,kJ=mv;function CJ(t){return kJ(this,t).has(t)}var RJ=CJ,NJ=mv;function DJ(t,e){var n=NJ(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var MJ=DJ,$J=_J,LJ=AJ,jJ=OJ,VJ=RJ,FJ=MJ;function cc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}cc.prototype.clear=$J;cc.prototype.delete=LJ;cc.prototype.get=jJ;cc.prototype.has=VJ;cc.prototype.set=FJ;var mT=cc,gV=mT,BJ="Expected a function";function gT(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(BJ);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(gT.Cache||gV),n}gT.Cache=gV;var yV=gT;const UJ=Be(yV);var zJ=yV,qJ=500;function WJ(t){var e=zJ(t,function(r){return n.size===qJ&&n.clear(),r}),n=e.cache;return e}var KJ=WJ,GJ=KJ,HJ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,QJ=/\\(\\)?/g,XJ=GJ(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(HJ,function(n,r,i,o){e.push(i?o.replace(QJ,"$1"):r||n)}),e}),YJ=XJ;function JJ(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var yT=JJ,VO=Cf,ZJ=yT,eZ=Wn,tZ=ac,nZ=1/0,FO=VO?VO.prototype:void 0,BO=FO?FO.toString:void 0;function vV(t){if(typeof t=="string")return t;if(eZ(t))return ZJ(t,vV)+"";if(tZ(t))return BO?BO.call(t):"";var e=t+"";return e=="0"&&1/t==-nZ?"-0":e}var rZ=vV,iZ=rZ;function oZ(t){return t==null?"":iZ(t)}var _V=oZ,aZ=Wn,sZ=dT,lZ=YJ,uZ=_V;function cZ(t,e){return aZ(t)?t:sZ(t,e)?[t]:lZ(uZ(t))}var bV=cZ,dZ=ac,hZ=1/0;function fZ(t){if(typeof t=="string"||dZ(t))return t;var e=t+"";return e=="0"&&1/t==-hZ?"-0":e}var gv=fZ,pZ=bV,mZ=gv;function gZ(t,e){e=pZ(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[mZ(e[n++])];return n&&n==r?t:void 0}var vT=gZ,yZ=vT;function vZ(t,e,n){var r=t==null?void 0:yZ(t,e);return r===void 0?n:r}var wV=vZ;const nr=Be(wV);function _Z(t){return t==null}var bZ=_Z;const be=Be(bZ);var wZ=ro,xZ=Wn,EZ=io,TZ="[object String]";function SZ(t){return typeof t=="string"||!xZ(t)&&EZ(t)&&wZ(t)==TZ}var AZ=SZ;const Is=Be(AZ);var xV={exports:{}},Ue={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _T=Symbol.for("react.element"),bT=Symbol.for("react.portal"),yv=Symbol.for("react.fragment"),vv=Symbol.for("react.strict_mode"),_v=Symbol.for("react.profiler"),bv=Symbol.for("react.provider"),wv=Symbol.for("react.context"),IZ=Symbol.for("react.server_context"),xv=Symbol.for("react.forward_ref"),Ev=Symbol.for("react.suspense"),Tv=Symbol.for("react.suspense_list"),Sv=Symbol.for("react.memo"),Av=Symbol.for("react.lazy"),PZ=Symbol.for("react.offscreen"),EV;EV=Symbol.for("react.module.reference");function xr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case _T:switch(t=t.type,t){case yv:case _v:case vv:case Ev:case Tv:return t;default:switch(t=t&&t.$$typeof,t){case IZ:case wv:case xv:case Av:case Sv:case bv:return t;default:return e}}case bT:return e}}}Ue.ContextConsumer=wv;Ue.ContextProvider=bv;Ue.Element=_T;Ue.ForwardRef=xv;Ue.Fragment=yv;Ue.Lazy=Av;Ue.Memo=Sv;Ue.Portal=bT;Ue.Profiler=_v;Ue.StrictMode=vv;Ue.Suspense=Ev;Ue.SuspenseList=Tv;Ue.isAsyncMode=function(){return!1};Ue.isConcurrentMode=function(){return!1};Ue.isContextConsumer=function(t){return xr(t)===wv};Ue.isContextProvider=function(t){return xr(t)===bv};Ue.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===_T};Ue.isForwardRef=function(t){return xr(t)===xv};Ue.isFragment=function(t){return xr(t)===yv};Ue.isLazy=function(t){return xr(t)===Av};Ue.isMemo=function(t){return xr(t)===Sv};Ue.isPortal=function(t){return xr(t)===bT};Ue.isProfiler=function(t){return xr(t)===_v};Ue.isStrictMode=function(t){return xr(t)===vv};Ue.isSuspense=function(t){return xr(t)===Ev};Ue.isSuspenseList=function(t){return xr(t)===Tv};Ue.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===yv||t===_v||t===vv||t===Ev||t===Tv||t===PZ||typeof t=="object"&&t!==null&&(t.$$typeof===Av||t.$$typeof===Sv||t.$$typeof===bv||t.$$typeof===wv||t.$$typeof===xv||t.$$typeof===EV||t.getModuleId!==void 0)};Ue.typeOf=xr;xV.exports=Ue;var OZ=xV.exports,kZ=ro,CZ=io,RZ="[object Number]";function NZ(t){return typeof t=="number"||CZ(t)&&kZ(t)==RZ}var TV=NZ;const DZ=Be(TV);var MZ=TV;function $Z(t){return MZ(t)&&t!=+t}var LZ=$Z;const Rf=Be(LZ);var kn=function(e){return e===0?0:e>0?1:-1},Ya=function(e){return Is(e)&&e.indexOf("%")===e.length-1},ne=function(e){return DZ(e)&&!Rf(e)},jZ=function(e){return be(e)},Bt=function(e){return ne(e)||Is(e)},VZ=0,dc=function(e){var n=++VZ;return"".concat(e||"").concat(n)},Cn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ne(e)&&!Is(e))return r;var o;if(Ya(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Rf(o)&&(o=r),i&&o>n&&(o=n),o},Po=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},FZ=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Yn=function(e,n){return ne(e)&&ne(n)?function(r){return e+r*(n-e)}:function(){return n}};function yg(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):nr(r,e))===n})}var BZ=function(e,n){return ne(e)&&ne(n)?e-n:Is(e)&&Is(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function zl(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function mw(t){"@babel/helpers - typeof";return mw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mw(t)}var UZ=["viewBox","children"],zZ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],UO=["points","pathLength"],h_={svg:UZ,polygon:UO,polyline:UO},wT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],vg=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if($.isValidElement(e)&&(r=e.props),!sc(r))return null;var i={};return Object.keys(r).forEach(function(o){wT.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},qZ=function(e,n,r){return function(i){return e(n,r,i),null}},Ps=function(e,n,r){if(!sc(e)||mw(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];wT.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=qZ(a,n,r))}),i},WZ=["children"],KZ=["children"];function zO(t,e){if(t==null)return{};var n=GZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gw(t){"@babel/helpers - typeof";return gw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gw(t)}var qO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Li=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},WO=null,f_=null,xT=function t(e){if(e===WO&&Array.isArray(f_))return f_;var n=[];return $.Children.forEach(e,function(r){be(r)||(OZ.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),f_=n,WO=e,n};function rr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Li(i)}):r=[Li(e)],xT(t).forEach(function(i){var o=nr(i,"type.displayName")||nr(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Xn(t,e){var n=rr(t,e);return n&&n[0]}var KO=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ne(r)||r<=0||!ne(i)||i<=0)},HZ=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],QZ=function(e){return e&&e.type&&Is(e.type)&&HZ.indexOf(e.type)>=0},XZ=function(e){return e&&gw(e)==="object"&&"clipDot"in e},YZ=function(e,n,r,i){var o,a=(o=h_==null?void 0:h_[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!ve(e)&&(i&&a.includes(n)||zZ.includes(n))||r&&wT.includes(n)},pe=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if($.isValidElement(e)&&(i=e.props),!sc(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;YZ((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},yw=function t(e,n){if(e===n)return!0;var r=$.Children.count(e);if(r!==$.Children.count(n))return!1;if(r===0)return!0;if(r===1)return GO(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!GO(o,a))return!1}return!0},GO=function(e,n){if(be(e)&&be(n))return!0;if(!be(e)&&!be(n)){var r=e.props||{},i=r.children,o=zO(r,WZ),a=n.props||{},s=a.children,l=zO(a,KZ);return i&&s?zl(o,l)&&yw(i,s):!i&&!s?zl(o,l):!1}return!1},HO=function(e,n){var r=[],i={};return xT(e).forEach(function(o,a){if(QZ(o))r.push(o);else if(o){var s=Li(o.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var d=u(o,s,a);r.push(d),i[s]=!0}}}),r},JZ=function(e){var n=e&&e.type;return n&&qO[n]?qO[n]:null},ZZ=function(e,n){return xT(n).indexOf(e)},eee=["children","width","height","viewBox","className","style","title","desc"];function vw(){return vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vw.apply(this,arguments)}function tee(t,e){if(t==null)return{};var n=nee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _w(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=tee(t,eee),c=i||{width:n,height:r,x:0,y:0},d=Ee("recharts-surface",o);return j.createElement("svg",vw({},pe(u,!0,"svg"),{className:d,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),j.createElement("title",null,s),j.createElement("desc",null,l),e)}var ree=["children","className"];function bw(){return bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bw.apply(this,arguments)}function iee(t,e){if(t==null)return{};var n=oee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Me=j.forwardRef(function(t,e){var n=t.children,r=t.className,i=iee(t,ree),o=Ee("recharts-layer",r);return j.createElement("g",bw({className:o},pe(i,!0),{ref:e}),n)}),$r=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function aee(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var see=aee,lee=see;function uee(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:lee(t,e,n)}var cee=uee,dee="\\ud800-\\udfff",hee="\\u0300-\\u036f",fee="\\ufe20-\\ufe2f",pee="\\u20d0-\\u20ff",mee=hee+fee+pee,gee="\\ufe0e\\ufe0f",yee="\\u200d",vee=RegExp("["+yee+dee+mee+gee+"]");function _ee(t){return vee.test(t)}var SV=_ee;function bee(t){return t.split("")}var wee=bee,AV="\\ud800-\\udfff",xee="\\u0300-\\u036f",Eee="\\ufe20-\\ufe2f",Tee="\\u20d0-\\u20ff",See=xee+Eee+Tee,Aee="\\ufe0e\\ufe0f",Iee="["+AV+"]",ww="["+See+"]",xw="\\ud83c[\\udffb-\\udfff]",Pee="(?:"+ww+"|"+xw+")",IV="[^"+AV+"]",PV="(?:\\ud83c[\\udde6-\\uddff]){2}",OV="[\\ud800-\\udbff][\\udc00-\\udfff]",Oee="\\u200d",kV=Pee+"?",CV="["+Aee+"]?",kee="(?:"+Oee+"(?:"+[IV,PV,OV].join("|")+")"+CV+kV+")*",Cee=CV+kV+kee,Ree="(?:"+[IV+ww+"?",ww,PV,OV,Iee].join("|")+")",Nee=RegExp(xw+"(?="+xw+")|"+Ree+Cee,"g");function Dee(t){return t.match(Nee)||[]}var Mee=Dee,$ee=wee,Lee=SV,jee=Mee;function Vee(t){return Lee(t)?jee(t):$ee(t)}var Fee=Vee,Bee=cee,Uee=SV,zee=Fee,qee=_V;function Wee(t){return function(e){e=qee(e);var n=Uee(e)?zee(e):void 0,r=n?n[0]:e.charAt(0),i=n?Bee(n,1).join(""):e.slice(1);return r[t]()+i}}var Kee=Wee,Gee=Kee,Hee=Gee("toUpperCase"),Qee=Hee;const Iv=Be(Qee);function Ye(t){return function(){return t}}const RV=Math.cos,_g=Math.sin,Vr=Math.sqrt,bg=Math.PI,Pv=2*bg,Ew=Math.PI,Tw=2*Ew,La=1e-6,Xee=Tw-La;function NV(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Yee(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return NV;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Jee{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?NV:Yee(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,d=s-n,f=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>La)if(!(Math.abs(d*l-u*c)>La)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,g=i-s,m=l*l+u*u,y=p*p+g*g,_=Math.sqrt(m),w=Math.sqrt(f),v=o*Math.tan((Ew-Math.acos((m+f-y)/(2*_*w)))/2),A=v/w,E=v/_;Math.abs(A-1)>La&&this._append`L${e+A*c},${n+A*d}`,this._append`A${o},${o},0,0,${+(d*p>c*g)},${this._x1=e+E*l},${this._y1=n+E*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,d=1^a,f=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>La||Math.abs(this._y1-c)>La)&&this._append`L${u},${c}`,r&&(f<0&&(f=f%Tw+Tw),f>Xee?this._append`A${r},${r},0,1,${d},${e-s},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:f>La&&this._append`A${r},${r},0,${+(f>=Ew)},${d},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function ET(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Jee(e)}function TT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function DV(t){this._context=t}DV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ov(t){return new DV(t)}function MV(t){return t[0]}function $V(t){return t[1]}function LV(t,e){var n=Ye(!0),r=null,i=Ov,o=null,a=ET(s);t=typeof t=="function"?t:t===void 0?MV:Ye(t),e=typeof e=="function"?e:e===void 0?$V:Ye(e);function s(l){var u,c=(l=TT(l)).length,d,f=!1,p;for(r==null&&(o=i(p=a())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(d,u,l),+e(d,u,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Ye(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Ye(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ye(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Dp(t,e,n){var r=null,i=Ye(!0),o=null,a=Ov,s=null,l=ET(u);t=typeof t=="function"?t:t===void 0?MV:Ye(+t),e=typeof e=="function"?e:Ye(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?$V:Ye(+n);function u(d){var f,p,g,m=(d=TT(d)).length,y,_=!1,w,v=new Array(m),A=new Array(m);for(o==null&&(s=a(w=l())),f=0;f<=m;++f){if(!(f<m&&i(y=d[f],f,d))===_)if(_=!_)p=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=f-1;g>=p;--g)s.point(v[g],A[g]);s.lineEnd(),s.areaEnd()}_&&(v[f]=+t(y,f,d),A[f]=+e(y,f,d),s.point(r?+r(y,f,d):v[f],n?+n(y,f,d):A[f]))}if(w)return s=null,w+""||null}function c(){return LV().defined(i).curve(a).context(o)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:Ye(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Ye(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Ye(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:Ye(+d),n=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Ye(+d),u):e},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Ye(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Ye(!!d),u):i},u.curve=function(d){return arguments.length?(a=d,o!=null&&(s=a(o)),u):a},u.context=function(d){return arguments.length?(d==null?o=s=null:s=a(o=d),u):o},u}class jV{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Zee(t){return new jV(t,!0)}function ete(t){return new jV(t,!1)}const ST={draw(t,e){const n=Vr(e/bg);t.moveTo(n,0),t.arc(0,0,n,0,Pv)}},tte={draw(t,e){const n=Vr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},VV=Vr(1/3),nte=VV*2,rte={draw(t,e){const n=Vr(e/nte),r=n*VV;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},ite={draw(t,e){const n=Vr(e),r=-n/2;t.rect(r,r,n,n)}},ote=.8908130915292852,FV=_g(bg/10)/_g(7*bg/10),ate=_g(Pv/10)*FV,ste=-RV(Pv/10)*FV,lte={draw(t,e){const n=Vr(e*ote),r=ate*n,i=ste*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=Pv*o/5,s=RV(a),l=_g(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},p_=Vr(3),ute={draw(t,e){const n=-Vr(e/(p_*3));t.moveTo(0,n*2),t.lineTo(-p_*n,-n),t.lineTo(p_*n,-n),t.closePath()}},ur=-.5,cr=Vr(3)/2,Sw=1/Vr(12),cte=(Sw/2+1)*3,dte={draw(t,e){const n=Vr(e/cte),r=n/2,i=n*Sw,o=r,a=n*Sw+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(ur*r-cr*i,cr*r+ur*i),t.lineTo(ur*o-cr*a,cr*o+ur*a),t.lineTo(ur*s-cr*l,cr*s+ur*l),t.lineTo(ur*r+cr*i,ur*i-cr*r),t.lineTo(ur*o+cr*a,ur*a-cr*o),t.lineTo(ur*s+cr*l,ur*l-cr*s),t.closePath()}};function hte(t,e){let n=null,r=ET(i);t=typeof t=="function"?t:Ye(t||ST),e=typeof e=="function"?e:Ye(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Ye(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Ye(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function wg(){}function xg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function BV(t){this._context=t}BV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function fte(t){return new BV(t)}function UV(t){this._context=t}UV.prototype={areaStart:wg,areaEnd:wg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:xg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function pte(t){return new UV(t)}function zV(t){this._context=t}zV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:xg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mte(t){return new zV(t)}function qV(t){this._context=t}qV.prototype={areaStart:wg,areaEnd:wg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function gte(t){return new qV(t)}function QO(t){return t<0?-1:1}function XO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(QO(o)+QO(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function YO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function m_(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Eg(t){this._context=t}Eg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:m_(this,this._t0,YO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,m_(this,YO(this,n=XO(this,t,e)),n);break;default:m_(this,this._t0,n=XO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function WV(t){this._context=new KV(t)}(WV.prototype=Object.create(Eg.prototype)).point=function(t,e){Eg.prototype.point.call(this,e,t)};function KV(t){this._context=t}KV.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function yte(t){return new Eg(t)}function vte(t){return new WV(t)}function GV(t){this._context=t}GV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=JO(t),i=JO(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function JO(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function _te(t){return new GV(t)}function kv(t,e){this._context=t,this._t=e}kv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function bte(t){return new kv(t,.5)}function wte(t){return new kv(t,0)}function xte(t){return new kv(t,1)}function yu(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Aw(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Ete(t,e){return t[e]}function Tte(t){const e=[];return e.key=t,e}function Ste(){var t=Ye([]),e=Aw,n=yu,r=Ete;function i(o){var a=Array.from(t.apply(this,arguments),Tte),s,l=a.length,u=-1,c;for(const d of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(d,a[s].key,u,o)]).data=d;for(s=0,c=TT(e(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Ye(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Ye(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Aw:typeof o=="function"?o:Ye(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??yu,i):n},i}function Ate(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}yu(t,e)}}function Ite(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}yu(t,e)}}function Pte(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=t[e[s]],d=c[r][1]||0,f=c[r-1][1]||0,p=(d-f)/2,g=0;g<s;++g){var m=t[e[g]],y=m[r][1]||0,_=m[r-1][1]||0;p+=y-_}l+=d,u+=p*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,yu(t,e)}}function wh(t){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}var Ote=["type","size","sizeType"];function Iw(){return Iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iw.apply(this,arguments)}function ZO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ek(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(n),!0).forEach(function(r){kte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kte(t,e,n){return e=Cte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cte(t){var e=Rte(t,"string");return wh(e)=="symbol"?e:e+""}function Rte(t,e){if(wh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nte(t,e){if(t==null)return{};var n=Dte(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var HV={symbolCircle:ST,symbolCross:tte,symbolDiamond:rte,symbolSquare:ite,symbolStar:lte,symbolTriangle:ute,symbolWye:dte},Mte=Math.PI/180,$te=function(e){var n="symbol".concat(Iv(e));return HV[n]||ST},Lte=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Mte;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},jte=function(e,n){HV["symbol".concat(Iv(e))]=n},AT=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=Nte(e,Ote),u=ek(ek({},l),{},{type:r,size:o,sizeType:s}),c=function(){var y=$te(r),_=hte().type(y).size(Lte(o,s,r));return _()},d=u.className,f=u.cx,p=u.cy,g=pe(u,!0);return f===+f&&p===+p&&o===+o?j.createElement("path",Iw({},g,{className:Ee("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(p,")"),d:c()})):null};AT.registerSymbol=jte;function vu(t){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vu(t)}function Pw(){return Pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pw.apply(this,arguments)}function tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tk(Object(n),!0).forEach(function(r){xh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XV(r.key),r)}}function Bte(t,e,n){return e&&nk(t.prototype,e),n&&nk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ute(t,e,n){return e=Tg(e),zte(t,QV()?Reflect.construct(e,n||[],Tg(t).constructor):e.apply(t,n))}function zte(t,e){if(e&&(vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qte(t)}function qte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QV=function(){return!!t})()}function Tg(t){return Tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tg(t)}function Wte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ow(t,e)}function Ow(t,e){return Ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ow(t,e)}function xh(t,e,n){return e=XV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XV(t){var e=Kte(t,"string");return vu(e)=="symbol"?e:e+""}function Kte(t,e){if(vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dr=32,IT=function(t){function e(){return Fte(this,e),Ute(this,e,arguments)}return Wte(e,t),Bte(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=dr/2,a=dr/6,s=dr/3,l=r.inactive?i:r.color;if(r.type==="plainline")return j.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:dr,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return j.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(dr,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return j.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(dr/8,"h").concat(dr,"v").concat(dr*3/4,"h").concat(-dr,"z"),className:"recharts-legend-icon"});if(j.isValidElement(r.legendIcon)){var u=Vte({},r);return delete u.legendIcon,j.cloneElement(r.legendIcon,u)}return j.createElement(AT,{fill:l,cx:o,cy:o,size:dr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:dr,height:dr},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,g){var m=p.formatter||l,y=Ee(xh(xh({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var _=ve(p.value)?null:p.value;$r(!ve(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?u:p.color;return j.createElement("li",Pw({className:y,style:d,key:"legend-item-".concat(g)},Ps(r.props,p,g)),j.createElement(_w,{width:a,height:a,viewBox:c,style:f},r.renderIcon(p)),j.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},m?m(_,p,g):_))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return j.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}($.PureComponent);xh(IT,"displayName","Legend");xh(IT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Gte=pv;function Hte(){this.__data__=new Gte,this.size=0}var Qte=Hte;function Xte(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Yte=Xte;function Jte(t){return this.__data__.get(t)}var Zte=Jte;function ene(t){return this.__data__.has(t)}var tne=ene,nne=pv,rne=pT,ine=mT,one=200;function ane(t,e){var n=this.__data__;if(n instanceof nne){var r=n.__data__;if(!rne||r.length<one-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ine(r)}return n.set(t,e),this.size=n.size,this}var sne=ane,lne=pv,une=Qte,cne=Yte,dne=Zte,hne=tne,fne=sne;function hc(t){var e=this.__data__=new lne(t);this.size=e.size}hc.prototype.clear=une;hc.prototype.delete=cne;hc.prototype.get=dne;hc.prototype.has=hne;hc.prototype.set=fne;var YV=hc,pne="__lodash_hash_undefined__";function mne(t){return this.__data__.set(t,pne),this}var gne=mne;function yne(t){return this.__data__.has(t)}var vne=yne,_ne=mT,bne=gne,wne=vne;function Sg(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new _ne;++e<n;)this.add(t[e])}Sg.prototype.add=Sg.prototype.push=bne;Sg.prototype.has=wne;var JV=Sg;function xne(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var ZV=xne;function Ene(t,e){return t.has(e)}var eF=Ene,Tne=JV,Sne=ZV,Ane=eF,Ine=1,Pne=2;function One(t,e,n,r,i,o){var a=n&Ine,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var d=-1,f=!0,p=n&Pne?new Tne:void 0;for(o.set(t,e),o.set(e,t);++d<s;){var g=t[d],m=e[d];if(r)var y=a?r(m,g,d,e,t,o):r(g,m,d,t,e,o);if(y!==void 0){if(y)continue;f=!1;break}if(p){if(!Sne(e,function(_,w){if(!Ane(p,w)&&(g===_||i(g,_,n,r,o)))return p.push(w)})){f=!1;break}}else if(!(g===m||i(g,m,n,r,o))){f=!1;break}}return o.delete(t),o.delete(e),f}var tF=One,kne=pi,Cne=kne.Uint8Array,Rne=Cne;function Nne(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Dne=Nne;function Mne(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var PT=Mne,rk=Cf,ik=Rne,$ne=fT,Lne=tF,jne=Dne,Vne=PT,Fne=1,Bne=2,Une="[object Boolean]",zne="[object Date]",qne="[object Error]",Wne="[object Map]",Kne="[object Number]",Gne="[object RegExp]",Hne="[object Set]",Qne="[object String]",Xne="[object Symbol]",Yne="[object ArrayBuffer]",Jne="[object DataView]",ok=rk?rk.prototype:void 0,g_=ok?ok.valueOf:void 0;function Zne(t,e,n,r,i,o,a){switch(n){case Jne:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Yne:return!(t.byteLength!=e.byteLength||!o(new ik(t),new ik(e)));case Une:case zne:case Kne:return $ne(+t,+e);case qne:return t.name==e.name&&t.message==e.message;case Gne:case Qne:return t==e+"";case Wne:var s=jne;case Hne:var l=r&Fne;if(s||(s=Vne),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=Bne,a.set(t,e);var c=Lne(s(t),s(e),r,i,o,a);return a.delete(t),c;case Xne:if(g_)return g_.call(t)==g_.call(e)}return!1}var ere=Zne;function tre(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var nF=tre,nre=nF,rre=Wn;function ire(t,e,n){var r=e(t);return rre(t)?r:nre(r,n(t))}var ore=ire;function are(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var sre=are;function lre(){return[]}var ure=lre,cre=sre,dre=ure,hre=Object.prototype,fre=hre.propertyIsEnumerable,ak=Object.getOwnPropertySymbols,pre=ak?function(t){return t==null?[]:(t=Object(t),cre(ak(t),function(e){return fre.call(t,e)}))}:dre,mre=pre;function gre(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var yre=gre,vre=ro,_re=io,bre="[object Arguments]";function wre(t){return _re(t)&&vre(t)==bre}var xre=wre,sk=xre,Ere=io,rF=Object.prototype,Tre=rF.hasOwnProperty,Sre=rF.propertyIsEnumerable,Are=sk(function(){return arguments}())?sk:function(t){return Ere(t)&&Tre.call(t,"callee")&&!Sre.call(t,"callee")},OT=Are,Ag={exports:{}};function Ire(){return!1}var Pre=Ire;Ag.exports;(function(t,e){var n=pi,r=Pre,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(Ag,Ag.exports);var iF=Ag.exports,Ore=9007199254740991,kre=/^(?:0|[1-9]\d*)$/;function Cre(t,e){var n=typeof t;return e=e??Ore,!!e&&(n=="number"||n!="symbol"&&kre.test(t))&&t>-1&&t%1==0&&t<e}var kT=Cre,Rre=9007199254740991;function Nre(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Rre}var CT=Nre,Dre=ro,Mre=CT,$re=io,Lre="[object Arguments]",jre="[object Array]",Vre="[object Boolean]",Fre="[object Date]",Bre="[object Error]",Ure="[object Function]",zre="[object Map]",qre="[object Number]",Wre="[object Object]",Kre="[object RegExp]",Gre="[object Set]",Hre="[object String]",Qre="[object WeakMap]",Xre="[object ArrayBuffer]",Yre="[object DataView]",Jre="[object Float32Array]",Zre="[object Float64Array]",eie="[object Int8Array]",tie="[object Int16Array]",nie="[object Int32Array]",rie="[object Uint8Array]",iie="[object Uint8ClampedArray]",oie="[object Uint16Array]",aie="[object Uint32Array]",rt={};rt[Jre]=rt[Zre]=rt[eie]=rt[tie]=rt[nie]=rt[rie]=rt[iie]=rt[oie]=rt[aie]=!0;rt[Lre]=rt[jre]=rt[Xre]=rt[Vre]=rt[Yre]=rt[Fre]=rt[Bre]=rt[Ure]=rt[zre]=rt[qre]=rt[Wre]=rt[Kre]=rt[Gre]=rt[Hre]=rt[Qre]=!1;function sie(t){return $re(t)&&Mre(t.length)&&!!rt[Dre(t)]}var lie=sie;function uie(t){return function(e){return t(e)}}var oF=uie,Ig={exports:{}};Ig.exports;(function(t,e){var n=fV,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(Ig,Ig.exports);var cie=Ig.exports,die=lie,hie=oF,lk=cie,uk=lk&&lk.isTypedArray,fie=uk?hie(uk):die,aF=fie,pie=yre,mie=OT,gie=Wn,yie=iF,vie=kT,_ie=aF,bie=Object.prototype,wie=bie.hasOwnProperty;function xie(t,e){var n=gie(t),r=!n&&mie(t),i=!n&&!r&&yie(t),o=!n&&!r&&!i&&_ie(t),a=n||r||i||o,s=a?pie(t.length,String):[],l=s.length;for(var u in t)(e||wie.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||vie(u,l)))&&s.push(u);return s}var Eie=xie,Tie=Object.prototype;function Sie(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Tie;return t===n}var Aie=Sie;function Iie(t,e){return function(n){return t(e(n))}}var sF=Iie,Pie=sF,Oie=Pie(Object.keys,Object),kie=Oie,Cie=Aie,Rie=kie,Nie=Object.prototype,Die=Nie.hasOwnProperty;function Mie(t){if(!Cie(t))return Rie(t);var e=[];for(var n in Object(t))Die.call(t,n)&&n!="constructor"&&e.push(n);return e}var $ie=Mie,Lie=hT,jie=CT;function Vie(t){return t!=null&&jie(t.length)&&!Lie(t)}var Nf=Vie,Fie=Eie,Bie=$ie,Uie=Nf;function zie(t){return Uie(t)?Fie(t):Bie(t)}var Cv=zie,qie=ore,Wie=mre,Kie=Cv;function Gie(t){return qie(t,Kie,Wie)}var Hie=Gie,ck=Hie,Qie=1,Xie=Object.prototype,Yie=Xie.hasOwnProperty;function Jie(t,e,n,r,i,o){var a=n&Qie,s=ck(t),l=s.length,u=ck(e),c=u.length;if(l!=c&&!a)return!1;for(var d=l;d--;){var f=s[d];if(!(a?f in e:Yie.call(e,f)))return!1}var p=o.get(t),g=o.get(e);if(p&&g)return p==e&&g==t;var m=!0;o.set(t,e),o.set(e,t);for(var y=a;++d<l;){f=s[d];var _=t[f],w=e[f];if(r)var v=a?r(w,_,f,e,t,o):r(_,w,f,t,e,o);if(!(v===void 0?_===w||i(_,w,n,r,o):v)){m=!1;break}y||(y=f=="constructor")}if(m&&!y){var A=t.constructor,E=e.constructor;A!=E&&"constructor"in t&&"constructor"in e&&!(typeof A=="function"&&A instanceof A&&typeof E=="function"&&E instanceof E)&&(m=!1)}return o.delete(t),o.delete(e),m}var Zie=Jie,eoe=Us,toe=pi,noe=eoe(toe,"DataView"),roe=noe,ioe=Us,ooe=pi,aoe=ioe(ooe,"Promise"),soe=aoe,loe=Us,uoe=pi,coe=loe(uoe,"Set"),lF=coe,doe=Us,hoe=pi,foe=doe(hoe,"WeakMap"),poe=foe,kw=roe,Cw=pT,Rw=soe,Nw=lF,Dw=poe,uF=ro,fc=mV,dk="[object Map]",moe="[object Object]",hk="[object Promise]",fk="[object Set]",pk="[object WeakMap]",mk="[object DataView]",goe=fc(kw),yoe=fc(Cw),voe=fc(Rw),_oe=fc(Nw),boe=fc(Dw),ja=uF;(kw&&ja(new kw(new ArrayBuffer(1)))!=mk||Cw&&ja(new Cw)!=dk||Rw&&ja(Rw.resolve())!=hk||Nw&&ja(new Nw)!=fk||Dw&&ja(new Dw)!=pk)&&(ja=function(t){var e=uF(t),n=e==moe?t.constructor:void 0,r=n?fc(n):"";if(r)switch(r){case goe:return mk;case yoe:return dk;case voe:return hk;case _oe:return fk;case boe:return pk}return e});var woe=ja,y_=YV,xoe=tF,Eoe=ere,Toe=Zie,gk=woe,yk=Wn,vk=iF,Soe=aF,Aoe=1,_k="[object Arguments]",bk="[object Array]",Mp="[object Object]",Ioe=Object.prototype,wk=Ioe.hasOwnProperty;function Poe(t,e,n,r,i,o){var a=yk(t),s=yk(e),l=a?bk:gk(t),u=s?bk:gk(e);l=l==_k?Mp:l,u=u==_k?Mp:u;var c=l==Mp,d=u==Mp,f=l==u;if(f&&vk(t)){if(!vk(e))return!1;a=!0,c=!1}if(f&&!c)return o||(o=new y_),a||Soe(t)?xoe(t,e,n,r,i,o):Eoe(t,e,l,n,r,i,o);if(!(n&Aoe)){var p=c&&wk.call(t,"__wrapped__"),g=d&&wk.call(e,"__wrapped__");if(p||g){var m=p?t.value():t,y=g?e.value():e;return o||(o=new y_),i(m,y,n,r,o)}}return f?(o||(o=new y_),Toe(t,e,n,r,i,o)):!1}var Ooe=Poe,koe=Ooe,xk=io;function cF(t,e,n,r,i){return t===e?!0:t==null||e==null||!xk(t)&&!xk(e)?t!==t&&e!==e:koe(t,e,n,r,cF,i)}var RT=cF,Coe=YV,Roe=RT,Noe=1,Doe=2;function Moe(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var d=new Coe;if(r)var f=r(u,c,l,t,e,d);if(!(f===void 0?Roe(c,u,Noe|Doe,r,d):f))return!1}}return!0}var $oe=Moe,Loe=ba;function joe(t){return t===t&&!Loe(t)}var dF=joe,Voe=dF,Foe=Cv;function Boe(t){for(var e=Foe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Voe(i)]}return e}var Uoe=Boe;function zoe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var hF=zoe,qoe=$oe,Woe=Uoe,Koe=hF;function Goe(t){var e=Woe(t);return e.length==1&&e[0][2]?Koe(e[0][0],e[0][1]):function(n){return n===t||qoe(n,t,e)}}var Hoe=Goe;function Qoe(t,e){return t!=null&&e in Object(t)}var Xoe=Qoe,Yoe=bV,Joe=OT,Zoe=Wn,eae=kT,tae=CT,nae=gv;function rae(t,e,n){e=Yoe(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=nae(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&tae(i)&&eae(a,i)&&(Zoe(t)||Joe(t)))}var iae=rae,oae=Xoe,aae=iae;function sae(t,e){return t!=null&&aae(t,e,oae)}var lae=sae,uae=RT,cae=wV,dae=lae,hae=dT,fae=dF,pae=hF,mae=gv,gae=1,yae=2;function vae(t,e){return hae(t)&&fae(e)?pae(mae(t),e):function(n){var r=cae(n,t);return r===void 0&&r===e?dae(n,t):uae(e,r,gae|yae)}}var _ae=vae;function bae(t){return t}var pc=bae;function wae(t){return function(e){return e==null?void 0:e[t]}}var xae=wae,Eae=vT;function Tae(t){return function(e){return Eae(e,t)}}var Sae=Tae,Aae=xae,Iae=Sae,Pae=dT,Oae=gv;function kae(t){return Pae(t)?Aae(Oae(t)):Iae(t)}var Cae=kae,Rae=Hoe,Nae=_ae,Dae=pc,Mae=Wn,$ae=Cae;function Lae(t){return typeof t=="function"?t:t==null?Dae:typeof t=="object"?Mae(t)?Nae(t[0],t[1]):Rae(t):$ae(t)}var mi=Lae;function jae(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var fF=jae;function Vae(t){return t!==t}var Fae=Vae;function Bae(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Uae=Bae,zae=fF,qae=Fae,Wae=Uae;function Kae(t,e,n){return e===e?Wae(t,e,n):zae(t,qae,n)}var Gae=Kae,Hae=Gae;function Qae(t,e){var n=t==null?0:t.length;return!!n&&Hae(t,e,0)>-1}var Xae=Qae;function Yae(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Jae=Yae;function Zae(){}var ese=Zae,v_=lF,tse=ese,nse=PT,rse=1/0,ise=v_&&1/nse(new v_([,-0]))[1]==rse?function(t){return new v_(t)}:tse,ose=ise,ase=JV,sse=Xae,lse=Jae,use=eF,cse=ose,dse=PT,hse=200;function fse(t,e,n){var r=-1,i=sse,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=lse;else if(o>=hse){var u=e?null:cse(t);if(u)return dse(u);a=!1,i=use,l=new ase}else l=e?[]:s;e:for(;++r<o;){var c=t[r],d=e?e(c):c;if(c=n||c!==0?c:0,a&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;e&&l.push(d),s.push(c)}else i(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}var pse=fse,mse=mi,gse=pse;function yse(t,e){return t&&t.length?gse(t,mse(e)):[]}var vse=yse;const Ek=Be(vse);function pF(t,e,n){return e===!0?Ek(t,n):ve(e)?Ek(t,e):t}function _u(t){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_u(t)}var _se=["ref"];function Tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tk(Object(n),!0).forEach(function(r){Rv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gF(r.key),r)}}function wse(t,e,n){return e&&Sk(t.prototype,e),n&&Sk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xse(t,e,n){return e=Pg(e),Ese(t,mF()?Reflect.construct(e,n||[],Pg(t).constructor):e.apply(t,n))}function Ese(t,e){if(e&&(_u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tse(t)}function Tse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mF=function(){return!!t})()}function Pg(t){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pg(t)}function Sse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mw(t,e)}function Mw(t,e){return Mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Mw(t,e)}function Rv(t,e,n){return e=gF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gF(t){var e=Ase(t,"string");return _u(e)=="symbol"?e:e+""}function Ase(t,e){if(_u(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ise(t,e){if(t==null)return{};var n=Pse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ose(t){return t.value}function kse(t,e){if(j.isValidElement(t))return j.cloneElement(t,e);if(typeof t=="function")return j.createElement(t,e);e.ref;var n=Ise(e,_se);return j.createElement(IT,n)}var Ak=1,ai=function(t){function e(){var n;bse(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=xse(this,e,[].concat(i)),Rv(n,"lastBoundingBox",{width:-1,height:-1}),n}return Sse(e,t),wse(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Ak||Math.abs(i.height-this.lastBoundingBox.height)>Ak)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?bi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,d,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();d={left:((u||0)-p.width)/2}}else d=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();f={top:((c||0)-g.height)/2}}else f=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return bi(bi({},d),f)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,d=bi(bi({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return j.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){r.wrapperNode=p}},kse(o,bi(bi({},this.props),{},{payload:pF(c,u,Ose)})))}}],[{key:"getWithHeight",value:function(r,i){var o=bi(bi({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&ne(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}($.PureComponent);Rv(ai,"displayName","Legend");Rv(ai,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Ik=Cf,Cse=OT,Rse=Wn,Pk=Ik?Ik.isConcatSpreadable:void 0;function Nse(t){return Rse(t)||Cse(t)||!!(Pk&&t&&t[Pk])}var Dse=Nse,Mse=nF,$se=Dse;function yF(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=$se),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?yF(s,e-1,n,r,i):Mse(i,s):r||(i[i.length]=s)}return i}var vF=yF;function Lse(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var jse=Lse,Vse=jse,Fse=Vse(),Bse=Fse,Use=Bse,zse=Cv;function qse(t,e){return t&&Use(t,e,zse)}var _F=qse,Wse=Nf;function Kse(t,e){return function(n,r){if(n==null)return n;if(!Wse(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var Gse=Kse,Hse=_F,Qse=Gse,Xse=Qse(Hse),NT=Xse,Yse=NT,Jse=Nf;function Zse(t,e){var n=-1,r=Jse(t)?Array(t.length):[];return Yse(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var bF=Zse;function ele(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var tle=ele,Ok=ac;function nle(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=Ok(t),a=e!==void 0,s=e===null,l=e===e,u=Ok(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var rle=nle,ile=rle;function ole(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=ile(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var ale=ole,__=yT,sle=vT,lle=mi,ule=bF,cle=tle,dle=oF,hle=ale,fle=pc,ple=Wn;function mle(t,e,n){e.length?e=__(e,function(o){return ple(o)?function(a){return sle(a,o.length===1?o[0]:o)}:o}):e=[fle];var r=-1;e=__(e,dle(lle));var i=ule(t,function(o,a,s){var l=__(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return cle(i,function(o,a){return hle(o,a,n)})}var gle=mle;function yle(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var vle=yle,_le=vle,kk=Math.max;function ble(t,e,n){return e=kk(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=kk(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),_le(t,this,s)}}var wle=ble;function xle(t){return function(){return t}}var Ele=xle,Tle=Us,Sle=function(){try{var t=Tle(Object,"defineProperty");return t({},"",{}),t}catch{}}(),wF=Sle,Ale=Ele,Ck=wF,Ile=pc,Ple=Ck?function(t,e){return Ck(t,"toString",{configurable:!0,enumerable:!1,value:Ale(e),writable:!0})}:Ile,Ole=Ple,kle=800,Cle=16,Rle=Date.now;function Nle(t){var e=0,n=0;return function(){var r=Rle(),i=Cle-(r-n);if(n=r,i>0){if(++e>=kle)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Dle=Nle,Mle=Ole,$le=Dle,Lle=$le(Mle),jle=Lle,Vle=pc,Fle=wle,Ble=jle;function Ule(t,e){return Ble(Fle(t,e,Vle),t+"")}var zle=Ule,qle=fT,Wle=Nf,Kle=kT,Gle=ba;function Hle(t,e,n){if(!Gle(n))return!1;var r=typeof e;return(r=="number"?Wle(n)&&Kle(e,n.length):r=="string"&&e in n)?qle(n[e],t):!1}var Nv=Hle,Qle=vF,Xle=gle,Yle=zle,Rk=Nv,Jle=Yle(function(t,e){if(t==null)return[];var n=e.length;return n>1&&Rk(t,e[0],e[1])?e=[]:n>2&&Rk(e[0],e[1],e[2])&&(e=[e[0]]),Xle(t,Qle(e,1),[])}),Zle=Jle;const DT=Be(Zle);function Eh(t){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(t)}function $w(){return $w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$w.apply(this,arguments)}function eue(t,e){return iue(t)||rue(t,e)||nue(t,e)||tue()}function tue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nue(t,e){if(t){if(typeof t=="string")return Nk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nk(t,e)}}function Nk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function iue(t){if(Array.isArray(t))return t}function Dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function b_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dk(Object(n),!0).forEach(function(r){oue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oue(t,e,n){return e=aue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aue(t){var e=sue(t,"string");return Eh(e)=="symbol"?e:e+""}function sue(t,e){if(Eh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lue(t){return Array.isArray(t)&&Bt(t[0])&&Bt(t[1])?t.join(" ~ "):t}var uue=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,d=e.formatter,f=e.itemSorter,p=e.wrapperClassName,g=e.labelClassName,m=e.label,y=e.labelFormatter,_=e.accessibilityLayer,w=_===void 0?!1:_,v=function(){if(c&&c.length){var D={padding:0,margin:0},R=(f?DT(c,f):c).map(function(W,q){if(W.type==="none")return null;var G=b_({display:"block",paddingTop:4,paddingBottom:4,color:W.color||"#000"},s),H=W.formatter||d||lue,L=W.value,B=W.name,Q=L,ie=B;if(H&&Q!=null&&ie!=null){var J=H(L,B,W,q,c);if(Array.isArray(J)){var te=eue(J,2);Q=te[0],ie=te[1]}else Q=J}return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(q),style:G},Bt(ie)?j.createElement("span",{className:"recharts-tooltip-item-name"},ie):null,Bt(ie)?j.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,j.createElement("span",{className:"recharts-tooltip-item-value"},Q),j.createElement("span",{className:"recharts-tooltip-item-unit"},W.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:D},R)}return null},A=b_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),E=b_({margin:0},u),S=!be(m),x=S?m:"",T=Ee("recharts-default-tooltip",p),P=Ee("recharts-tooltip-label",g);S&&y&&c!==void 0&&c!==null&&(x=y(m,c));var k=w?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",$w({className:T,style:A},k),j.createElement("p",{className:P,style:E},j.isValidElement(x)?x:"".concat(x)),v())};function Th(t){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function $p(t,e,n){return e=cue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cue(t){var e=due(t,"string");return Th(e)=="symbol"?e:e+""}function due(t,e){if(Th(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xc="recharts-tooltip-wrapper",hue={visibility:"hidden"};function fue(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ee(Xc,$p($p($p($p({},"".concat(Xc,"-right"),ne(n)&&e&&ne(e.x)&&n>=e.x),"".concat(Xc,"-left"),ne(n)&&e&&ne(e.x)&&n<e.x),"".concat(Xc,"-bottom"),ne(r)&&e&&ne(e.y)&&r>=e.y),"".concat(Xc,"-top"),ne(r)&&e&&ne(e.y)&&r<e.y))}function Mk(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&ne(o[r]))return o[r];var c=n[r]-s-i,d=n[r]+i;if(e[r])return a[r]?c:d;if(a[r]){var f=c,p=l[r];return f<p?Math.max(d,l[r]):Math.max(c,l[r])}var g=d+s,m=l[r]+u;return g>m?Math.max(c,l[r]):Math.max(d,l[r])}function pue(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function mue(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,d;return a.height>0&&a.width>0&&n?(c=Mk({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),d=Mk({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=pue({translateX:c,translateY:d,useTranslate3d:s})):u=hue,{cssProperties:u,cssClasses:fue({translateX:c,translateY:d,coordinate:n})}}function bu(t){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(t)}function $k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(n),!0).forEach(function(r){jw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EF(r.key),r)}}function yue(t,e,n){return e&&jk(t.prototype,e),n&&jk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vue(t,e,n){return e=Og(e),_ue(t,xF()?Reflect.construct(e,n||[],Og(t).constructor):e.apply(t,n))}function _ue(t,e){if(e&&(bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bue(t)}function bue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xF=function(){return!!t})()}function Og(t){return Og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Og(t)}function wue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lw(t,e)}function Lw(t,e){return Lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Lw(t,e)}function jw(t,e,n){return e=EF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EF(t){var e=xue(t,"string");return bu(e)=="symbol"?e:e+""}function xue(t,e){if(bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vk=1,Eue=function(t){function e(){var n;gue(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=vue(this,e,[].concat(i)),jw(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),jw(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return wue(e,t),yue(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>Vk||Math.abs(r.height-this.state.lastBoundingBox.height)>Vk)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,d=i.hasPayload,f=i.isAnimationActive,p=i.offset,g=i.position,m=i.reverseDirection,y=i.useTranslate3d,_=i.viewBox,w=i.wrapperStyle,v=mue({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:_}),A=v.cssClasses,E=v.cssProperties,S=Lk(Lk({transition:f&&o?"transform ".concat(s,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},w);return j.createElement("div",{tabIndex:-1,className:A,style:S,ref:function(T){r.wrapperNode=T}},u)}}])}($.PureComponent),Tue=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},si={isSsr:Tue(),get:function(e){return si[e]},set:function(e,n){if(typeof e=="string")si[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){si[i]=e[i]})}}};function wu(t){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wu(t)}function Fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fk(Object(n),!0).forEach(function(r){MT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SF(r.key),r)}}function Aue(t,e,n){return e&&Uk(t.prototype,e),n&&Uk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Iue(t,e,n){return e=kg(e),Pue(t,TF()?Reflect.construct(e,n||[],kg(t).constructor):e.apply(t,n))}function Pue(t,e){if(e&&(wu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oue(t)}function Oue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TF=function(){return!!t})()}function kg(t){return kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kg(t)}function kue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vw(t,e)}function Vw(t,e){return Vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vw(t,e)}function MT(t,e,n){return e=SF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SF(t){var e=Cue(t,"string");return wu(e)=="symbol"?e:e+""}function Cue(t,e){if(wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rue(t){return t.dataKey}function Nue(t,e){return j.isValidElement(t)?j.cloneElement(t,e):typeof t=="function"?j.createElement(t,e):j.createElement(uue,e)}var _n=function(t){function e(){return Sue(this,e),Iue(this,e,arguments)}return kue(e,t),Aue(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,d=i.filterNull,f=i.isAnimationActive,p=i.offset,g=i.payload,m=i.payloadUniqBy,y=i.position,_=i.reverseDirection,w=i.useTranslate3d,v=i.viewBox,A=i.wrapperStyle,E=g??[];d&&E.length&&(E=pF(g.filter(function(x){return x.value!=null&&(x.hide!==!0||r.props.includeHidden)}),m,Rue));var S=E.length>0;return j.createElement(Eue,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:f,active:o,coordinate:c,hasPayload:S,offset:p,position:y,reverseDirection:_,useTranslate3d:w,viewBox:v,wrapperStyle:A},Nue(u,Bk(Bk({},this.props),{},{payload:E})))}}])}($.PureComponent);MT(_n,"displayName","Tooltip");MT(_n,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!si.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Due=pi,Mue=function(){return Due.Date.now()},$ue=Mue,Lue=/\s/;function jue(t){for(var e=t.length;e--&&Lue.test(t.charAt(e)););return e}var Vue=jue,Fue=Vue,Bue=/^\s+/;function Uue(t){return t&&t.slice(0,Fue(t)+1).replace(Bue,"")}var zue=Uue,que=zue,zk=ba,Wue=ac,qk=0/0,Kue=/^[-+]0x[0-9a-f]+$/i,Gue=/^0b[01]+$/i,Hue=/^0o[0-7]+$/i,Que=parseInt;function Xue(t){if(typeof t=="number")return t;if(Wue(t))return qk;if(zk(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=zk(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=que(t);var n=Gue.test(t);return n||Hue.test(t)?Que(t.slice(2),n?2:8):Kue.test(t)?qk:+t}var AF=Xue,Yue=ba,w_=$ue,Wk=AF,Jue="Expected a function",Zue=Math.max,ece=Math.min;function tce(t,e,n){var r,i,o,a,s,l,u=0,c=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(Jue);e=Wk(e)||0,Yue(n)&&(c=!!n.leading,d="maxWait"in n,o=d?Zue(Wk(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f);function p(S){var x=r,T=i;return r=i=void 0,u=S,a=t.apply(T,x),a}function g(S){return u=S,s=setTimeout(_,e),c?p(S):a}function m(S){var x=S-l,T=S-u,P=e-x;return d?ece(P,o-T):P}function y(S){var x=S-l,T=S-u;return l===void 0||x>=e||x<0||d&&T>=o}function _(){var S=w_();if(y(S))return w(S);s=setTimeout(_,m(S))}function w(S){return s=void 0,f&&r?p(S):(r=i=void 0,a)}function v(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function A(){return s===void 0?a:w(w_())}function E(){var S=w_(),x=y(S);if(r=arguments,i=this,l=S,x){if(s===void 0)return g(l);if(d)return clearTimeout(s),s=setTimeout(_,e),p(l)}return s===void 0&&(s=setTimeout(_,e)),a}return E.cancel=v,E.flush=A,E}var nce=tce,rce=nce,ice=ba,oce="Expected a function";function ace(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(oce);return ice(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),rce(t,e,{leading:r,maxWait:e,trailing:i})}var sce=ace;const IF=Be(sce);function Sh(t){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}function Kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(n),!0).forEach(function(r){lce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lce(t,e,n){return e=uce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uce(t){var e=cce(t,"string");return Sh(e)=="symbol"?e:e+""}function cce(t,e){if(Sh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dce(t,e){return mce(t)||pce(t,e)||fce(t,e)||hce()}function hce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fce(t,e){if(t){if(typeof t=="string")return Gk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gk(t,e)}}function Gk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function mce(t){if(Array.isArray(t))return t}var as=$.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,d=t.minHeight,f=t.maxHeight,p=t.children,g=t.debounce,m=g===void 0?0:g,y=t.id,_=t.className,w=t.onResize,v=t.style,A=v===void 0?{}:v,E=$.useRef(null),S=$.useRef();S.current=w,$.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var x=$.useState({containerWidth:i.width,containerHeight:i.height}),T=dce(x,2),P=T[0],k=T[1],C=$.useCallback(function(R,W){k(function(q){var G=Math.round(R),H=Math.round(W);return q.containerWidth===G&&q.containerHeight===H?q:{containerWidth:G,containerHeight:H}})},[]);$.useEffect(function(){var R=function(B){var Q,ie=B[0].contentRect,J=ie.width,te=ie.height;C(J,te),(Q=S.current)===null||Q===void 0||Q.call(S,J,te)};m>0&&(R=IF(R,m,{trailing:!0,leading:!1}));var W=new ResizeObserver(R),q=E.current.getBoundingClientRect(),G=q.width,H=q.height;return C(G,H),W.observe(E.current),function(){W.disconnect()}},[C,m]);var D=$.useMemo(function(){var R=P.containerWidth,W=P.containerHeight;if(R<0||W<0)return null;$r(Ya(a)||Ya(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),$r(!n||n>0,"The aspect(%s) must be greater than zero.",n);var q=Ya(a)?R:a,G=Ya(l)?W:l;n&&n>0&&(q?G=q/n:G&&(q=G*n),f&&G>f&&(G=f)),$r(q>0||G>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,q,G,a,l,c,d,n);var H=!Array.isArray(p)&&Li(p.type).endsWith("Chart");return j.Children.map(p,function(L){return j.isValidElement(L)?$.cloneElement(L,Lp({width:q,height:G},H?{style:Lp({height:"100%",width:"100%",maxHeight:G,maxWidth:q},L.props.style)}:{})):L})},[n,p,l,f,d,c,P,a]);return j.createElement("div",{id:y?"".concat(y):void 0,className:Ee("recharts-responsive-container",_),style:Lp(Lp({},A),{},{width:a,height:l,minWidth:c,minHeight:d,maxHeight:f}),ref:E},D)}),mc=function(e){return null};mc.displayName="Cell";function Ah(t){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(t)}function Hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hk(Object(n),!0).forEach(function(r){gce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gce(t,e,n){return e=yce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yce(t){var e=vce(t,"string");return Ah(e)=="symbol"?e:e+""}function vce(t,e){if(Ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var il={widthCache:{},cacheCount:0},_ce=2e3,bce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Qk="recharts_measurement_span";function wce(t){var e=Fw({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Nd=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||si.isSsr)return{width:0,height:0};var r=wce(n),i=JSON.stringify({text:e,copyStyle:r});if(il.widthCache[i])return il.widthCache[i];try{var o=document.getElementById(Qk);o||(o=document.createElement("span"),o.setAttribute("id",Qk),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=Fw(Fw({},bce),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return il.widthCache[i]=l,++il.cacheCount>_ce&&(il.cacheCount=0,il.widthCache={}),l}catch{return{width:0,height:0}}},xce=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Ih(t){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}function Cg(t,e){return Ace(t)||Sce(t,e)||Tce(t,e)||Ece()}function Ece(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tce(t,e){if(t){if(typeof t=="string")return Xk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xk(t,e)}}function Xk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Ace(t){if(Array.isArray(t))return t}function Ice(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Oce(r.key),r)}}function Pce(t,e,n){return e&&Yk(t.prototype,e),n&&Yk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oce(t){var e=kce(t,"string");return Ih(e)=="symbol"?e:e+""}function kce(t,e){if(Ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Zk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Cce=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Rce=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,PF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Nce=Object.keys(PF),Il="NaN";function Dce(t,e){return t*PF[e]}var jp=function(){function t(e,n){Ice(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Cce.test(n)&&(this.num=NaN,this.unit=""),Nce.includes(n)&&(this.num=Dce(e,n),this.unit="px")}return Pce(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Rce.exec(n))!==null&&r!==void 0?r:[],o=Cg(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function OF(t){if(t.includes(Il))return Il;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=Jk.exec(e))!==null&&n!==void 0?n:[],i=Cg(r,4),o=i[1],a=i[2],s=i[3],l=jp.parse(o??""),u=jp.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Il;e=e.replace(Jk,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,f=(d=Zk.exec(e))!==null&&d!==void 0?d:[],p=Cg(f,4),g=p[1],m=p[2],y=p[3],_=jp.parse(g??""),w=jp.parse(y??""),v=m==="+"?_.add(w):_.subtract(w);if(v.isNaN())return Il;e=e.replace(Zk,v.toString())}return e}var eC=/\(([^()]*)\)/;function Mce(t){for(var e=t;e.includes("(");){var n=eC.exec(e),r=Cg(n,2),i=r[1];e=e.replace(eC,OF(i))}return e}function $ce(t){var e=t.replace(/\s+/g,"");return e=Mce(e),e=OF(e),e}function Lce(t){try{return $ce(t)}catch{return Il}}function x_(t){var e=Lce(t.slice(5,-1));return e===Il?"":e}var jce=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Vce=["dx","dy","angle","className","breakAll"];function Bw(){return Bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bw.apply(this,arguments)}function tC(t,e){if(t==null)return{};var n=Fce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nC(t,e){return qce(t)||zce(t,e)||Uce(t,e)||Bce()}function Bce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uce(t,e){if(t){if(typeof t=="string")return rC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rC(t,e)}}function rC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function qce(t){if(Array.isArray(t))return t}var kF=/[ \f\n\r\t\v\u2028\u2029]+/,CF=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];be(n)||(r?o=n.toString().split(""):o=n.toString().split(kF));var a=o.map(function(l){return{word:l,width:Nd(l,i).width}}),s=r?0:Nd("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},Wce=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=ne(a),d=s,f=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q.reduce(function(G,H){var L=H.word,B=H.width,Q=G[G.length-1];if(Q&&(i==null||o||Q.width+B+r<Number(i)))Q.words.push(L),Q.width+=B+r;else{var ie={words:[L],width:B};G.push(ie)}return G},[])},p=f(n),g=function(q){return q.reduce(function(G,H){return G.width>H.width?G:H})};if(!c)return p;for(var m="",y=function(q){var G=d.slice(0,q),H=CF({breakAll:u,style:l,children:G+m}).wordsWithComputedWidth,L=f(H),B=L.length>a||g(L).width>Number(i);return[B,L]},_=0,w=d.length-1,v=0,A;_<=w&&v<=d.length-1;){var E=Math.floor((_+w)/2),S=E-1,x=y(S),T=nC(x,2),P=T[0],k=T[1],C=y(E),D=nC(C,1),R=D[0];if(!P&&!R&&(_=E+1),P&&R&&(w=E-1),!P&&R){A=k;break}v++}return A||p},iC=function(e){var n=be(e)?[]:e.toString().split(kF);return[{words:n}]},Kce=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!si.isSsr){var l,u,c=CF({breakAll:a,children:i,style:o});if(c){var d=c.wordsWithComputedWidth,f=c.spaceWidth;l=d,u=f}else return iC(i);return Wce({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return iC(i)},oC="#808080",Os=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,d=c===void 0?!1:c,f=e.textAnchor,p=f===void 0?"start":f,g=e.verticalAnchor,m=g===void 0?"end":g,y=e.fill,_=y===void 0?oC:y,w=tC(e,jce),v=$.useMemo(function(){return Kce({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:d,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,d,w.style,w.width]),A=w.dx,E=w.dy,S=w.angle,x=w.className,T=w.breakAll,P=tC(w,Vce);if(!Bt(r)||!Bt(o))return null;var k=r+(ne(A)?A:0),C=o+(ne(E)?E:0),D;switch(m){case"start":D=x_("calc(".concat(u,")"));break;case"middle":D=x_("calc(".concat((v.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:D=x_("calc(".concat(v.length-1," * -").concat(s,")"));break}var R=[];if(d){var W=v[0].width,q=w.width;R.push("scale(".concat((ne(q)?q/W:1)/W,")"))}return S&&R.push("rotate(".concat(S,", ").concat(k,", ").concat(C,")")),R.length&&(P.transform=R.join(" ")),j.createElement("text",Bw({},pe(P,!0),{x:k,y:C,className:Ee("recharts-text",x),textAnchor:p,fill:_.includes("url")?oC:_}),v.map(function(G,H){var L=G.words.join(T?"":" ");return j.createElement("tspan",{x:k,dy:H===0?D:s,key:"".concat(L,"-").concat(H)},L)}))};function Wo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Gce(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function $T(t){let e,n,r;t.length!==2?(e=Wo,n=(s,l)=>Wo(t(s),l),r=(s,l)=>t(s)-l):(e=t===Wo||t===Gce?t:Hce,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:a,right:o}}function Hce(){return 0}function RF(t){return t===null?NaN:+t}function*Qce(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const Xce=$T(Wo),Yce=Xce.right;$T(RF).center;const Df=Yce;class aC extends Map{constructor(e,n=ede){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(sC(this,e))}has(e){return super.has(sC(this,e))}set(e,n){return super.set(Jce(this,e),n)}delete(e){return super.delete(Zce(this,e))}}function sC({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Jce({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Zce({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function ede(t){return t!==null&&typeof t=="object"?t.valueOf():t}function tde(t=Wo){if(t===Wo)return NF;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function NF(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const nde=Math.sqrt(50),rde=Math.sqrt(10),ide=Math.sqrt(2);function Rg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=nde?10:o>=rde?5:o>=ide?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?Rg(t,e,n*2):[s,l,u]}function Uw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Rg(e,t,n):Rg(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function zw(t,e,n){return e=+e,t=+t,n=+n,Rg(t,e,n)[2]}function qw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?zw(e,t,n):zw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function lC(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function uC(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function DF(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?NF:tde(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*d/l+f)),g=Math.min(r,Math.floor(e+(l-u)*d/l+f));DF(t,e,p,g,i)}const o=t[e];let a=n,s=r;for(Yc(t,n,e),i(t[r],o)>0&&Yc(t,n,r);a<s;){for(Yc(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Yc(t,n,s):(++s,Yc(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Yc(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function ode(t,e,n){if(t=Float64Array.from(Qce(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return uC(t);if(e>=1)return lC(t);var r,i=(r-1)*e,o=Math.floor(i),a=lC(DF(t,o).subarray(0,o+1)),s=uC(t.subarray(o+1));return a+(s-a)*(i-o)}}function ade(t,e,n=RF){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function sde(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Er(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function oo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Ww=Symbol("implicit");function LT(){var t=new aC,e=[],n=[],r=Ww;function i(o){let a=t.get(o);if(a===void 0){if(r!==Ww)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new aC;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return LT(e,n).unknown(r)},Er.apply(i,arguments),i}function Ph(){var t=LT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function d(){var f=e().length,p=i<r,g=p?i:r,m=p?r:i;o=(m-g)/Math.max(1,f-l+u*2),s&&(o=Math.floor(o)),g+=(m-g-o*(f-l))*c,a=o*(1-l),s&&(g=Math.round(g),a=Math.round(a));var y=sde(f).map(function(_){return g+o*_});return n(p?y.reverse():y)}return t.domain=function(f){return arguments.length?(e(f),d()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,s=!0,d()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(f){return arguments.length?(s=!!f,d()):s},t.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),d()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},t.paddingOuter=function(f){return arguments.length?(u=+f,d()):u},t.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),d()):c},t.copy=function(){return Ph(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Er.apply(d(),arguments)}function MF(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return MF(e())},t}function Dd(){return MF(Ph.apply(null,arguments).paddingInner(1))}function jT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function $F(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Mf(){}var Oh=.7,Ng=1/Oh,ql="\\s*([+-]?\\d+)\\s*",kh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",li="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lde=/^#([0-9a-f]{3,8})$/,ude=new RegExp(`^rgb\\(${ql},${ql},${ql}\\)$`),cde=new RegExp(`^rgb\\(${li},${li},${li}\\)$`),dde=new RegExp(`^rgba\\(${ql},${ql},${ql},${kh}\\)$`),hde=new RegExp(`^rgba\\(${li},${li},${li},${kh}\\)$`),fde=new RegExp(`^hsl\\(${kh},${li},${li}\\)$`),pde=new RegExp(`^hsla\\(${kh},${li},${li},${kh}\\)$`),cC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};jT(Mf,Ch,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:dC,formatHex:dC,formatHex8:mde,formatHsl:gde,formatRgb:hC,toString:hC});function dC(){return this.rgb().formatHex()}function mde(){return this.rgb().formatHex8()}function gde(){return LF(this).formatHsl()}function hC(){return this.rgb().formatRgb()}function Ch(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=lde.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?fC(e):n===3?new Bn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Vp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Vp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ude.exec(t))?new Bn(e[1],e[2],e[3],1):(e=cde.exec(t))?new Bn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=dde.exec(t))?Vp(e[1],e[2],e[3],e[4]):(e=hde.exec(t))?Vp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=fde.exec(t))?gC(e[1],e[2]/100,e[3]/100,1):(e=pde.exec(t))?gC(e[1],e[2]/100,e[3]/100,e[4]):cC.hasOwnProperty(t)?fC(cC[t]):t==="transparent"?new Bn(NaN,NaN,NaN,0):null}function fC(t){return new Bn(t>>16&255,t>>8&255,t&255,1)}function Vp(t,e,n,r){return r<=0&&(t=e=n=NaN),new Bn(t,e,n,r)}function yde(t){return t instanceof Mf||(t=Ch(t)),t?(t=t.rgb(),new Bn(t.r,t.g,t.b,t.opacity)):new Bn}function Kw(t,e,n,r){return arguments.length===1?yde(t):new Bn(t,e,n,r??1)}function Bn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}jT(Bn,Kw,$F(Mf,{brighter(t){return t=t==null?Ng:Math.pow(Ng,t),new Bn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Oh:Math.pow(Oh,t),new Bn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Bn(ss(this.r),ss(this.g),ss(this.b),Dg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pC,formatHex:pC,formatHex8:vde,formatRgb:mC,toString:mC}));function pC(){return`#${Ja(this.r)}${Ja(this.g)}${Ja(this.b)}`}function vde(){return`#${Ja(this.r)}${Ja(this.g)}${Ja(this.b)}${Ja((isNaN(this.opacity)?1:this.opacity)*255)}`}function mC(){const t=Dg(this.opacity);return`${t===1?"rgb(":"rgba("}${ss(this.r)}, ${ss(this.g)}, ${ss(this.b)}${t===1?")":`, ${t})`}`}function Dg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ss(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ja(t){return t=ss(t),(t<16?"0":"")+t.toString(16)}function gC(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Nr(t,e,n,r)}function LF(t){if(t instanceof Nr)return new Nr(t.h,t.s,t.l,t.opacity);if(t instanceof Mf||(t=Ch(t)),!t)return new Nr;if(t instanceof Nr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Nr(a,s,l,t.opacity)}function _de(t,e,n,r){return arguments.length===1?LF(t):new Nr(t,e,n,r??1)}function Nr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}jT(Nr,_de,$F(Mf,{brighter(t){return t=t==null?Ng:Math.pow(Ng,t),new Nr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Oh:Math.pow(Oh,t),new Nr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Bn(E_(t>=240?t-240:t+120,i,r),E_(t,i,r),E_(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Nr(yC(this.h),Fp(this.s),Fp(this.l),Dg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Dg(this.opacity);return`${t===1?"hsl(":"hsla("}${yC(this.h)}, ${Fp(this.s)*100}%, ${Fp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function yC(t){return t=(t||0)%360,t<0?t+360:t}function Fp(t){return Math.max(0,Math.min(1,t||0))}function E_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const VT=t=>()=>t;function bde(t,e){return function(n){return t+n*e}}function wde(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function xde(t){return(t=+t)==1?jF:function(e,n){return n-e?wde(e,n,t):VT(isNaN(e)?n:e)}}function jF(t,e){var n=e-t;return n?bde(t,n):VT(isNaN(t)?e:t)}const vC=function t(e){var n=xde(e);function r(i,o){var a=n((i=Kw(i)).r,(o=Kw(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=jF(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Ede(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Tde(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Sde(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=gc(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Ade(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Mg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ide(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=gc(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Gw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,T_=new RegExp(Gw.source,"g");function Pde(t){return function(){return t}}function Ode(t){return function(e){return t(e)+""}}function kde(t,e){var n=Gw.lastIndex=T_.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=Gw.exec(t))&&(i=T_.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Mg(r,i)})),n=T_.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?Ode(l[0].x):Pde(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function gc(t,e){var n=typeof e,r;return e==null||n==="boolean"?VT(e):(n==="number"?Mg:n==="string"?(r=Ch(e))?(e=r,vC):kde:e instanceof Ch?vC:e instanceof Date?Ade:Tde(e)?Ede:Array.isArray(e)?Sde:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Ide:Mg)(t,e)}function FT(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Cde(t,e){e===void 0&&(e=t,t=gc);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function Rde(t){return function(){return t}}function $g(t){return+t}var _C=[0,1];function Rn(t){return t}function Hw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Rde(isNaN(e)?NaN:.5)}function Nde(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Dde(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Hw(i,r),o=n(a,o)):(r=Hw(r,i),o=n(o,a)),function(s){return o(r(s))}}function Mde(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Hw(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=Df(t,s,1,r)-1;return o[l](i[l](s))}}function $f(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Dv(){var t=_C,e=_C,n=gc,r,i,o,a=Rn,s,l,u;function c(){var f=Math.min(t.length,e.length);return a!==Rn&&(a=Nde(t[0],t[f-1])),s=f>2?Mde:Dde,l=u=null,d}function d(f){return f==null||isNaN(f=+f)?o:(l||(l=s(t.map(r),e,n)))(r(a(f)))}return d.invert=function(f){return a(i((u||(u=s(e,t.map(r),Mg)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,$g),c()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),c()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),n=FT,c()},d.clamp=function(f){return arguments.length?(a=f?!0:Rn,c()):a!==Rn},d.interpolate=function(f){return arguments.length?(n=f,c()):n},d.unknown=function(f){return arguments.length?(o=f,d):o},function(f,p){return r=f,i=p,c()}}function BT(){return Dv()(Rn,Rn)}function $de(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Lg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function xu(t){return t=Lg(Math.abs(t)),t?t[1]:NaN}function Lde(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function jde(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Vde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Rh(t){if(!(e=Vde.exec(t)))throw new Error("invalid format: "+t);var e;return new UT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Rh.prototype=UT.prototype;function UT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}UT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Fde(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var VF;function Bde(t,e){var n=Lg(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(VF=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Lg(t,Math.max(0,e+o-1))[0]}function bC(t,e){var n=Lg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const wC={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:$de,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>bC(t*100,e),r:bC,s:Bde,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function xC(t){return t}var EC=Array.prototype.map,TC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ude(t){var e=t.grouping===void 0||t.thousands===void 0?xC:Lde(EC.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?xC:jde(EC.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=Rh(d);var f=d.fill,p=d.align,g=d.sign,m=d.symbol,y=d.zero,_=d.width,w=d.comma,v=d.precision,A=d.trim,E=d.type;E==="n"?(w=!0,E="g"):wC[E]||(v===void 0&&(v=12),A=!0,E="g"),(y||f==="0"&&p==="=")&&(y=!0,f="0",p="=");var S=m==="$"?n:m==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",x=m==="$"?r:/[%p]/.test(E)?a:"",T=wC[E],P=/[defgprs%]/.test(E);v=v===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function k(C){var D=S,R=x,W,q,G;if(E==="c")R=T(C)+R,C="";else{C=+C;var H=C<0||1/C<0;if(C=isNaN(C)?l:T(Math.abs(C),v),A&&(C=Fde(C)),H&&+C==0&&g!=="+"&&(H=!1),D=(H?g==="("?g:s:g==="-"||g==="("?"":g)+D,R=(E==="s"?TC[8+VF/3]:"")+R+(H&&g==="("?")":""),P){for(W=-1,q=C.length;++W<q;)if(G=C.charCodeAt(W),48>G||G>57){R=(G===46?i+C.slice(W+1):C.slice(W))+R,C=C.slice(0,W);break}}}w&&!y&&(C=e(C,1/0));var L=D.length+C.length+R.length,B=L<_?new Array(_-L+1).join(f):"";switch(w&&y&&(C=e(B+C,B.length?_-R.length:1/0),B=""),p){case"<":C=D+C+R+B;break;case"=":C=D+B+C+R;break;case"^":C=B.slice(0,L=B.length>>1)+D+C+R+B.slice(L);break;default:C=B+D+C+R;break}return o(C)}return k.toString=function(){return d+""},k}function c(d,f){var p=u((d=Rh(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(xu(f)/3)))*3,m=Math.pow(10,-g),y=TC[8+g/3];return function(_){return p(m*_)+y}}return{format:u,formatPrefix:c}}var Bp,zT,FF;zde({thousands:",",grouping:[3],currency:["$",""]});function zde(t){return Bp=Ude(t),zT=Bp.format,FF=Bp.formatPrefix,Bp}function qde(t){return Math.max(0,-xu(Math.abs(t)))}function Wde(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xu(e)/3)))*3-xu(Math.abs(t)))}function Kde(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,xu(e)-xu(t))+1}function BF(t,e,n,r){var i=qw(t,e,n),o;switch(r=Rh(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Wde(i,a))&&(r.precision=o),FF(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Kde(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=qde(i))&&(r.precision=o-(r.type==="%")*2);break}}return zT(r)}function wa(t){var e=t.domain;return t.ticks=function(n){var r=e();return Uw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return BF(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=zw(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function jg(){var t=BT();return t.copy=function(){return $f(t,jg())},Er.apply(t,arguments),wa(t)}function UF(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,$g),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return UF(t).unknown(e)},t=arguments.length?Array.from(t,$g):[0,1],wa(n)}function zF(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function SC(t){return Math.log(t)}function AC(t){return Math.exp(t)}function Gde(t){return-Math.log(-t)}function Hde(t){return-Math.exp(-t)}function Qde(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Xde(t){return t===10?Qde:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Yde(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function IC(t){return(e,n)=>-t(-e,n)}function qT(t){const e=t(SC,AC),n=e.domain;let r=10,i,o;function a(){return i=Yde(r),o=Xde(r),n()[0]<0?(i=IC(i),o=IC(o),t(Gde,Hde)):t(SC,AC),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let f=i(u),p=i(c),g,m;const y=s==null?10:+s;let _=[];if(!(r%1)&&p-f<y){if(f=Math.floor(f),p=Math.ceil(p),u>0){for(;f<=p;++f)for(g=1;g<r;++g)if(m=f<0?g/o(-f):g*o(f),!(m<u)){if(m>c)break;_.push(m)}}else for(;f<=p;++f)for(g=r-1;g>=1;--g)if(m=f>0?g/o(-f):g*o(f),!(m<u)){if(m>c)break;_.push(m)}_.length*2<y&&(_=Uw(u,c,y))}else _=Uw(f,p,Math.min(p-f,y)).map(o);return d?_.reverse():_},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Rh(l)).precision==null&&(l.trim=!0),l=zT(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},e.nice=()=>n(zF(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function qF(){const t=qT(Dv()).domain([1,10]);return t.copy=()=>$f(t,qF()).base(t.base()),Er.apply(t,arguments),t}function PC(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function OC(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function WT(t){var e=1,n=t(PC(e),OC(e));return n.constant=function(r){return arguments.length?t(PC(e=+r),OC(e)):e},wa(n)}function WF(){var t=WT(Dv());return t.copy=function(){return $f(t,WF()).constant(t.constant())},Er.apply(t,arguments)}function kC(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Jde(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Zde(t){return t<0?-t*t:t*t}function KT(t){var e=t(Rn,Rn),n=1;function r(){return n===1?t(Rn,Rn):n===.5?t(Jde,Zde):t(kC(n),kC(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},wa(e)}function GT(){var t=KT(Dv());return t.copy=function(){return $f(t,GT()).exponent(t.exponent())},Er.apply(t,arguments),t}function ehe(){return GT.apply(null,arguments).exponent(.5)}function CC(t){return Math.sign(t)*t*t}function the(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function KF(){var t=BT(),e=[0,1],n=!1,r;function i(o){var a=the(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(CC(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,$g)).map(CC)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return KF(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Er.apply(i,arguments),wa(i)}function GF(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=ade(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Df(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Wo),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return GF().domain(t).range(e).unknown(r)},Er.apply(o,arguments)}function HF(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Df(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return HF().domain([t,e]).range(i).unknown(o)},Er.apply(wa(a),arguments)}function QF(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Df(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return QF().domain(t).range(e).unknown(n)},Er.apply(i,arguments)}const S_=new Date,A_=new Date;function qt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>qt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(S_.setTime(+o),A_.setTime(+a),t(S_),t(A_),Math.floor(n(S_,A_))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Vg=qt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Vg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?qt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Vg);Vg.range;const Ri=1e3,gr=Ri*60,Ni=gr*60,Qi=Ni*24,HT=Qi*7,RC=Qi*30,I_=Qi*365,Za=qt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ri)},(t,e)=>(e-t)/Ri,t=>t.getUTCSeconds());Za.range;const QT=qt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ri)},(t,e)=>{t.setTime(+t+e*gr)},(t,e)=>(e-t)/gr,t=>t.getMinutes());QT.range;const XT=qt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*gr)},(t,e)=>(e-t)/gr,t=>t.getUTCMinutes());XT.range;const YT=qt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ri-t.getMinutes()*gr)},(t,e)=>{t.setTime(+t+e*Ni)},(t,e)=>(e-t)/Ni,t=>t.getHours());YT.range;const JT=qt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ni)},(t,e)=>(e-t)/Ni,t=>t.getUTCHours());JT.range;const Lf=qt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*gr)/Qi,t=>t.getDate()-1);Lf.range;const Mv=qt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Qi,t=>t.getUTCDate()-1);Mv.range;const XF=qt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Qi,t=>Math.floor(t/Qi));XF.range;function zs(t){return qt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*gr)/HT)}const $v=zs(0),Fg=zs(1),nhe=zs(2),rhe=zs(3),Eu=zs(4),ihe=zs(5),ohe=zs(6);$v.range;Fg.range;nhe.range;rhe.range;Eu.range;ihe.range;ohe.range;function qs(t){return qt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/HT)}const Lv=qs(0),Bg=qs(1),ahe=qs(2),she=qs(3),Tu=qs(4),lhe=qs(5),uhe=qs(6);Lv.range;Bg.range;ahe.range;she.range;Tu.range;lhe.range;uhe.range;const ZT=qt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());ZT.range;const eS=qt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());eS.range;const Xi=qt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Xi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:qt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Xi.range;const Yi=qt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Yi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:qt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Yi.range;function YF(t,e,n,r,i,o){const a=[[Za,1,Ri],[Za,5,5*Ri],[Za,15,15*Ri],[Za,30,30*Ri],[o,1,gr],[o,5,5*gr],[o,15,15*gr],[o,30,30*gr],[i,1,Ni],[i,3,3*Ni],[i,6,6*Ni],[i,12,12*Ni],[r,1,Qi],[r,2,2*Qi],[n,1,HT],[e,1,RC],[e,3,3*RC],[t,1,I_]];function s(u,c,d){const f=c<u;f&&([u,c]=[c,u]);const p=d&&typeof d.range=="function"?d:l(u,c,d),g=p?p.range(u,+c+1):[];return f?g.reverse():g}function l(u,c,d){const f=Math.abs(c-u)/d,p=$T(([,,y])=>y).right(a,f);if(p===a.length)return t.every(qw(u/I_,c/I_,d));if(p===0)return Vg.every(Math.max(qw(u,c,d),1));const[g,m]=a[f/a[p-1][2]<a[p][2]/f?p-1:p];return g.every(m)}return[s,l]}const[che,dhe]=YF(Yi,eS,Lv,XF,JT,XT),[hhe,fhe]=YF(Xi,ZT,$v,Lf,YT,QT);function P_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function O_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Jc(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function phe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=Zc(i),c=ed(i),d=Zc(o),f=ed(o),p=Zc(a),g=ed(a),m=Zc(s),y=ed(s),_=Zc(l),w=ed(l),v={a:H,A:L,b:B,B:Q,c:null,d:jC,e:jC,f:Lhe,g:Ghe,G:Qhe,H:Dhe,I:Mhe,j:$he,L:JF,m:jhe,M:Vhe,p:ie,q:J,Q:BC,s:UC,S:Fhe,u:Bhe,U:Uhe,V:zhe,w:qhe,W:Whe,x:null,X:null,y:Khe,Y:Hhe,Z:Xhe,"%":FC},A={a:te,A:Te,b:Ce,B:ze,c:null,d:VC,e:VC,f:efe,g:cfe,G:hfe,H:Yhe,I:Jhe,j:Zhe,L:e4,m:tfe,M:nfe,p:vt,q:Wt,Q:BC,s:UC,S:rfe,u:ife,U:ofe,V:afe,w:sfe,W:lfe,x:null,X:null,y:ufe,Y:dfe,Z:ffe,"%":FC},E={a:k,A:C,b:D,B:R,c:W,d:$C,e:$C,f:khe,g:MC,G:DC,H:LC,I:LC,j:Ahe,L:Ohe,m:She,M:Ihe,p:P,q:The,Q:Rhe,s:Nhe,S:Phe,u:_he,U:bhe,V:whe,w:vhe,W:xhe,x:q,X:G,y:MC,Y:DC,Z:Ehe,"%":Che};v.x=S(n,v),v.X=S(r,v),v.c=S(e,v),A.x=S(n,A),A.X=S(r,A),A.c=S(e,A);function S(se,fe){return function(_e){var Z=[],Qe=-1,Se=0,ht=se.length,_t,tn,Br;for(_e instanceof Date||(_e=new Date(+_e));++Qe<ht;)se.charCodeAt(Qe)===37&&(Z.push(se.slice(Se,Qe)),(tn=NC[_t=se.charAt(++Qe)])!=null?_t=se.charAt(++Qe):tn=_t==="e"?" ":"0",(Br=fe[_t])&&(_t=Br(_e,tn)),Z.push(_t),Se=Qe+1);return Z.push(se.slice(Se,Qe)),Z.join("")}}function x(se,fe){return function(_e){var Z=Jc(1900,void 0,1),Qe=T(Z,se,_e+="",0),Se,ht;if(Qe!=_e.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(fe&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(Se=O_(Jc(Z.y,0,1)),ht=Se.getUTCDay(),Se=ht>4||ht===0?Bg.ceil(Se):Bg(Se),Se=Mv.offset(Se,(Z.V-1)*7),Z.y=Se.getUTCFullYear(),Z.m=Se.getUTCMonth(),Z.d=Se.getUTCDate()+(Z.w+6)%7):(Se=P_(Jc(Z.y,0,1)),ht=Se.getDay(),Se=ht>4||ht===0?Fg.ceil(Se):Fg(Se),Se=Lf.offset(Se,(Z.V-1)*7),Z.y=Se.getFullYear(),Z.m=Se.getMonth(),Z.d=Se.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),ht="Z"in Z?O_(Jc(Z.y,0,1)).getUTCDay():P_(Jc(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(ht+5)%7:Z.w+Z.U*7-(ht+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,O_(Z)):P_(Z)}}function T(se,fe,_e,Z){for(var Qe=0,Se=fe.length,ht=_e.length,_t,tn;Qe<Se;){if(Z>=ht)return-1;if(_t=fe.charCodeAt(Qe++),_t===37){if(_t=fe.charAt(Qe++),tn=E[_t in NC?fe.charAt(Qe++):_t],!tn||(Z=tn(se,_e,Z))<0)return-1}else if(_t!=_e.charCodeAt(Z++))return-1}return Z}function P(se,fe,_e){var Z=u.exec(fe.slice(_e));return Z?(se.p=c.get(Z[0].toLowerCase()),_e+Z[0].length):-1}function k(se,fe,_e){var Z=p.exec(fe.slice(_e));return Z?(se.w=g.get(Z[0].toLowerCase()),_e+Z[0].length):-1}function C(se,fe,_e){var Z=d.exec(fe.slice(_e));return Z?(se.w=f.get(Z[0].toLowerCase()),_e+Z[0].length):-1}function D(se,fe,_e){var Z=_.exec(fe.slice(_e));return Z?(se.m=w.get(Z[0].toLowerCase()),_e+Z[0].length):-1}function R(se,fe,_e){var Z=m.exec(fe.slice(_e));return Z?(se.m=y.get(Z[0].toLowerCase()),_e+Z[0].length):-1}function W(se,fe,_e){return T(se,e,fe,_e)}function q(se,fe,_e){return T(se,n,fe,_e)}function G(se,fe,_e){return T(se,r,fe,_e)}function H(se){return a[se.getDay()]}function L(se){return o[se.getDay()]}function B(se){return l[se.getMonth()]}function Q(se){return s[se.getMonth()]}function ie(se){return i[+(se.getHours()>=12)]}function J(se){return 1+~~(se.getMonth()/3)}function te(se){return a[se.getUTCDay()]}function Te(se){return o[se.getUTCDay()]}function Ce(se){return l[se.getUTCMonth()]}function ze(se){return s[se.getUTCMonth()]}function vt(se){return i[+(se.getUTCHours()>=12)]}function Wt(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var fe=S(se+="",v);return fe.toString=function(){return se},fe},parse:function(se){var fe=x(se+="",!1);return fe.toString=function(){return se},fe},utcFormat:function(se){var fe=S(se+="",A);return fe.toString=function(){return se},fe},utcParse:function(se){var fe=x(se+="",!0);return fe.toString=function(){return se},fe}}}var NC={"-":"",_:" ",0:"0"},en=/^\s*\d+/,mhe=/^%/,ghe=/[\\^$*+?|[\]().{}]/g;function $e(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function yhe(t){return t.replace(ghe,"\\$&")}function Zc(t){return new RegExp("^(?:"+t.map(yhe).join("|")+")","i")}function ed(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function vhe(t,e,n){var r=en.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function _he(t,e,n){var r=en.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function bhe(t,e,n){var r=en.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function whe(t,e,n){var r=en.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function xhe(t,e,n){var r=en.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function DC(t,e,n){var r=en.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function MC(t,e,n){var r=en.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ehe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function The(t,e,n){var r=en.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function She(t,e,n){var r=en.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function $C(t,e,n){var r=en.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Ahe(t,e,n){var r=en.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function LC(t,e,n){var r=en.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Ihe(t,e,n){var r=en.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Phe(t,e,n){var r=en.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Ohe(t,e,n){var r=en.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function khe(t,e,n){var r=en.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Che(t,e,n){var r=mhe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Rhe(t,e,n){var r=en.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Nhe(t,e,n){var r=en.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function jC(t,e){return $e(t.getDate(),e,2)}function Dhe(t,e){return $e(t.getHours(),e,2)}function Mhe(t,e){return $e(t.getHours()%12||12,e,2)}function $he(t,e){return $e(1+Lf.count(Xi(t),t),e,3)}function JF(t,e){return $e(t.getMilliseconds(),e,3)}function Lhe(t,e){return JF(t,e)+"000"}function jhe(t,e){return $e(t.getMonth()+1,e,2)}function Vhe(t,e){return $e(t.getMinutes(),e,2)}function Fhe(t,e){return $e(t.getSeconds(),e,2)}function Bhe(t){var e=t.getDay();return e===0?7:e}function Uhe(t,e){return $e($v.count(Xi(t)-1,t),e,2)}function ZF(t){var e=t.getDay();return e>=4||e===0?Eu(t):Eu.ceil(t)}function zhe(t,e){return t=ZF(t),$e(Eu.count(Xi(t),t)+(Xi(t).getDay()===4),e,2)}function qhe(t){return t.getDay()}function Whe(t,e){return $e(Fg.count(Xi(t)-1,t),e,2)}function Khe(t,e){return $e(t.getFullYear()%100,e,2)}function Ghe(t,e){return t=ZF(t),$e(t.getFullYear()%100,e,2)}function Hhe(t,e){return $e(t.getFullYear()%1e4,e,4)}function Qhe(t,e){var n=t.getDay();return t=n>=4||n===0?Eu(t):Eu.ceil(t),$e(t.getFullYear()%1e4,e,4)}function Xhe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+$e(e/60|0,"0",2)+$e(e%60,"0",2)}function VC(t,e){return $e(t.getUTCDate(),e,2)}function Yhe(t,e){return $e(t.getUTCHours(),e,2)}function Jhe(t,e){return $e(t.getUTCHours()%12||12,e,2)}function Zhe(t,e){return $e(1+Mv.count(Yi(t),t),e,3)}function e4(t,e){return $e(t.getUTCMilliseconds(),e,3)}function efe(t,e){return e4(t,e)+"000"}function tfe(t,e){return $e(t.getUTCMonth()+1,e,2)}function nfe(t,e){return $e(t.getUTCMinutes(),e,2)}function rfe(t,e){return $e(t.getUTCSeconds(),e,2)}function ife(t){var e=t.getUTCDay();return e===0?7:e}function ofe(t,e){return $e(Lv.count(Yi(t)-1,t),e,2)}function t4(t){var e=t.getUTCDay();return e>=4||e===0?Tu(t):Tu.ceil(t)}function afe(t,e){return t=t4(t),$e(Tu.count(Yi(t),t)+(Yi(t).getUTCDay()===4),e,2)}function sfe(t){return t.getUTCDay()}function lfe(t,e){return $e(Bg.count(Yi(t)-1,t),e,2)}function ufe(t,e){return $e(t.getUTCFullYear()%100,e,2)}function cfe(t,e){return t=t4(t),$e(t.getUTCFullYear()%100,e,2)}function dfe(t,e){return $e(t.getUTCFullYear()%1e4,e,4)}function hfe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Tu(t):Tu.ceil(t),$e(t.getUTCFullYear()%1e4,e,4)}function ffe(){return"+0000"}function FC(){return"%"}function BC(t){return+t}function UC(t){return Math.floor(+t/1e3)}var ol,n4,r4;pfe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function pfe(t){return ol=phe(t),n4=ol.format,ol.parse,r4=ol.utcFormat,ol.utcParse,ol}function mfe(t){return new Date(t)}function gfe(t){return t instanceof Date?+t:+new Date(+t)}function tS(t,e,n,r,i,o,a,s,l,u){var c=BT(),d=c.invert,f=c.domain,p=u(".%L"),g=u(":%S"),m=u("%I:%M"),y=u("%I %p"),_=u("%a %d"),w=u("%b %d"),v=u("%B"),A=u("%Y");function E(S){return(l(S)<S?p:s(S)<S?g:a(S)<S?m:o(S)<S?y:r(S)<S?i(S)<S?_:w:n(S)<S?v:A)(S)}return c.invert=function(S){return new Date(d(S))},c.domain=function(S){return arguments.length?f(Array.from(S,gfe)):f().map(mfe)},c.ticks=function(S){var x=f();return t(x[0],x[x.length-1],S??10)},c.tickFormat=function(S,x){return x==null?E:u(x)},c.nice=function(S){var x=f();return(!S||typeof S.range!="function")&&(S=e(x[0],x[x.length-1],S??10)),S?f(zF(x,S)):c},c.copy=function(){return $f(c,tS(t,e,n,r,i,o,a,s,l,u))},c}function yfe(){return Er.apply(tS(hhe,fhe,Xi,ZT,$v,Lf,YT,QT,Za,n4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function vfe(){return Er.apply(tS(che,dhe,Yi,eS,Lv,Mv,JT,XT,Za,r4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function jv(){var t=0,e=1,n,r,i,o,a=Rn,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(o(d)-n)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(a=d,u):a};function c(d){return function(f){var p,g;return arguments.length?([p,g]=f,a=d(p,g),u):[a(0),a(1)]}}return u.range=c(gc),u.rangeRound=c(FT),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return o=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),u}}function xa(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function i4(){var t=wa(jv()(Rn));return t.copy=function(){return xa(t,i4())},oo.apply(t,arguments)}function o4(){var t=qT(jv()).domain([1,10]);return t.copy=function(){return xa(t,o4()).base(t.base())},oo.apply(t,arguments)}function a4(){var t=WT(jv());return t.copy=function(){return xa(t,a4()).constant(t.constant())},oo.apply(t,arguments)}function nS(){var t=KT(jv());return t.copy=function(){return xa(t,nS()).exponent(t.exponent())},oo.apply(t,arguments)}function _fe(){return nS.apply(null,arguments).exponent(.5)}function s4(){var t=[],e=Rn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Df(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Wo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>ode(t,o/r))},n.copy=function(){return s4(e).domain(t)},oo.apply(n,arguments)}function Vv(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=Rn,c,d=!1,f;function p(m){return isNaN(m=+m)?f:(m=.5+((m=+c(m))-o)*(r*m<r*o?s:l),u(d?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([t,e,n]=m,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(m){return arguments.length?(d=!!m,p):d},p.interpolator=function(m){return arguments.length?(u=m,p):u};function g(m){return function(y){var _,w,v;return arguments.length?([_,w,v]=y,u=Cde(m,[_,w,v]),p):[u(0),u(.5),u(1)]}}return p.range=g(gc),p.rangeRound=g(FT),p.unknown=function(m){return arguments.length?(f=m,p):f},function(m){return c=m,i=m(t),o=m(e),a=m(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p}}function l4(){var t=wa(Vv()(Rn));return t.copy=function(){return xa(t,l4())},oo.apply(t,arguments)}function u4(){var t=qT(Vv()).domain([.1,1,10]);return t.copy=function(){return xa(t,u4()).base(t.base())},oo.apply(t,arguments)}function c4(){var t=WT(Vv());return t.copy=function(){return xa(t,c4()).constant(t.constant())},oo.apply(t,arguments)}function rS(){var t=KT(Vv());return t.copy=function(){return xa(t,rS()).exponent(t.exponent())},oo.apply(t,arguments)}function bfe(){return rS.apply(null,arguments).exponent(.5)}const zC=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ph,scaleDiverging:l4,scaleDivergingLog:u4,scaleDivergingPow:rS,scaleDivergingSqrt:bfe,scaleDivergingSymlog:c4,scaleIdentity:UF,scaleImplicit:Ww,scaleLinear:jg,scaleLog:qF,scaleOrdinal:LT,scalePoint:Dd,scalePow:GT,scaleQuantile:GF,scaleQuantize:HF,scaleRadial:KF,scaleSequential:i4,scaleSequentialLog:o4,scaleSequentialPow:nS,scaleSequentialQuantile:s4,scaleSequentialSqrt:_fe,scaleSequentialSymlog:a4,scaleSqrt:ehe,scaleSymlog:WF,scaleThreshold:QF,scaleTime:yfe,scaleUtc:vfe,tickFormat:BF},Symbol.toStringTag,{value:"Module"}));var wfe=ac;function xfe(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!wfe(a):n(a,s)))var s=a,l=o}return l}var Fv=xfe;function Efe(t,e){return t>e}var d4=Efe,Tfe=Fv,Sfe=d4,Afe=pc;function Ife(t){return t&&t.length?Tfe(t,Afe,Sfe):void 0}var Pfe=Ife;const Bv=Be(Pfe);function Ofe(t,e){return t<e}var h4=Ofe,kfe=Fv,Cfe=h4,Rfe=pc;function Nfe(t){return t&&t.length?kfe(t,Rfe,Cfe):void 0}var Dfe=Nfe;const Uv=Be(Dfe);var Mfe=yT,$fe=mi,Lfe=bF,jfe=Wn;function Vfe(t,e){var n=jfe(t)?Mfe:Lfe;return n(t,$fe(e))}var Ffe=Vfe,Bfe=vF,Ufe=Ffe;function zfe(t,e){return Bfe(Ufe(t,e),1)}var qfe=zfe;const Wfe=Be(qfe);var Kfe=RT;function Gfe(t,e){return Kfe(t,e)}var Hfe=Gfe;const jf=Be(Hfe);var yc=1e9,Qfe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},oS,dt=!0,wr="[DecimalError] ",ls=wr+"Invalid argument: ",iS=wr+"Exponent out of range: ",vc=Math.floor,Va=Math.pow,Xfe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Jn,Gt=1e7,it=7,f4=9007199254740991,Ug=vc(f4/it),ce={};ce.absoluteValue=ce.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ce.comparedTo=ce.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ce.decimalPlaces=ce.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*it;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ce.dividedBy=ce.div=function(t){return ji(this,new this.constructor(t))};ce.dividedToIntegerBy=ce.idiv=function(t){var e=this,n=e.constructor;return Ge(ji(e,new n(t),0,1),n.precision)};ce.equals=ce.eq=function(t){return!this.cmp(t)};ce.exponent=function(){return Dt(this)};ce.greaterThan=ce.gt=function(t){return this.cmp(t)>0};ce.greaterThanOrEqualTo=ce.gte=function(t){return this.cmp(t)>=0};ce.isInteger=ce.isint=function(){return this.e>this.d.length-2};ce.isNegative=ce.isneg=function(){return this.s<0};ce.isPositive=ce.ispos=function(){return this.s>0};ce.isZero=function(){return this.s===0};ce.lessThan=ce.lt=function(t){return this.cmp(t)<0};ce.lessThanOrEqualTo=ce.lte=function(t){return this.cmp(t)<1};ce.logarithm=ce.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Jn))throw Error(wr+"NaN");if(n.s<1)throw Error(wr+(n.s?"NaN":"-Infinity"));return n.eq(Jn)?new r(0):(dt=!1,e=ji(Nh(n,o),Nh(t,o),o),dt=!0,Ge(e,i))};ce.minus=ce.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?g4(e,t):p4(e,(t.s=-t.s,t))};ce.modulo=ce.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(wr+"NaN");return n.s?(dt=!1,e=ji(n,t,0,1).times(t),dt=!0,n.minus(e)):Ge(new r(n),i)};ce.naturalExponential=ce.exp=function(){return m4(this)};ce.naturalLogarithm=ce.ln=function(){return Nh(this)};ce.negated=ce.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ce.plus=ce.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?p4(e,t):g4(e,(t.s=-t.s,t))};ce.precision=ce.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ls+t);if(e=Dt(i)+1,r=i.d.length-1,n=r*it+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ce.squareRoot=ce.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(wr+"NaN")}for(t=Dt(s),dt=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Yr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=vc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(ji(s,o,a+2)).times(.5),Yr(o.d).slice(0,a)===(e=Yr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Ge(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return dt=!0,Ge(r,n)};ce.times=ce.mul=function(t){var e,n,r,i,o,a,s,l,u,c=this,d=c.constructor,f=c.d,p=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,n=c.e+t.e,l=f.length,u=p.length,l<u&&(o=f,f=p,p=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+p[r]*f[i-r-1]+e,o[i--]=s%Gt|0,e=s/Gt|0;o[i]=(o[i]+e)%Gt|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,dt?Ge(t,d.precision):t};ce.toDecimalPlaces=ce.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(hi(t,0,yc),e===void 0?e=r.rounding:hi(e,0,8),Ge(n,t+Dt(n)+1,e))};ce.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ks(r,!0):(hi(t,0,yc),e===void 0?e=i.rounding:hi(e,0,8),r=Ge(new i(r),t+1,e),n=ks(r,!0,t+1)),n};ce.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?ks(i):(hi(t,0,yc),e===void 0?e=o.rounding:hi(e,0,8),r=Ge(new o(i),t+Dt(i)+1,e),n=ks(r.abs(),!1,t+Dt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ce.toInteger=ce.toint=function(){var t=this,e=t.constructor;return Ge(new e(t),Dt(t)+1,e.rounding)};ce.toNumber=function(){return+this};ce.toPower=ce.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Jn);if(s=new l(s),!s.s){if(t.s<1)throw Error(wr+"Infinity");return s}if(s.eq(Jn))return s;if(r=l.precision,t.eq(Jn))return Ge(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=f4){for(i=new l(Jn),e=Math.ceil(r/it+4),dt=!1;n%2&&(i=i.times(s),WC(i.d,e)),n=vc(n/2),n!==0;)s=s.times(s),WC(s.d,e);return dt=!0,t.s<0?new l(Jn).div(i):Ge(i,r)}}else if(o<0)throw Error(wr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,dt=!1,i=t.times(Nh(s,r+u)),dt=!0,i=m4(i),i.s=o,i};ce.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Dt(i),r=ks(i,n<=o.toExpNeg||n>=o.toExpPos)):(hi(t,1,yc),e===void 0?e=o.rounding:hi(e,0,8),i=Ge(new o(i),t,e),n=Dt(i),r=ks(i,t<=n||n<=o.toExpNeg,t)),r};ce.toSignificantDigits=ce.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(hi(t,1,yc),e===void 0?e=r.rounding:hi(e,0,8)),Ge(new r(n),t,e)};ce.toString=ce.valueOf=ce.val=ce.toJSON=ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Dt(t),n=t.constructor;return ks(t,e<=n.toExpNeg||e>=n.toExpPos)};function p4(t,e){var n,r,i,o,a,s,l,u,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),dt?Ge(e,d):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(d/it),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Gt|0,l[o]%=Gt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,dt?Ge(e,d):e}function hi(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ls+t)}function Yr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=it-r.length,n&&(o+=go(n)),o+=r;a=t[e],r=a+"",n=it-r.length,n&&(o+=go(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var ji=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%Gt|0,a=o/Gt|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Gt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,d,f,p,g,m,y,_,w,v,A,E,S,x,T,P=r.constructor,k=r.s==i.s?1:-1,C=r.d,D=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(wr+"Division by zero");for(l=r.e-i.e,x=D.length,E=C.length,p=new P(k),g=p.d=[],u=0;D[u]==(C[u]||0);)++u;if(D[u]>(C[u]||0)&&--l,o==null?w=o=P.precision:a?w=o+(Dt(r)-Dt(i))+1:w=o,w<0)return new P(0);if(w=w/it+2|0,u=0,x==1)for(c=0,D=D[0],w++;(u<E||c)&&w--;u++)v=c*Gt+(C[u]||0),g[u]=v/D|0,c=v%D|0;else{for(c=Gt/(D[0]+1)|0,c>1&&(D=t(D,c),C=t(C,c),x=D.length,E=C.length),A=x,m=C.slice(0,x),y=m.length;y<x;)m[y++]=0;T=D.slice(),T.unshift(0),S=D[0],D[1]>=Gt/2&&++S;do c=0,s=e(D,m,x,y),s<0?(_=m[0],x!=y&&(_=_*Gt+(m[1]||0)),c=_/S|0,c>1?(c>=Gt&&(c=Gt-1),d=t(D,c),f=d.length,y=m.length,s=e(d,m,f,y),s==1&&(c--,n(d,x<f?T:D,f))):(c==0&&(s=c=1),d=D.slice()),f=d.length,f<y&&d.unshift(0),n(m,d,y),s==-1&&(y=m.length,s=e(D,m,x,y),s<1&&(c++,n(m,x<y?T:D,y))),y=m.length):s===0&&(c++,m=[0]),g[u++]=c,s&&m[0]?m[y++]=C[A]||0:(m=[C[A]],y=1);while((A++<E||m[0]!==void 0)&&w--)}return g[0]||g.shift(),p.e=l,Ge(p,a?o+Dt(p)+1:o)}}();function m4(t,e){var n,r,i,o,a,s,l=0,u=0,c=t.constructor,d=c.precision;if(Dt(t)>16)throw Error(iS+Dt(t));if(!t.s)return new c(Jn);for(e==null?(dt=!1,s=d):s=e,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Va(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(Jn),c.precision=s;;){if(i=Ge(i.times(t),s),n=n.times(++l),a=o.plus(ji(i,n,s)),Yr(a.d).slice(0,s)===Yr(o.d).slice(0,s)){for(;u--;)o=Ge(o.times(o),s);return c.precision=d,e==null?(dt=!0,Ge(o,d)):o}o=a}}function Dt(t){for(var e=t.e*it,n=t.d[0];n>=10;n/=10)e++;return e}function k_(t,e,n){if(e>t.LN10.sd())throw dt=!0,n&&(t.precision=n),Error(wr+"LN10 precision limit exceeded");return Ge(new t(t.LN10),e)}function go(t){for(var e="";t--;)e+="0";return e}function Nh(t,e){var n,r,i,o,a,s,l,u,c,d=1,f=10,p=t,g=p.d,m=p.constructor,y=m.precision;if(p.s<1)throw Error(wr+(p.s?"NaN":"-Infinity"));if(p.eq(Jn))return new m(0);if(e==null?(dt=!1,u=y):u=e,p.eq(10))return e==null&&(dt=!0),k_(m,u);if(u+=f,m.precision=u,n=Yr(g),r=n.charAt(0),o=Dt(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Yr(p.d),r=n.charAt(0),d++;o=Dt(p),r>1?(p=new m("0."+n),o++):p=new m(r+"."+n.slice(1))}else return l=k_(m,u+2,y).times(o+""),p=Nh(new m(r+"."+n.slice(1)),u-f).plus(l),m.precision=y,e==null?(dt=!0,Ge(p,y)):p;for(s=a=p=ji(p.minus(Jn),p.plus(Jn),u),c=Ge(p.times(p),u),i=3;;){if(a=Ge(a.times(c),u),l=s.plus(ji(a,new m(i),u)),Yr(l.d).slice(0,u)===Yr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(k_(m,u+2,y).times(o+""))),s=ji(s,new m(d),u),m.precision=y,e==null?(dt=!0,Ge(s,y)):s;s=l,i+=2}}function qC(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=vc(n/it),t.d=[],r=(n+1)%it,n<0&&(r+=it),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=it;r<i;)t.d.push(+e.slice(r,r+=it));e=e.slice(r),r=it-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),dt&&(t.e>Ug||t.e<-Ug))throw Error(iS+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ge(t,e,n){var r,i,o,a,s,l,u,c,d=t.d;for(a=1,o=d[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=it,i=e,u=d[c=0];else{if(c=Math.ceil((r+1)/it),o=d.length,c>=o)return t;for(u=o=d[c],a=1;o>=10;o/=10)a++;r%=it,i=r-it+a}if(n!==void 0&&(o=Va(10,a-i-1),s=u/o%10|0,l=e<0||d[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Va(10,a-i):0:d[c-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(o=Dt(t),d.length=1,e=e-o-1,d[0]=Va(10,(it-e%it)%it),t.e=vc(-e/it)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=c,o=1,c--):(d.length=c+1,o=Va(10,it-r),d[c]=i>0?(u/Va(10,a-i)%Va(10,i)|0)*o:0),l)for(;;)if(c==0){(d[0]+=o)==Gt&&(d[0]=1,++t.e);break}else{if(d[c]+=o,d[c]!=Gt)break;d[c--]=0,o=1}for(r=d.length;d[--r]===0;)d.pop();if(dt&&(t.e>Ug||t.e<-Ug))throw Error(iS+Dt(t));return t}function g4(t,e){var n,r,i,o,a,s,l,u,c,d,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),dt?Ge(e,p):e;if(l=t.d,d=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=d.length):(n=d,r=u,s=l.length),i=Math.max(Math.ceil(p/it),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=d.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}a=0}for(c&&(n=l,l=d,d=n,e.s=-e.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=Gt-1;--l[o],l[i]+=Gt}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,dt?Ge(e,p):e):new f(0)}function ks(t,e,n){var r,i=Dt(t),o=Yr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+go(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+go(-i-1)+o,n&&(r=n-a)>0&&(o+=go(r))):i>=a?(o+=go(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+go(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=go(r))),t.s<0?"-"+o:o}function WC(t,e){if(t.length>e)return t.length=e,!0}function y4(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ls+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return qC(a,o.toString())}else if(typeof o!="string")throw Error(ls+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Xfe.test(o))qC(a,o);else throw Error(ls+o)}if(i.prototype=ce,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=y4,i.config=i.set=Yfe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Yfe(t){if(!t||typeof t!="object")throw Error(wr+"Object expected");var e,n,r,i=["precision",1,yc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(vc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ls+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ls+n+": "+r);return this}var oS=y4(Qfe);Jn=new oS(1);const qe=oS;function Jfe(t){return npe(t)||tpe(t)||epe(t)||Zfe()}function Zfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function epe(t,e){if(t){if(typeof t=="string")return Qw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qw(t,e)}}function tpe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function npe(t){if(Array.isArray(t))return Qw(t)}function Qw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var rpe=function(e){return e},v4={"@@functional/placeholder":!0},_4=function(e){return e===v4},KC=function(e){return function n(){return arguments.length===0||arguments.length===1&&_4(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},ipe=function t(e,n){return e===1?n:KC(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==v4}).length;return a>=e?n.apply(void 0,i):t(e-a,KC(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(d){return _4(d)?l.shift():d});return n.apply(void 0,Jfe(c).concat(l))}))})},zv=function(e){return ipe(e.length,e)},Xw=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},ope=zv(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),ape=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return rpe;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},Yw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},b4=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function spe(t){var e;return t===0?e=1:e=Math.floor(new qe(t).abs().log(10).toNumber())+1,e}function lpe(t,e,n){for(var r=new qe(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var upe=zv(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),cpe=zv(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),dpe=zv(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const qv={rangeStep:lpe,getDigitCount:spe,interpolateNumber:upe,uninterpolateNumber:cpe,uninterpolateTruncation:dpe};function Jw(t){return ppe(t)||fpe(t)||w4(t)||hpe()}function hpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fpe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ppe(t){if(Array.isArray(t))return Zw(t)}function Dh(t,e){return ype(t)||gpe(t,e)||w4(t,e)||mpe()}function mpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w4(t,e){if(t){if(typeof t=="string")return Zw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zw(t,e)}}function Zw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gpe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function ype(t){if(Array.isArray(t))return t}function x4(t){var e=Dh(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function E4(t,e,n){if(t.lte(0))return new qe(0);var r=qv.getDigitCount(t.toNumber()),i=new qe(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new qe(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new qe(Math.ceil(l))}function vpe(t,e,n){var r=1,i=new qe(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new qe(10).pow(qv.getDigitCount(t)-1),i=new qe(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new qe(Math.floor(t)))}else t===0?i=new qe(Math.floor((e-1)/2)):n||(i=new qe(Math.floor(t)));var a=Math.floor((e-1)/2),s=ape(ope(function(l){return i.add(new qe(l-a).mul(r)).toNumber()}),Xw);return s(0,e)}function T4(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new qe(0),tickMin:new qe(0),tickMax:new qe(0)};var o=E4(new qe(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new qe(0):(a=new qe(t).add(e).div(2),a=a.sub(new qe(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new qe(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?T4(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new qe(s).mul(o)),tickMax:a.add(new qe(l).mul(o))})}function _pe(t){var e=Dh(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=x4([n,r]),l=Dh(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var d=c===1/0?[u].concat(Jw(Xw(0,i-1).map(function(){return 1/0}))):[].concat(Jw(Xw(0,i-1).map(function(){return-1/0})),[c]);return n>r?Yw(d):d}if(u===c)return vpe(u,i,o);var f=T4(u,c,a,o),p=f.step,g=f.tickMin,m=f.tickMax,y=qv.rangeStep(g,m.add(new qe(.1).mul(p)),p);return n>r?Yw(y):y}function bpe(t,e){var n=Dh(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=x4([r,i]),s=Dh(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),d=E4(new qe(u).sub(l).div(c-1),o,0),f=[].concat(Jw(qv.rangeStep(new qe(l),new qe(u).sub(new qe(.99).mul(d)),d)),[u]);return r>i?Yw(f):f}var wpe=b4(_pe),xpe=b4(bpe),Epe=!0,C_="Invariant failed";function Cs(t,e){if(!t){if(Epe)throw new Error(C_);var n=typeof e=="function"?e():e,r=n?"".concat(C_,": ").concat(n):C_;throw new Error(r)}}var Tpe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Su(t){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(t)}function zg(){return zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zg.apply(this,arguments)}function Spe(t,e){return Ope(t)||Ppe(t,e)||Ipe(t,e)||Ape()}function Ape(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ipe(t,e){if(t){if(typeof t=="string")return GC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GC(t,e)}}function GC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ppe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Ope(t){if(Array.isArray(t))return t}function kpe(t,e){if(t==null)return{};var n=Cpe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Rpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I4(r.key),r)}}function Npe(t,e,n){return e&&HC(t.prototype,e),n&&HC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dpe(t,e,n){return e=qg(e),Mpe(t,S4()?Reflect.construct(e,n||[],qg(t).constructor):e.apply(t,n))}function Mpe(t,e){if(e&&(Su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $pe(t)}function $pe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S4=function(){return!!t})()}function qg(t){return qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qg(t)}function Lpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&e1(t,e)}function e1(t,e){return e1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},e1(t,e)}function A4(t,e,n){return e=I4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I4(t){var e=jpe(t,"string");return Su(e)=="symbol"?e:e+""}function jpe(t,e){if(Su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vf=function(t){function e(){return Rpe(this,e),Dpe(this,e,arguments)}return Lpe(e,t),Npe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,d=r.yAxis,f=kpe(r,Tpe),p=pe(f,!1);this.props.direction==="x"&&c.type!=="number"&&Cs(!1);var g=l.map(function(m){var y=u(m,s),_=y.x,w=y.y,v=y.value,A=y.errorVal;if(!A)return null;var E=[],S,x;if(Array.isArray(A)){var T=Spe(A,2);S=T[0],x=T[1]}else S=x=A;if(o==="vertical"){var P=c.scale,k=w+i,C=k+a,D=k-a,R=P(v-S),W=P(v+x);E.push({x1:W,y1:C,x2:W,y2:D}),E.push({x1:R,y1:k,x2:W,y2:k}),E.push({x1:R,y1:C,x2:R,y2:D})}else if(o==="horizontal"){var q=d.scale,G=_+i,H=G-a,L=G+a,B=q(v-S),Q=q(v+x);E.push({x1:H,y1:Q,x2:L,y2:Q}),E.push({x1:G,y1:B,x2:G,y2:Q}),E.push({x1:H,y1:B,x2:L,y2:B})}return j.createElement(Me,zg({className:"recharts-errorBar",key:"bar-".concat(E.map(function(ie){return"".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)}))},p),E.map(function(ie){return j.createElement("line",zg({},ie,{key:"line-".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)}))}))});return j.createElement(Me,{className:"recharts-errorBars"},g)}}])}(j.Component);A4(Vf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});A4(Vf,"displayName","ErrorBar");function Mh(t){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}function QC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ka(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QC(Object(n),!0).forEach(function(r){Vpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vpe(t,e,n){return e=Fpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fpe(t){var e=Bpe(t,"string");return Mh(e)=="symbol"?e:e+""}function Bpe(t,e){if(Mh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var P4=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Xn(n,ai);if(!a)return null;var s=ai.defaultProps,l=s!==void 0?ka(ka({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(c,d){var f=d.item,p=d.props,g=p.sectors||p.data||[];return c.concat(g.map(function(m){return{type:a.props.iconType||f.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(r||[]).map(function(c){var d=c.item,f=d.type.defaultProps,p=f!==void 0?ka(ka({},f),d.props):{},g=p.dataKey,m=p.name,y=p.legendType,_=p.hide;return{inactive:_,dataKey:g,type:l.iconType||y||"square",color:aS(d),value:m||g,payload:p}}),ka(ka(ka({},l),ai.getWithHeight(a,i)),{},{payload:u,item:a})};function $h(t){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$h(t)}function XC(t){return Wpe(t)||qpe(t)||zpe(t)||Upe()}function Upe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zpe(t,e){if(t){if(typeof t=="string")return t1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t1(t,e)}}function qpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wpe(t){if(Array.isArray(t))return t1(t)}function t1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function YC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YC(Object(n),!0).forEach(function(r){Wl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wl(t,e,n){return e=Kpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kpe(t){var e=Gpe(t,"string");return $h(e)=="symbol"?e:e+""}function Gpe(t,e){if($h(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vt(t,e,n){return be(t)||be(e)?n:Bt(e)?nr(t,e,n):ve(e)?e(t):n}function Md(t,e,n,r){var i=Wfe(t,function(s){return Vt(s,e)});if(n==="number"){var o=i.filter(function(s){return ne(s)||parseFloat(s)});return o.length?[Uv(o),Bv(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!be(s)}):i;return a.map(function(s){return Bt(s)||s instanceof Date?s:""})}var Hpe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,d=i[u].coordinate,f=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(kn(d-c)!==kn(f-d)){var g=[];if(kn(f-d)===kn(l[1]-l[0])){p=f;var m=d+l[1]-l[0];g[0]=Math.min(m,(m+c)/2),g[1]=Math.max(m,(m+c)/2)}else{p=c;var y=f+l[1]-l[0];g[0]=Math.min(d,(y+d)/2),g[1]=Math.max(d,(y+d)/2)}var _=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(e>_[0]&&e<=_[1]||e>=g[0]&&e<=g[1]){a=i[u].index;break}}else{var w=Math.min(c,f),v=Math.max(c,f);if(e>(w+d)/2&&e<=(v+d)/2){a=i[u].index;break}}}else for(var A=0;A<s;A++)if(A===0&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A>0&&A<s-1&&e>(r[A].coordinate+r[A-1].coordinate)/2&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A===s-1&&e>(r[A].coordinate+r[A-1].coordinate)/2){a=r[A].index;break}return a},aS=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?xt(xt({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},Qpe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,d=Object.keys(c),f=0,p=d.length;f<p;f++){var g=c[d[f]],m=g.items,y=g.cateAxisId,_=m.filter(function(x){return Li(x.type).indexOf("Bar")>=0});if(_&&_.length){var w=_[0].type.defaultProps,v=w!==void 0?xt(xt({},w),_[0].props):_[0].props,A=v.barSize,E=v[y];a[E]||(a[E]=[]);var S=be(A)?n:A;a[E].push({item:_[0],stackList:_.slice(1),barSize:be(S)?void 0:Cn(S,r,0)})}}return a},Xpe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=Cn(n,i,0,!0),c,d=[];if(a[0].barSize===+a[0].barSize){var f=!1,p=i/l,g=a.reduce(function(A,E){return A+E.barSize||0},0);g+=(l-1)*u,g>=i&&(g-=(l-1)*u,u=0),g>=i&&p>0&&(f=!0,p*=.9,g=l*p);var m=(i-g)/2>>0,y={offset:m-u,size:0};c=a.reduce(function(A,E){var S={item:E.item,position:{offset:y.offset+y.size+u,size:f?p:E.barSize}},x=[].concat(XC(A),[S]);return y=x[x.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){x.push({item:T,position:y})}),x},d)}else{var _=Cn(r,i,0,!0);i-2*_-(l-1)*u<=0&&(u=0);var w=(i-2*_-(l-1)*u)/l;w>1&&(w>>=0);var v=s===+s?Math.min(w,s):w;c=a.reduce(function(A,E,S){var x=[].concat(XC(A),[{item:E.item,position:{offset:_+(w+u)*S+(w-v)/2,size:v}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){x.push({item:T,position:x[x.length-1].position})}),x},d)}return c},Ype=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=P4({children:o,legendWidth:l});if(u){var c=i||{},d=c.width,f=c.height,p=u.align,g=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&ne(e[p]))return xt(xt({},e),{},Wl({},p,e[p]+(d||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&ne(e[g]))return xt(xt({},e),{},Wl({},g,e[g]+(f||0)))}return e},Jpe=function(e,n,r){return be(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},O4=function(e,n,r,i,o){var a=n.props.children,s=rr(a,Vf).filter(function(u){return Jpe(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var d=Vt(c,r);if(be(d))return u;var f=Array.isArray(d)?[Uv(d),Bv(d)]:[d,d],p=l.reduce(function(g,m){var y=Vt(c,m,0),_=f[0]-Math.abs(Array.isArray(y)?y[0]:y),w=f[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(_,g[0]),Math.max(w,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Zpe=function(e,n,r,i,o){var a=n.map(function(s){return O4(e,s,r,o,i)}).filter(function(s){return!be(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},k4=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&O4(e,l,u,i)||Md(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,d=u.length;c<d;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},C4=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},R4=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},Di=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?kn(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(d){var f=o?o.indexOf(d):d;return{coordinate:i(f)+u,value:d,offset:u}});return c.filter(function(d){return!Rf(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,f){return{coordinate:i(d)+u,value:d,index:f,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,f){return{coordinate:i(d)+u,value:o?o[d]:d,index:f,offset:u}})},R_=new WeakMap,Up=function(e,n){if(typeof n!="function")return e;R_.has(e)||R_.set(e,new WeakMap);var r=R_.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},N4=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Ph(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:jg(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Dd(),realScaleType:"point"}:o==="category"?{scale:Ph(),realScaleType:"band"}:{scale:jg(),realScaleType:"linear"};if(Is(i)){var l="scale".concat(Iv(i));return{scale:(zC[l]||Dd)(),realScaleType:zC[l]?l:"point"}}return ve(i)?{scale:i}:{scale:Dd(),realScaleType:"point"}},JC=1e-4,D4=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-JC,a=Math.max(i[0],i[1])+JC,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},eme=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},tme=function(e,n){if(!n||n.length!==2||!ne(n[0])||!ne(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!ne(e[0])||e[0]<r)&&(o[0]=r),(!ne(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},nme=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Rf(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},rme=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Rf(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},ime={sign:nme,expand:Ate,none:yu,silhouette:Ite,wiggle:Pte,positive:rme},ome=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=ime[r],a=Ste().keys(i).value(function(s,l){return+Vt(s,l,0)}).order(Aw).offset(o);return a(e)},ame=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(d,f){var p,g=(p=f.type)!==null&&p!==void 0&&p.defaultProps?xt(xt({},f.type.defaultProps),f.props):f.props,m=g.stackId,y=g.hide;if(y)return d;var _=g[r],w=d[_]||{hasStack:!1,stackGroups:{}};if(Bt(m)){var v=w.stackGroups[m]||{numericAxisId:r,cateAxisId:i,items:[]};v.items.push(f),w.hasStack=!0,w.stackGroups[m]=v}else w.stackGroups[dc("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[f]};return xt(xt({},d),{},Wl({},_,w))},l),c={};return Object.keys(u).reduce(function(d,f){var p=u[f];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,y){var _=p.stackGroups[y];return xt(xt({},m),{},Wl({},y,{numericAxisId:r,cateAxisId:i,items:_.items,stackedData:ome(e,_.items,o)}))},g)}return xt(xt({},d),{},Wl({},f,p))},c)},M4=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=wpe(u,o,s);return e.domain([Uv(c),Bv(c)]),{niceTicks:c}}if(o&&i==="number"){var d=e.domain(),f=xpe(d,o,s);return{niceTicks:f}}return null};function ZC(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!be(i[e.dataKey])){var s=yg(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Vt(i,be(a)?e.dataKey:a);return be(l)?null:e.scale(l)}var eR=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Vt(a,n.dataKey,n.domain[s]);return be(l)?null:n.scale(l)-o/2+i},sme=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},lme=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?xt(xt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Bt(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},ume=function(e){return e.reduce(function(n,r){return[Uv(r.concat([n[0]]).filter(ne)),Bv(r.concat([n[1]]).filter(ne))]},[1/0,-1/0])},$4=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,c){var d=ume(c.slice(n,r+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},tR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,n1=function(e,n,r){if(ve(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ne(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(tR.test(e[0])){var o=+tR.exec(e[0])[1];i[0]=n[0]-o}else ve(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ne(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(nR.test(e[1])){var a=+nR.exec(e[1])[1];i[1]=n[1]+a}else ve(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Wg=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=DT(n,function(d){return d.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},rR=function(e,n,r){return!e||!e.length||jf(e,nr(r,"type.defaultProps.domain"))?n:e},L4=function(e,n){var r=e.type.defaultProps?xt(xt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return xt(xt({},pe(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:aS(e),value:Vt(n,i),type:l,payload:n,chartType:u,hide:c})};function Lh(t){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}function iR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(n),!0).forEach(function(r){j4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j4(t,e,n){return e=cme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cme(t){var e=dme(t,"string");return Lh(e)=="symbol"?e:e+""}function dme(t,e){if(Lh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hme(t,e){return gme(t)||mme(t,e)||pme(t,e)||fme()}function fme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pme(t,e){if(t){if(typeof t=="string")return oR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oR(t,e)}}function oR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function gme(t){if(Array.isArray(t))return t}var Kg=Math.PI/180,yme=function(e){return e*180/Math.PI},Ze=function(e,n,r,i){return{x:e+Math.cos(-Kg*i)*r,y:n+Math.sin(-Kg*i)*r}},V4=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},vme=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.startAngle,u=e.endAngle,c=Cn(e.cx,a,a/2),d=Cn(e.cy,s,s/2),f=V4(a,s,r),p=Cn(e.innerRadius,f,0),g=Cn(e.outerRadius,f,f*.8),m=Object.keys(n);return m.reduce(function(y,_){var w=n[_],v=w.domain,A=w.reversed,E;if(be(w.range))i==="angleAxis"?E=[l,u]:i==="radiusAxis"&&(E=[p,g]),A&&(E=[E[1],E[0]]);else{E=w.range;var S=E,x=hme(S,2);l=x[0],u=x[1]}var T=N4(w,o),P=T.realScaleType,k=T.scale;k.domain(v).range(E),D4(k);var C=M4(k,xi(xi({},w),{},{realScaleType:P})),D=xi(xi(xi({},w),C),{},{range:E,radius:g,realScaleType:P,scale:k,cx:c,cy:d,innerRadius:p,outerRadius:g,startAngle:l,endAngle:u});return xi(xi({},y),{},j4({},_,D))},{})},_me=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},bme=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=_me({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:yme(u),angleInRadian:u}},wme=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},xme=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},aR=function(e,n){var r=e.x,i=e.y,o=bme({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=wme(n),d=c.startAngle,f=c.endAngle,p=s,g;if(d<=f){for(;p>f;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=f}else{for(;p>d;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=d}return g?xi(xi({},n),{},{radius:a,angle:xme(p,n)}):null},F4=function(e){return!$.isValidElement(e)&&!ve(e)&&typeof e!="boolean"?e.className:""};function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}var Eme=["offset"];function Tme(t){return Pme(t)||Ime(t)||Ame(t)||Sme()}function Sme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ame(t,e){if(t){if(typeof t=="string")return r1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r1(t,e)}}function Ime(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pme(t){if(Array.isArray(t))return r1(t)}function r1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ome(t,e){if(t==null)return{};var n=kme(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(n),!0).forEach(function(r){Cme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cme(t,e,n){return e=Rme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rme(t){var e=Nme(t,"string");return jh(e)=="symbol"?e:e+""}function Nme(t,e){if(jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vh(){return Vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vh.apply(this,arguments)}var Dme=function(e){var n=e.value,r=e.formatter,i=be(e.children)?n:e.children;return ve(r)?r(i):i},Mme=function(e,n){var r=kn(n-e),i=Math.min(Math.abs(n-e),360);return r*i},$me=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,c=l.cy,d=l.innerRadius,f=l.outerRadius,p=l.startAngle,g=l.endAngle,m=l.clockWise,y=(d+f)/2,_=Mme(p,g),w=_>=0?1:-1,v,A;i==="insideStart"?(v=p+w*a,A=m):i==="insideEnd"?(v=g-w*a,A=!m):i==="end"&&(v=g+w*a,A=m),A=_<=0?A:!A;var E=Ze(u,c,y,v),S=Ze(u,c,y,v+(A?1:-1)*359),x="M".concat(E.x,",").concat(E.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(A?0:1,`,
    `).concat(S.x,",").concat(S.y),T=be(e.id)?dc("recharts-radial-line-"):e.id;return j.createElement("text",Vh({},r,{dominantBaseline:"central",className:Ee("recharts-radial-bar-label",s)}),j.createElement("defs",null,j.createElement("path",{id:T,d:x})),j.createElement("textPath",{xlinkHref:"#".concat(T)},n))},Lme=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,d=o.endAngle,f=(c+d)/2;if(i==="outside"){var p=Ze(a,s,u+r,f),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var y=(l+u)/2,_=Ze(a,s,y,f),w=_.x,v=_.y;return{x:w,y:v,textAnchor:"middle",verticalAnchor:"middle"}},jme=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,c=a.height,d=c>=0?1:-1,f=d*i,p=d>0?"end":"start",g=d>0?"start":"end",m=u>=0?1:-1,y=m*i,_=m>0?"end":"start",w=m>0?"start":"end";if(o==="top"){var v={x:s+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:p};return $t($t({},v),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var A={x:s+u/2,y:l+c+f,textAnchor:"middle",verticalAnchor:g};return $t($t({},A),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var E={x:s-y,y:l+c/2,textAnchor:_,verticalAnchor:"middle"};return $t($t({},E),r?{width:Math.max(E.x-r.x,0),height:c}:{})}if(o==="right"){var S={x:s+u+y,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return $t($t({},S),r?{width:Math.max(r.x+r.width-S.x,0),height:c}:{})}var x=r?{width:u,height:c}:{};return o==="insideLeft"?$t({x:s+y,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},x):o==="insideRight"?$t({x:s+u-y,y:l+c/2,textAnchor:_,verticalAnchor:"middle"},x):o==="insideTop"?$t({x:s+u/2,y:l+f,textAnchor:"middle",verticalAnchor:g},x):o==="insideBottom"?$t({x:s+u/2,y:l+c-f,textAnchor:"middle",verticalAnchor:p},x):o==="insideTopLeft"?$t({x:s+y,y:l+f,textAnchor:w,verticalAnchor:g},x):o==="insideTopRight"?$t({x:s+u-y,y:l+f,textAnchor:_,verticalAnchor:g},x):o==="insideBottomLeft"?$t({x:s+y,y:l+c-f,textAnchor:w,verticalAnchor:p},x):o==="insideBottomRight"?$t({x:s+u-y,y:l+c-f,textAnchor:_,verticalAnchor:p},x):sc(o)&&(ne(o.x)||Ya(o.x))&&(ne(o.y)||Ya(o.y))?$t({x:s+Cn(o.x,u),y:l+Cn(o.y,c),textAnchor:"end",verticalAnchor:"end"},x):$t({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},x)},Vme=function(e){return"cx"in e&&ne(e.cx)};function Xt(t){var e=t.offset,n=e===void 0?5:e,r=Ome(t,Eme),i=$t({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,d=c===void 0?"":c,f=i.textBreakAll;if(!o||be(s)&&be(l)&&!$.isValidElement(u)&&!ve(u))return null;if($.isValidElement(u))return $.cloneElement(u,i);var p;if(ve(u)){if(p=$.createElement(u,i),$.isValidElement(p))return p}else p=Dme(i);var g=Vme(o),m=pe(i,!0);if(g&&(a==="insideStart"||a==="insideEnd"||a==="end"))return $me(i,p,m);var y=g?Lme(i):jme(i);return j.createElement(Os,Vh({className:Ee("recharts-label",d)},m,y,{breakAll:f}),p)}Xt.displayName="Label";var B4=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,d=e.x,f=e.y,p=e.top,g=e.left,m=e.width,y=e.height,_=e.clockWise,w=e.labelViewBox;if(w)return w;if(ne(m)&&ne(y)){if(ne(d)&&ne(f))return{x:d,y:f,width:m,height:y};if(ne(p)&&ne(g))return{x:p,y:g,width:m,height:y}}return ne(d)&&ne(f)?{x:d,y:f,width:0,height:0}:ne(n)&&ne(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:_}:e.viewBox?e.viewBox:{}},Fme=function(e,n){return e?e===!0?j.createElement(Xt,{key:"label-implicit",viewBox:n}):Bt(e)?j.createElement(Xt,{key:"label-implicit",viewBox:n,value:e}):$.isValidElement(e)?e.type===Xt?$.cloneElement(e,{key:"label-implicit",viewBox:n}):j.createElement(Xt,{key:"label-implicit",content:e,viewBox:n}):ve(e)?j.createElement(Xt,{key:"label-implicit",content:e,viewBox:n}):sc(e)?j.createElement(Xt,Vh({viewBox:n},e,{key:"label-implicit"})):null:null},Bme=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=B4(e),a=rr(i,Xt).map(function(l,u){return $.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=Fme(e.label,n||o);return[s].concat(Tme(a))};Xt.parseViewBox=B4;Xt.renderCallByParent=Bme;function Ume(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var zme=Ume;const qme=Be(zme);function Fh(t){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}var Wme=["valueAccessor"],Kme=["data","dataKey","clockWise","id","textBreakAll"];function Gme(t){return Yme(t)||Xme(t)||Qme(t)||Hme()}function Hme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qme(t,e){if(t){if(typeof t=="string")return i1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i1(t,e)}}function Xme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yme(t){if(Array.isArray(t))return i1(t)}function i1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gg(){return Gg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gg.apply(this,arguments)}function lR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lR(Object(n),!0).forEach(function(r){Jme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jme(t,e,n){return e=Zme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zme(t){var e=ege(t,"string");return Fh(e)=="symbol"?e:e+""}function ege(t,e){if(Fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cR(t,e){if(t==null)return{};var n=tge(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var nge=function(e){return Array.isArray(e.value)?qme(e.value):e.value};function Vi(t){var e=t.valueAccessor,n=e===void 0?nge:e,r=cR(t,Wme),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=cR(r,Kme);return!i||!i.length?null:j.createElement(Me,{className:"recharts-label-list"},i.map(function(c,d){var f=be(o)?n(c,d):Vt(c&&c.payload,o),p=be(s)?{}:{id:"".concat(s,"-").concat(d)};return j.createElement(Xt,Gg({},pe(c,!0),u,p,{parentViewBox:c.parentViewBox,value:f,textBreakAll:l,viewBox:Xt.parseViewBox(be(a)?c:uR(uR({},c),{},{clockWise:a})),key:"label-".concat(d),index:d}))}))}Vi.displayName="LabelList";function rge(t,e){return t?t===!0?j.createElement(Vi,{key:"labelList-implicit",data:e}):j.isValidElement(t)||ve(t)?j.createElement(Vi,{key:"labelList-implicit",data:e,content:t}):sc(t)?j.createElement(Vi,Gg({data:e},t,{key:"labelList-implicit"})):null:null}function ige(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=rr(r,Vi).map(function(a,s){return $.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=rge(t.label,e);return[o].concat(Gme(i))}Vi.renderCallByParent=ige;function Bh(t){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}function o1(){return o1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o1.apply(this,arguments)}function dR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dR(Object(n),!0).forEach(function(r){oge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oge(t,e,n){return e=age(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function age(t){var e=sge(t,"string");return Bh(e)=="symbol"?e:e+""}function sge(t,e){if(Bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lge=function(e,n){var r=kn(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},zp=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,d=Math.asin(l/c)/Kg,f=u?o:o+a*d,p=Ze(n,r,c,f),g=Ze(n,r,i,f),m=u?o-a*d:o,y=Ze(n,r,c*Math.cos(d*Kg),m);return{center:p,circleTangency:g,lineTangency:y,theta:d}},U4=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=lge(a,s),u=a+l,c=Ze(n,r,o,a),d=Ze(n,r,o,u),f="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var p=Ze(n,r,i,a),g=Ze(n,r,i,u);f+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(n,",").concat(r," Z");return f},uge=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,d=kn(c-u),f=zp({cx:n,cy:r,radius:o,angle:u,sign:d,cornerRadius:a,cornerIsExternal:l}),p=f.circleTangency,g=f.lineTangency,m=f.theta,y=zp({cx:n,cy:r,radius:o,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:l}),_=y.circleTangency,w=y.lineTangency,v=y.theta,A=l?Math.abs(u-c):Math.abs(u-c)-m-v;if(A<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):U4({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var E="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(A>180),",").concat(+(d<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var S=zp({cx:n,cy:r,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),x=S.circleTangency,T=S.lineTangency,P=S.theta,k=zp({cx:n,cy:r,radius:i,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),C=k.circleTangency,D=k.lineTangency,R=k.theta,W=l?Math.abs(u-c):Math.abs(u-c)-P-R;if(W<0&&a===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(W>180),",").concat(+(d>0),",").concat(x.x,",").concat(x.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(T.x,",").concat(T.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},cge={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},z4=function(e){var n=hR(hR({},cge),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,d=n.endAngle,f=n.className;if(a<o||c===d)return null;var p=Ee("recharts-sector",f),g=a-o,m=Cn(s,g,0,!0),y;return m>0&&Math.abs(c-d)<360?y=uge({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(m,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):y=U4({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:d}),j.createElement("path",o1({},pe(n,!0),{className:p,d:y,role:"img"}))};function Uh(t){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uh(t)}function a1(){return a1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a1.apply(this,arguments)}function fR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fR(Object(n),!0).forEach(function(r){dge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dge(t,e,n){return e=hge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hge(t){var e=fge(t,"string");return Uh(e)=="symbol"?e:e+""}function fge(t,e){if(Uh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mR={curveBasisClosed:pte,curveBasisOpen:mte,curveBasis:fte,curveBumpX:Zee,curveBumpY:ete,curveLinearClosed:gte,curveLinear:Ov,curveMonotoneX:yte,curveMonotoneY:vte,curveNatural:_te,curveStep:bte,curveStepAfter:xte,curveStepBefore:wte},qp=function(e){return e.x===+e.x&&e.y===+e.y},td=function(e){return e.x},nd=function(e){return e.y},pge=function(e,n){if(ve(e))return e;var r="curve".concat(Iv(e));return(r==="curveMonotone"||r==="curveBump")&&n?mR["".concat(r).concat(n==="vertical"?"Y":"X")]:mR[r]||Ov},mge=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=pge(r,s),d=u?o.filter(function(m){return qp(m)}):o,f;if(Array.isArray(a)){var p=u?a.filter(function(m){return qp(m)}):a,g=d.map(function(m,y){return pR(pR({},m),{},{base:p[y]})});return s==="vertical"?f=Dp().y(nd).x1(td).x0(function(m){return m.base.x}):f=Dp().x(td).y1(nd).y0(function(m){return m.base.y}),f.defined(qp).curve(c),f(g)}return s==="vertical"&&ne(a)?f=Dp().y(nd).x1(td).x0(a):ne(a)?f=Dp().x(td).y1(nd).y0(a):f=LV().x(td).y(nd),f.defined(qp).curve(c),f(d)},Hg=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?mge(e):i;return $.createElement("path",a1({},pe(e,!1),vg(e),{className:Ee("recharts-curve",n),d:a,ref:o}))},q4={exports:{}},gge="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",yge=gge,vge=yge;function W4(){}function K4(){}K4.resetWarningCache=W4;var _ge=function(){function t(r,i,o,a,s,l){if(l!==vge){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:K4,resetWarningCache:W4};return n.PropTypes=n,n};q4.exports=_ge();var bge=q4.exports;const je=Be(bge);var wge=Object.getOwnPropertyNames,xge=Object.getOwnPropertySymbols,Ege=Object.prototype.hasOwnProperty;function gR(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Wp(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function Tge(t){return t!=null?t[Symbol.toStringTag]:void 0}function yR(t){return wge(t).concat(xge(t))}var Sge=Object.hasOwn||function(t,e){return Ege.call(t,e)};function Ws(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Age="__v",Ige="__o",Pge="_owner",vR=Object.getOwnPropertyDescriptor,_R=Object.keys;function Oge(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function kge(t,e){return Ws(t.getTime(),e.getTime())}function Cge(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Rge(t,e){return t===e}function bR(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),a,s,l=0;(a=o.next())&&!a.done;){for(var u=e.entries(),c=!1,d=0;(s=u.next())&&!s.done;){if(i[d]){d++;continue}var f=a.value,p=s.value;if(n.equals(f[0],p[0],l,d,t,e,n)&&n.equals(f[1],p[1],f[0],p[0],t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1;l++}return!0}var Nge=Ws;function Dge(t,e,n){var r=_R(t),i=r.length;if(_R(e).length!==i)return!1;for(;i-- >0;)if(!G4(t,e,n,r[i]))return!1;return!0}function rd(t,e,n){var r=yR(t),i=r.length;if(yR(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],!G4(t,e,n,o)||(a=vR(t,o),s=vR(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function Mge(t,e){return Ws(t.valueOf(),e.valueOf())}function $ge(t,e){return t.source===e.source&&t.flags===e.flags}function wR(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),a,s;(a=o.next())&&!a.done;){for(var l=e.values(),u=!1,c=0;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function Lge(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function jge(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function G4(t,e,n,r){return(r===Pge||r===Ige||r===Age)&&(t.$$typeof||e.$$typeof)?!0:Sge(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Vge="[object Arguments]",Fge="[object Boolean]",Bge="[object Date]",Uge="[object Error]",zge="[object Map]",qge="[object Number]",Wge="[object Object]",Kge="[object RegExp]",Gge="[object Set]",Hge="[object String]",Qge="[object URL]",Xge=Array.isArray,xR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,ER=Object.assign,Yge=Object.prototype.toString.call.bind(Object.prototype.toString);function Jge(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,a=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,d=t.areTypedArraysEqual,f=t.areUrlsEqual,p=t.unknownTagComparators;return function(m,y,_){if(m===y)return!0;if(m==null||y==null)return!1;var w=typeof m;if(w!==typeof y)return!1;if(w!=="object")return w==="number"?a(m,y,_):w==="function"?i(m,y,_):!1;var v=m.constructor;if(v!==y.constructor)return!1;if(v===Object)return s(m,y,_);if(Xge(m))return e(m,y,_);if(xR!=null&&xR(m))return d(m,y,_);if(v===Date)return n(m,y,_);if(v===RegExp)return u(m,y,_);if(v===Map)return o(m,y,_);if(v===Set)return c(m,y,_);var A=Yge(m);if(A===Bge)return n(m,y,_);if(A===Kge)return u(m,y,_);if(A===zge)return o(m,y,_);if(A===Gge)return c(m,y,_);if(A===Wge)return typeof m.then!="function"&&typeof y.then!="function"&&s(m,y,_);if(A===Qge)return f(m,y,_);if(A===Uge)return r(m,y,_);if(A===Vge)return s(m,y,_);if(A===Fge||A===qge||A===Hge)return l(m,y,_);if(p){var E=p[A];if(!E){var S=Tge(m);S&&(E=p[S])}if(E)return E(m,y,_)}return!1}}function Zge(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?rd:Oge,areDatesEqual:kge,areErrorsEqual:Cge,areFunctionsEqual:Rge,areMapsEqual:r?gR(bR,rd):bR,areNumbersEqual:Nge,areObjectsEqual:r?rd:Dge,arePrimitiveWrappersEqual:Mge,areRegExpsEqual:$ge,areSetsEqual:r?gR(wR,rd):wR,areTypedArraysEqual:r?rd:Lge,areUrlsEqual:jge,unknownTagComparators:void 0};if(n&&(i=ER({},i,n(i))),e){var o=Wp(i.areArraysEqual),a=Wp(i.areMapsEqual),s=Wp(i.areObjectsEqual),l=Wp(i.areSetsEqual);i=ER({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function eye(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function tye(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var c=r(),d=c.cache,f=d===void 0?e?new WeakMap:void 0:d,p=c.meta;return n(l,u,{cache:f,equals:i,meta:p,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,a)}}var nye=Ea();Ea({strict:!0});Ea({circular:!0});Ea({circular:!0,strict:!0});Ea({createInternalComparator:function(){return Ws}});Ea({strict:!0,createInternalComparator:function(){return Ws}});Ea({circular:!0,createInternalComparator:function(){return Ws}});Ea({circular:!0,createInternalComparator:function(){return Ws},strict:!0});function Ea(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=Zge(t),l=Jge(s),u=r?r(l):eye(l);return tye({circular:n,comparator:l,createState:i,equals:u,strict:a})}function rye(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function TR(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):rye(i)};requestAnimationFrame(r)}function s1(t){"@babel/helpers - typeof";return s1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s1(t)}function iye(t){return lye(t)||sye(t)||aye(t)||oye()}function oye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aye(t,e){if(t){if(typeof t=="string")return SR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SR(t,e)}}function SR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lye(t){if(Array.isArray(t))return t}function uye(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=iye(a),l=s[0],u=s.slice(1);if(typeof l=="number"){TR(i.bind(null,u),l);return}i(l),TR(i.bind(null,u));return}s1(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function zh(t){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zh(t)}function AR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AR(Object(n),!0).forEach(function(r){H4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H4(t,e,n){return e=cye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cye(t){var e=dye(t,"string");return zh(e)==="symbol"?e:String(e)}function dye(t,e){if(zh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hye=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},fye=function(e){return e},pye=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},$d=function(e,n){return Object.keys(n).reduce(function(r,i){return IR(IR({},r),{},H4({},i,e(i,n[i])))},{})},PR=function(e,n,r){return e.map(function(i){return"".concat(pye(i)," ").concat(n,"ms ").concat(r)}).join(",")};function mye(t,e){return vye(t)||yye(t,e)||Q4(t,e)||gye()}function gye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function vye(t){if(Array.isArray(t))return t}function _ye(t){return xye(t)||wye(t)||Q4(t)||bye()}function bye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q4(t,e){if(t){if(typeof t=="string")return l1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l1(t,e)}}function wye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xye(t){if(Array.isArray(t))return l1(t)}function l1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Qg=1e-4,X4=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},Y4=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},OR=function(e,n){return function(r){var i=X4(e,n);return Y4(i,r)}},Eye=function(e,n){return function(r){var i=X4(e,n),o=[].concat(_ye(i.map(function(a,s){return a*s}).slice(1)),[0]);return Y4(o,r)}},kR=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),c=mye(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var d=OR(i,a),f=OR(o,s),p=Eye(i,a),g=function(_){return _>1?1:_<0?0:_},m=function(_){for(var w=_>1?1:_,v=w,A=0;A<8;++A){var E=d(v)-w,S=p(v);if(Math.abs(E-w)<Qg||S<Qg)return f(v);v=g(v-E/S)}return f(v)};return m.isStepper=!1,m},Tye=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(c,d,f){var p=-(c-d)*r,g=f*o,m=f+(p-g)*s/1e3,y=f*s/1e3+c;return Math.abs(y-d)<Qg&&Math.abs(m)<Qg?[d,0]:[y,m]};return l.isStepper=!0,l.dt=s,l},Sye=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return kR(i);case"spring":return Tye();default:if(i.split("(")[0]==="cubic-bezier")return kR(i)}return typeof i=="function"?i:null};function qh(t){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qh(t)}function CR(t){return Pye(t)||Iye(t)||J4(t)||Aye()}function Aye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pye(t){if(Array.isArray(t))return c1(t)}function RR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RR(Object(n),!0).forEach(function(r){u1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u1(t,e,n){return e=Oye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oye(t){var e=kye(t,"string");return qh(e)==="symbol"?e:String(e)}function kye(t,e){if(qh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cye(t,e){return Dye(t)||Nye(t,e)||J4(t,e)||Rye()}function Rye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J4(t,e){if(t){if(typeof t=="string")return c1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c1(t,e)}}function c1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Dye(t){if(Array.isArray(t))return t}var Xg=function(e,n,r){return e+(n-e)*r},d1=function(e){var n=e.from,r=e.to;return n!==r},Mye=function t(e,n,r){var i=$d(function(o,a){if(d1(a)){var s=e(a.from,a.to,a.velocity),l=Cye(s,2),u=l[0],c=l[1];return rn(rn({},a),{},{from:u,velocity:c})}return a},n);return r<1?$d(function(o,a){return d1(a)?rn(rn({},a),{},{velocity:Xg(a.velocity,i[o].velocity,r),from:Xg(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const $ye=function(t,e,n,r,i){var o=hye(t,e),a=o.reduce(function(y,_){return rn(rn({},y),{},u1({},_,[t[_],e[_]]))},{}),s=o.reduce(function(y,_){return rn(rn({},y),{},u1({},_,{from:t[_],velocity:0,to:e[_]}))},{}),l=-1,u,c,d=function(){return null},f=function(){return $d(function(_,w){return w.from},s)},p=function(){return!Object.values(s).filter(d1).length},g=function(_){u||(u=_);var w=_-u,v=w/n.dt;s=Mye(n,s,v),i(rn(rn(rn({},t),e),f())),u=_,p()||(l=requestAnimationFrame(d))},m=function(_){c||(c=_);var w=(_-c)/r,v=$d(function(E,S){return Xg.apply(void 0,CR(S).concat([n(w)]))},a);if(i(rn(rn(rn({},t),e),v)),w<1)l=requestAnimationFrame(d);else{var A=$d(function(E,S){return Xg.apply(void 0,CR(S).concat([n(1)]))},a);i(rn(rn(rn({},t),e),A))}};return d=n.isStepper?g:m,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Au(t){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(t)}var Lye=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function jye(t,e){if(t==null)return{};var n=Vye(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vye(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function N_(t){return zye(t)||Uye(t)||Bye(t)||Fye()}function Fye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bye(t,e){if(t){if(typeof t=="string")return h1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h1(t,e)}}function Uye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zye(t){if(Array.isArray(t))return h1(t)}function h1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NR(Object(n),!0).forEach(function(r){md(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function md(t,e,n){return e=Z4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Z4(r.key),r)}}function Wye(t,e,n){return e&&DR(t.prototype,e),n&&DR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Z4(t){var e=Kye(t,"string");return Au(e)==="symbol"?e:String(e)}function Kye(t,e){if(Au(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Au(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f1(t,e)}function f1(t,e){return f1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},f1(t,e)}function Hye(t){var e=Qye();return function(){var r=Yg(t),i;if(e){var o=Yg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return p1(this,i)}}function p1(t,e){if(e&&(Au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m1(t)}function m1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qye(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Yg(t){return Yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yg(t)}var Wv=function(t){Gye(n,t);var e=Hye(n);function n(r,i){var o;qye(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,d=a.steps,f=a.children,p=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(m1(o)),o.changeStyle=o.changeStyle.bind(m1(o)),!s||p<=0)return o.state={style:{}},typeof f=="function"&&(o.state={style:c}),p1(o);if(d&&d.length)o.state={style:d[0].style};else if(u){if(typeof f=="function")return o.state={style:u},p1(o);o.state={style:l?md({},l,u):u}}else o.state={style:{}};return o}return Wye(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,d=o.from,f=this.state.style;if(s){if(!a){var p={style:l?md({},l,c):c};this.state&&f&&(l&&f[l]!==c||!l&&f!==c)&&this.setState(p);return}if(!(nye(i.to,c)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||u?d:i.to;if(this.state&&f){var y={style:l?md({},l,m):m};(l&&f[l]!==m||!l&&f!==m)&&this.setState(y)}this.runAnimation(Ir(Ir({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,d=i.onAnimationEnd,f=i.onAnimationStart,p=$ye(a,s,Sye(u),l,this.changeStyle),g=function(){o.stopJSAnimation=p()};this.manager.start([f,c,g,l,d])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,d=u.duration,f=d===void 0?0:d,p=function(m,y,_){if(_===0)return m;var w=y.duration,v=y.easing,A=v===void 0?"ease":v,E=y.style,S=y.properties,x=y.onAnimationEnd,T=_>0?a[_-1]:y,P=S||Object.keys(E);if(typeof A=="function"||A==="spring")return[].concat(N_(m),[o.runJSAnimation.bind(o,{from:T.style,to:E,duration:w,easing:A}),w]);var k=PR(P,w,A),C=Ir(Ir(Ir({},T.style),E),{},{transition:k});return[].concat(N_(m),[C,w,x]).filter(fye)};return this.manager.start([l].concat(N_(a.reduce(p,[c,Math.max(f,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=uye());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,d=i.onAnimationEnd,f=i.steps,p=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var m=s?md({},s,l):l,y=PR(Object.keys(m),a,u);g.start([c,o,Ir(Ir({},m),{},{transition:y}),a,d])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=jye(i,Lye),u=$.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var d=function(p){var g=p.props,m=g.style,y=m===void 0?{}:m,_=g.className,w=$.cloneElement(p,Ir(Ir({},l),{},{style:Ir(Ir({},y),c),className:_}));return w};return u===1?d($.Children.only(o)):j.createElement("div",null,$.Children.map(o,function(f){return d(f)}))}}]),n}($.PureComponent);Wv.displayName="Animate";Wv.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Wv.propTypes={from:je.oneOfType([je.object,je.string]),to:je.oneOfType([je.object,je.string]),attributeName:je.string,duration:je.number,begin:je.number,easing:je.oneOfType([je.string,je.func]),steps:je.arrayOf(je.shape({duration:je.number.isRequired,style:je.object.isRequired,easing:je.oneOfType([je.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),je.func]),properties:je.arrayOf("string"),onAnimationEnd:je.func})),children:je.oneOfType([je.node,je.func]),isActive:je.bool,canBegin:je.bool,onAnimationEnd:je.func,shouldReAnimate:je.bool,onAnimationStart:je.func,onAnimationReStart:je.func};const Rs=Wv;function Wh(t){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wh(t)}function Jg(){return Jg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jg.apply(this,arguments)}function Xye(t,e){return eve(t)||Zye(t,e)||Jye(t,e)||Yye()}function Yye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jye(t,e){if(t){if(typeof t=="string")return MR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MR(t,e)}}function MR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function eve(t){if(Array.isArray(t))return t}function $R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(n),!0).forEach(function(r){tve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tve(t,e,n){return e=nve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nve(t){var e=rve(t,"string");return Wh(e)=="symbol"?e:e+""}function rve(t,e){if(Wh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jR=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var d=[0,0,0,0],f=0,p=4;f<p;f++)d[f]=o[f]>a?a:o[f];c="M".concat(e,",").concat(n+s*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(n)),c+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*d[1])),c+="L ".concat(e+r,",").concat(n+i-s*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),c+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*d[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var g=Math.min(a,o);c="M ".concat(e,",").concat(n+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*g,`
            L `).concat(e+r,",").concat(n+i-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*g," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},ive=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),d=Math.min(a,a+l),f=Math.max(a,a+l);return r>=u&&r<=c&&i>=d&&i<=f}return!1},ove={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sS=function(e){var n=LR(LR({},ove),e),r=$.useRef(),i=$.useState(-1),o=Xye(i,2),a=o[0],s=o[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&s(A)}catch{}},[]);var l=n.x,u=n.y,c=n.width,d=n.height,f=n.radius,p=n.className,g=n.animationEasing,m=n.animationDuration,y=n.animationBegin,_=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||c===0||d===0)return null;var v=Ee("recharts-rectangle",p);return w?j.createElement(Rs,{canBegin:a>0,from:{width:c,height:d,x:l,y:u},to:{width:c,height:d,x:l,y:u},duration:m,animationEasing:g,isActive:w},function(A){var E=A.width,S=A.height,x=A.x,T=A.y;return j.createElement(Rs,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:m,isActive:_,easing:g},j.createElement("path",Jg({},pe(n,!0),{className:v,d:jR(x,T,E,S,f),ref:r})))}):j.createElement("path",Jg({},pe(n,!0),{className:v,d:jR(l,u,c,d,f)}))},ave=["points","className","baseLinePoints","connectNulls"];function Pl(){return Pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pl.apply(this,arguments)}function sve(t,e){if(t==null)return{};var n=lve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function VR(t){return hve(t)||dve(t)||cve(t)||uve()}function uve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cve(t,e){if(t){if(typeof t=="string")return g1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g1(t,e)}}function dve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hve(t){if(Array.isArray(t))return g1(t)}function g1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var FR=function(e){return e&&e.x===+e.x&&e.y===+e.y},fve=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){FR(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),FR(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Ld=function(e,n){var r=fve(e);n&&(r=[r.reduce(function(o,a){return[].concat(VR(o),VR(a))},[])]);var i=r.map(function(o){return o.reduce(function(a,s,l){return"".concat(a).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},pve=function(e,n,r){var i=Ld(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Ld(n.reverse(),r).slice(1))},mve=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,a=sve(e,ave);if(!n||!n.length)return null;var s=Ee("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",u=pve(n,i,o);return j.createElement("g",{className:s},j.createElement("path",Pl({},pe(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:u})),l?j.createElement("path",Pl({},pe(a,!0),{fill:"none",d:Ld(n,o)})):null,l?j.createElement("path",Pl({},pe(a,!0),{fill:"none",d:Ld(i,o)})):null)}var c=Ld(n,o);return j.createElement("path",Pl({},pe(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",className:s,d:c}))};function y1(){return y1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y1.apply(this,arguments)}var Kv=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=Ee("recharts-dot",o);return n===+n&&r===+r&&i===+i?$.createElement("circle",y1({},pe(e,!1),vg(e),{className:a,cx:n,cy:r,r:i})):null};function Kh(t){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kh(t)}var gve=["x","y","top","left","width","height","className"];function v1(){return v1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v1.apply(this,arguments)}function BR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yve(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(n),!0).forEach(function(r){vve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vve(t,e,n){return e=_ve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ve(t){var e=bve(t,"string");return Kh(e)=="symbol"?e:e+""}function bve(t,e){if(Kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wve(t,e){if(t==null)return{};var n=xve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Eve=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},Tve=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,c=e.width,d=c===void 0?0:c,f=e.height,p=f===void 0?0:f,g=e.className,m=wve(e,gve),y=yve({x:r,y:o,top:s,left:u,width:d,height:p},m);return!ne(r)||!ne(o)||!ne(d)||!ne(p)||!ne(s)||!ne(u)?null:j.createElement("path",v1({},pe(y,!0),{className:Ee("recharts-cross",g),d:Eve(r,o,d,p,s,u)}))},Sve=Fv,Ave=d4,Ive=mi;function Pve(t,e){return t&&t.length?Sve(t,Ive(e),Ave):void 0}var Ove=Pve;const kve=Be(Ove);var Cve=Fv,Rve=mi,Nve=h4;function Dve(t,e){return t&&t.length?Cve(t,Rve(e),Nve):void 0}var Mve=Dve;const $ve=Be(Mve);var Lve=["cx","cy","angle","ticks","axisLine"],jve=["ticks","tick","angle","tickFormatter","stroke"];function Iu(t){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iu(t)}function jd(){return jd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jd.apply(this,arguments)}function UR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ca(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(n),!0).forEach(function(r){Gv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zR(t,e){if(t==null)return{};var n=Vve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Fve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t3(r.key),r)}}function Bve(t,e,n){return e&&qR(t.prototype,e),n&&qR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uve(t,e,n){return e=Zg(e),zve(t,e3()?Reflect.construct(e,n||[],Zg(t).constructor):e.apply(t,n))}function zve(t,e){if(e&&(Iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qve(t)}function qve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e3=function(){return!!t})()}function Zg(t){return Zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zg(t)}function Wve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_1(t,e)}function _1(t,e){return _1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_1(t,e)}function Gv(t,e,n){return e=t3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t3(t){var e=Kve(t,"string");return Iu(e)=="symbol"?e:e+""}function Kve(t,e){if(Iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hv=function(t){function e(){return Fve(this,e),Uve(this,e,arguments)}return Wve(e,t),Bve(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,a=o.angle,s=o.cx,l=o.cy;return Ze(s,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=kve(s,function(c){return c.coordinate||0}),u=$ve(s,function(c){return c.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=r.axisLine,u=zR(r,Lve),c=s.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),d=Ze(i,o,c[0],a),f=Ze(i,o,c[1],a),p=Ca(Ca(Ca({},pe(u,!1)),{},{fill:"none"},pe(l,!1)),{},{x1:d.x,y1:d.y,x2:f.x,y2:f.y});return j.createElement("line",jd({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,c=zR(i,jve),d=this.getTickTextAnchor(),f=pe(c,!1),p=pe(a,!1),g=o.map(function(m,y){var _=r.getTickValueCoord(m),w=Ca(Ca(Ca(Ca({textAnchor:d,transform:"rotate(".concat(90-s,", ").concat(_.x,", ").concat(_.y,")")},f),{},{stroke:"none",fill:u},p),{},{index:y},_),{},{payload:m});return j.createElement(Me,jd({className:Ee("recharts-polar-radius-axis-tick",F4(a)),key:"tick-".concat(m.coordinate)},Ps(r.props,m,y)),e.renderTickItem(a,w,l?l(m.value,y):m.value))});return j.createElement(Me,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,a=r.tick;return!i||!i.length?null:j.createElement(Me,{className:Ee("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),Xt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return j.isValidElement(r)?a=j.cloneElement(r,i):ve(r)?a=r(i):a=j.createElement(Os,jd({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])}($.PureComponent);Gv(Hv,"displayName","PolarRadiusAxis");Gv(Hv,"axisType","radiusAxis");Gv(Hv,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Pu(t){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pu(t)}function Wa(){return Wa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wa.apply(this,arguments)}function WR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ra(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WR(Object(n),!0).forEach(function(r){Qv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r3(r.key),r)}}function Hve(t,e,n){return e&&KR(t.prototype,e),n&&KR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qve(t,e,n){return e=ey(e),Xve(t,n3()?Reflect.construct(e,n||[],ey(t).constructor):e.apply(t,n))}function Xve(t,e){if(e&&(Pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yve(t)}function Yve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n3=function(){return!!t})()}function ey(t){return ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ey(t)}function Jve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b1(t,e)}function b1(t,e){return b1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},b1(t,e)}function Qv(t,e,n){return e=r3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r3(t){var e=Zve(t,"string");return Pu(e)=="symbol"?e:e+""}function Zve(t,e){if(Pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var e0e=Math.PI/180,GR=1e-5,Xv=function(t){function e(){return Gve(this,e),Qve(this,e,arguments)}return Jve(e,t),Hve(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,a=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,c=u||8,d=Ze(o,a,s,r.coordinate),f=Ze(o,a,s+(l==="inner"?-1:1)*c,r.coordinate);return{x1:d.x,y1:d.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*e0e),a;return o>GR?a=i==="outer"?"start":"end":o<-GR?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.radius,s=r.axisLine,l=r.axisLineType,u=Ra(Ra({},pe(this.props,!1)),{},{fill:"none"},pe(s,!1));if(l==="circle")return j.createElement(Kv,Wa({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:o,r:a}));var c=this.props.ticks,d=c.map(function(f){return Ze(i,o,a,f.coordinate)});return j.createElement(mve,Wa({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,c=pe(this.props,!1),d=pe(a,!1),f=Ra(Ra({},c),{},{fill:"none"},pe(s,!1)),p=o.map(function(g,m){var y=r.getTickLineCoord(g),_=r.getTickTextAnchor(g),w=Ra(Ra(Ra({textAnchor:_},c),{},{stroke:"none",fill:u},d),{},{index:m,payload:g,x:y.x2,y:y.y2});return j.createElement(Me,Wa({className:Ee("recharts-polar-angle-axis-tick",F4(a)),key:"tick-".concat(g.coordinate)},Ps(r.props,g,m)),s&&j.createElement("line",Wa({className:"recharts-polar-angle-axis-tick-line"},f,y)),a&&e.renderTickItem(a,w,l?l(g.value,m):g.value))});return j.createElement(Me,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,a=r.axisLine;return o<=0||!i||!i.length?null:j.createElement(Me,{className:Ee("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var a;return j.isValidElement(r)?a=j.cloneElement(r,i):ve(r)?a=r(i):a=j.createElement(Os,Wa({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])}($.PureComponent);Qv(Xv,"displayName","PolarAngleAxis");Qv(Xv,"axisType","angleAxis");Qv(Xv,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var t0e=sF,n0e=t0e(Object.getPrototypeOf,Object),r0e=n0e,i0e=ro,o0e=r0e,a0e=io,s0e="[object Object]",l0e=Function.prototype,u0e=Object.prototype,i3=l0e.toString,c0e=u0e.hasOwnProperty,d0e=i3.call(Object);function h0e(t){if(!a0e(t)||i0e(t)!=s0e)return!1;var e=o0e(t);if(e===null)return!0;var n=c0e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&i3.call(n)==d0e}var f0e=h0e;const p0e=Be(f0e);var m0e=ro,g0e=io,y0e="[object Boolean]";function v0e(t){return t===!0||t===!1||g0e(t)&&m0e(t)==y0e}var _0e=v0e;const b0e=Be(_0e);function Gh(t){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gh(t)}function ty(){return ty=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ty.apply(this,arguments)}function w0e(t,e){return S0e(t)||T0e(t,e)||E0e(t,e)||x0e()}function x0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E0e(t,e){if(t){if(typeof t=="string")return HR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HR(t,e)}}function HR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function T0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function S0e(t){if(Array.isArray(t))return t}function QR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QR(Object(n),!0).forEach(function(r){A0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A0e(t,e,n){return e=I0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I0e(t){var e=P0e(t,"string");return Gh(e)=="symbol"?e:e+""}function P0e(t,e){if(Gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YR=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},O0e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},k0e=function(e){var n=XR(XR({},O0e),e),r=$.useRef(),i=$.useState(-1),o=w0e(i,2),a=o[0],s=o[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var v=r.current.getTotalLength();v&&s(v)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,d=n.lowerWidth,f=n.height,p=n.className,g=n.animationEasing,m=n.animationDuration,y=n.animationBegin,_=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||f!==+f||c===0&&d===0||f===0)return null;var w=Ee("recharts-trapezoid",p);return _?j.createElement(Rs,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:f,x:l,y:u},to:{upperWidth:c,lowerWidth:d,height:f,x:l,y:u},duration:m,animationEasing:g,isActive:_},function(v){var A=v.upperWidth,E=v.lowerWidth,S=v.height,x=v.x,T=v.y;return j.createElement(Rs,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:m,easing:g},j.createElement("path",ty({},pe(n,!0),{className:w,d:YR(x,T,A,E,S),ref:r})))}):j.createElement("g",null,j.createElement("path",ty({},pe(n,!0),{className:w,d:YR(l,u,c,d,f)})))},C0e=["option","shapeType","propTransformer","activeClassName","isActive"];function Hh(t){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hh(t)}function R0e(t,e){if(t==null)return{};var n=N0e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function N0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function JR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ny(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JR(Object(n),!0).forEach(function(r){D0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D0e(t,e,n){return e=M0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M0e(t){var e=$0e(t,"string");return Hh(e)=="symbol"?e:e+""}function $0e(t,e){if(Hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L0e(t,e){return ny(ny({},e),t)}function j0e(t,e){return t==="symbols"}function ZR(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return j.createElement(sS,n);case"trapezoid":return j.createElement(k0e,n);case"sector":return j.createElement(z4,n);case"symbols":if(j0e(e))return j.createElement(AT,n);break;default:return null}}function V0e(t){return $.isValidElement(t)?t.props:t}function o3(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?L0e:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=R0e(t,C0e),u;if($.isValidElement(e))u=$.cloneElement(e,ny(ny({},l),V0e(e)));else if(ve(e))u=e(l);else if(p0e(e)&&!b0e(e)){var c=i(e,l);u=j.createElement(ZR,{shapeType:n,elementProps:c})}else{var d=l;u=j.createElement(ZR,{shapeType:n,elementProps:d})}return s?j.createElement(Me,{className:a},u):u}function Yv(t,e){return e!=null&&"trapezoids"in t.props}function Jv(t,e){return e!=null&&"sectors"in t.props}function Qh(t,e){return e!=null&&"points"in t.props}function F0e(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function B0e(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function U0e(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function z0e(t,e){var n;return Yv(t,e)?n=F0e:Jv(t,e)?n=B0e:Qh(t,e)&&(n=U0e),n}function q0e(t,e){var n;return Yv(t,e)?n="trapezoids":Jv(t,e)?n="sectors":Qh(t,e)&&(n="points"),n}function W0e(t,e){if(Yv(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Jv(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Qh(t,e)?e.payload:{}}function K0e(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=q0e(n,e),o=W0e(n,e),a=r.filter(function(l,u){var c=jf(o,l),d=n.props[i].filter(function(g){var m=z0e(n,e);return m(g,e)}),f=n.props[i].indexOf(d[d.length-1]),p=u===f;return c&&p}),s=r.indexOf(a[a.length-1]);return s}var bm;function Ou(t){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ou(t)}function Ol(){return Ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ol.apply(this,arguments)}function eN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eN(Object(n),!0).forEach(function(r){pr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s3(r.key),r)}}function H0e(t,e,n){return e&&tN(t.prototype,e),n&&tN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Q0e(t,e,n){return e=ry(e),X0e(t,a3()?Reflect.construct(e,n||[],ry(t).constructor):e.apply(t,n))}function X0e(t,e){if(e&&(Ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y0e(t)}function Y0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a3=function(){return!!t})()}function ry(t){return ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ry(t)}function J0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w1(t,e)}function w1(t,e){return w1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},w1(t,e)}function pr(t,e,n){return e=s3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s3(t){var e=Z0e(t,"string");return Ou(e)=="symbol"?e:e+""}function Z0e(t,e){if(Ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fr=function(t){function e(n){var r;return G0e(this,e),r=Q0e(this,e,[n]),pr(r,"pieRef",null),pr(r,"sectorRefs",[]),pr(r,"id",dc("recharts-pie-")),pr(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ve(i)&&i()}),pr(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ve(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return J0e(e,t),H0e(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,s=o.labelLine,l=o.dataKey,u=o.valueKey,c=pe(this.props,!1),d=pe(a,!1),f=pe(s,!1),p=a&&a.offsetRadius||20,g=r.map(function(m,y){var _=(m.startAngle+m.endAngle)/2,w=Ze(m.cx,m.cy,m.outerRadius+p,_),v=Xe(Xe(Xe(Xe({},c),m),{},{stroke:"none"},d),{},{index:y,textAnchor:e.getTextAnchor(w.x,m.cx)},w),A=Xe(Xe(Xe(Xe({},c),m),{},{fill:"none",stroke:m.fill},f),{},{index:y,points:[Ze(m.cx,m.cy,m.outerRadius,_),w]}),E=l;return be(l)&&be(u)?E="value":be(l)&&(E=u),j.createElement(Me,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(y)},s&&e.renderLabelLineItem(s,A,"line"),e.renderLabelItem(a,v,Vt(m,E)))});return j.createElement(Me,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,a=o.activeShape,s=o.blendStroke,l=o.inactiveShape;return r.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var d=i.isActiveIndex(c),f=l&&i.hasActiveIndex()?l:null,p=d?a:f,g=Xe(Xe({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return j.createElement(Me,Ol({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},Ps(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),j.createElement(o3,Ol({option:p,isActive:d,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,d=this.state,f=d.prevSectors,p=d.prevIsAnimationActive;return j.createElement(Rs,{begin:s,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,y=[],_=o&&o[0],w=_.startAngle;return o.forEach(function(v,A){var E=f&&f[A],S=A>0?nr(v,"paddingAngle",0):0;if(E){var x=Yn(E.endAngle-E.startAngle,v.endAngle-v.startAngle),T=Xe(Xe({},v),{},{startAngle:w+S,endAngle:w+x(m)+S});y.push(T),w=T.endAngle}else{var P=v.endAngle,k=v.startAngle,C=Yn(0,P-k),D=C(m),R=Xe(Xe({},v),{},{startAngle:w+S,endAngle:w+D+S});y.push(R),w=R.endAngle}}),j.createElement(Me,null,r.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,a=this.state.prevSectors;return o&&i&&i.length&&(!a||!jf(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,a=i.sectors,s=i.className,l=i.label,u=i.cx,c=i.cy,d=i.innerRadius,f=i.outerRadius,p=i.isAnimationActive,g=this.state.isAnimationFinished;if(o||!a||!a.length||!ne(u)||!ne(c)||!ne(d)||!ne(f))return null;var m=Ee("recharts-pie",s);return j.createElement(Me,{tabIndex:this.props.rootTabIndex,className:m,ref:function(_){r.pieRef=_}},this.renderSectors(),l&&this.renderLabels(a),Xt.renderCallByParent(this.props,null,!1),(!p||g)&&Vi.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(j.isValidElement(r))return j.cloneElement(r,i);if(ve(r))return r(i);var a=Ee("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return j.createElement(Hg,Ol({},i,{key:o,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,o){if(j.isValidElement(r))return j.cloneElement(r,i);var a=o;if(ve(r)&&(a=r(i),j.isValidElement(a)))return a;var s=Ee("recharts-pie-label-text",typeof r!="boolean"&&!ve(r)?r.className:"");return j.createElement(Os,Ol({},i,{alignmentBaseline:"middle",className:s}),a)}}])}($.PureComponent);bm=Fr;pr(Fr,"displayName","Pie");pr(Fr,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!si.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});pr(Fr,"parseDeltaAngle",function(t,e){var n=kn(e-t),r=Math.min(Math.abs(e-t),360);return n*r});pr(Fr,"getRealPieData",function(t){var e=t.data,n=t.children,r=pe(t,!1),i=rr(n,mc);return e&&e.length?e.map(function(o,a){return Xe(Xe(Xe({payload:o},r),o),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(o){return Xe(Xe({},r),o.props)}):[]});pr(Fr,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,a=V4(i,o),s=r+Cn(t.cx,i,i/2),l=n+Cn(t.cy,o,o/2),u=Cn(t.innerRadius,a,0),c=Cn(t.outerRadius,a,a*.8),d=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:c,maxRadius:d}});pr(Fr,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Xe(Xe({},e.type.defaultProps),e.props):e.props,i=bm.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,a=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,d=r.valueKey,f=r.tooltipType,p=Math.abs(r.minAngle),g=bm.parseCoordinateOfPie(r,n),m=bm.parseDeltaAngle(a,s),y=Math.abs(m),_=u;be(u)&&be(d)?($r(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_="value"):be(u)&&($r(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_=d);var w=i.filter(function(T){return Vt(T,_,0)!==0}).length,v=(y>=360?w:w-1)*l,A=y-w*p-v,E=i.reduce(function(T,P){var k=Vt(P,_,0);return T+(ne(k)?k:0)},0),S;if(E>0){var x;S=i.map(function(T,P){var k=Vt(T,_,0),C=Vt(T,c,P),D=(ne(k)?k:0)/E,R;P?R=x.endAngle+kn(m)*l*(k!==0?1:0):R=a;var W=R+kn(m)*((k!==0?p:0)+D*A),q=(R+W)/2,G=(g.innerRadius+g.outerRadius)/2,H=[{name:C,value:k,payload:T,dataKey:_,type:f}],L=Ze(g.cx,g.cy,G,q);return x=Xe(Xe(Xe({percent:D,cornerRadius:o,name:C,tooltipPayload:H,midAngle:q,middleRadius:G,tooltipPosition:L},T),g),{},{value:Vt(T,_),startAngle:R,endAngle:W,payload:T,paddingAngle:kn(m)*l}),x})}return Xe(Xe({},g),{},{sectors:S,data:i})});var e_e=Math.ceil,t_e=Math.max;function n_e(t,e,n,r){for(var i=-1,o=t_e(e_e((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var r_e=n_e,i_e=AF,nN=1/0,o_e=17976931348623157e292;function a_e(t){if(!t)return t===0?t:0;if(t=i_e(t),t===nN||t===-nN){var e=t<0?-1:1;return e*o_e}return t===t?t:0}var l3=a_e,s_e=r_e,l_e=Nv,D_=l3;function u_e(t){return function(e,n,r){return r&&typeof r!="number"&&l_e(e,n,r)&&(n=r=void 0),e=D_(e),n===void 0?(n=e,e=0):n=D_(n),r=r===void 0?e<n?1:-1:D_(r),s_e(e,n,r,t)}}var c_e=u_e,d_e=c_e,h_e=d_e(),f_e=h_e;const iy=Be(f_e);function Xh(t){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(t)}function rN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rN(Object(n),!0).forEach(function(r){u3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u3(t,e,n){return e=p_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p_e(t){var e=m_e(t,"string");return Xh(e)=="symbol"?e:e+""}function m_e(t,e){if(Xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var g_e=["Webkit","Moz","O","ms"],y_e=function(e,n){if(!e)return null;var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=g_e.reduce(function(o,a){return iN(iN({},o),{},u3({},a+r,n))},{});return i[e]=n,i};function ku(t){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(t)}function oy(){return oy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oy.apply(this,arguments)}function oN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oN(Object(n),!0).forEach(function(r){Hn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d3(r.key),r)}}function __e(t,e,n){return e&&aN(t.prototype,e),n&&aN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function b_e(t,e,n){return e=ay(e),w_e(t,c3()?Reflect.construct(e,n||[],ay(t).constructor):e.apply(t,n))}function w_e(t,e){if(e&&(ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x_e(t)}function x_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c3=function(){return!!t})()}function ay(t){return ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ay(t)}function E_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x1(t,e)}function x1(t,e){return x1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},x1(t,e)}function Hn(t,e,n){return e=d3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d3(t){var e=T_e(t,"string");return ku(e)=="symbol"?e:e+""}function T_e(t,e){if(ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var S_e=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Dd().domain(iy(0,l)).range([o,o+a-s]),c=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},sN=function(e){return e.changedTouches&&!!e.changedTouches.length},Cu=function(t){function e(n){var r;return v_e(this,e),r=b_e(this,e,[n]),Hn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Hn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Hn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),Hn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Hn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Hn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Hn(r,"handleSlideDragStart",function(i){var o=sN(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return E_e(e,t),__e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,d=Math.min(i,o),f=Math.max(i,o),p=e.getIndexInRange(a,d),g=e.getIndexInRange(a,f);return{startIndex:p-p%l,endIndex:g===c?c:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=Vt(o[r],s,r);return ve(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,d=l.travellerWidth,f=l.startIndex,p=l.endIndex,g=l.onChange,m=r.pageX-o;m>0?m=Math.min(m,u+c-d-s,u+c-d-a):m<0&&(m=Math.max(m,u-a,u-s));var y=this.getIndex({startX:a+m,endX:s+m});(y.startIndex!==f||y.endIndex!==p)&&g&&g(y),this.setState({startX:a+m,endX:s+m,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=sN(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,d=c.x,f=c.width,p=c.travellerWidth,g=c.onChange,m=c.gap,y=c.data,_={startX:this.state.startX,endX:this.state.endX},w=r.pageX-o;w>0?w=Math.min(w,d+f-p-u):w<0&&(w=Math.max(w,d-u)),_[a]=u+w;var v=this.getIndex(_),A=v.startIndex,E=v.endIndex,S=function(){var T=y.length-1;return a==="startX"&&(s>l?A%m===0:E%m===0)||s<l&&E===T||a==="endX"&&(s>l?E%m===0:A%m===0)||s>l&&E===T};this.setState(Hn(Hn({},a,u+w),"brushMoveStartX",r.pageX),function(){g&&S()&&g(v)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],d=s.indexOf(c);if(d!==-1){var f=d+r;if(!(f===-1||f>=s.length)){var p=s[f];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(Hn({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return j.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,d=$.Children.only(u);return d?j.cloneElement(d,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,d=l.height,f=l.traveller,p=l.ariaLabel,g=l.data,m=l.startIndex,y=l.endIndex,_=Math.max(r,this.props.x),w=M_(M_({},pe(this.props,!1)),{},{x:_,y:u,width:c,height:d}),v=p||"Min value: ".concat((o=g[m])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=g[y])===null||a===void 0?void 0:a.name);return j.createElement(Me,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),s.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,w))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,d=Math.max(Math.abs(i-r)-u,0);return j.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:d,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,d=c.startX,f=c.endX,p=5,g={pointerEvents:"none",fill:u};return j.createElement(Me,{className:"recharts-brush-texts"},j.createElement(Os,oy({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,f)-p,y:a+s/2},g),this.getTextOfTick(i)),j.createElement(Os,oy({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,f)+l+p,y:a+s/2},g),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,c=r.height,d=r.alwaysShowText,f=this.state,p=f.startX,g=f.endX,m=f.isTextActive,y=f.isSlideMoving,_=f.isTravellerMoving,w=f.isTravellerFocused;if(!i||!i.length||!ne(s)||!ne(l)||!ne(u)||!ne(c)||u<=0||c<=0)return null;var v=Ee("recharts-brush",o),A=j.Children.count(a)===1,E=y_e("userSelect","none");return j.createElement(Me,{className:v,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||y||_||w||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return j.createElement(j.Fragment,null,j.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),j.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),j.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return j.isValidElement(r)?o=j.cloneElement(r,i):ve(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,d=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return M_({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?S_e({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var f=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}($.PureComponent);Hn(Cu,"displayName","Brush");Hn(Cu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var A_e=NT;function I_e(t,e){var n;return A_e(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var P_e=I_e,O_e=ZV,k_e=mi,C_e=P_e,R_e=Wn,N_e=Nv;function D_e(t,e,n){var r=R_e(t)?O_e:C_e;return n&&N_e(t,e,n)&&(e=void 0),r(t,k_e(e))}var M_e=D_e;const $_e=Be(M_e);var ui=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},lN=wF;function L_e(t,e,n){e=="__proto__"&&lN?lN(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var j_e=L_e,V_e=j_e,F_e=_F,B_e=mi;function U_e(t,e){var n={};return e=B_e(e),F_e(t,function(r,i,o){V_e(n,i,e(r,i,o))}),n}var z_e=U_e;const q_e=Be(z_e);function W_e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var K_e=W_e,G_e=NT;function H_e(t,e){var n=!0;return G_e(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var Q_e=H_e,X_e=K_e,Y_e=Q_e,J_e=mi,Z_e=Wn,ebe=Nv;function tbe(t,e,n){var r=Z_e(t)?X_e:Y_e;return n&&ebe(t,e,n)&&(e=void 0),r(t,J_e(e))}var nbe=tbe;const h3=Be(nbe);var rbe=["x","y"];function Yh(t){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yh(t)}function E1(){return E1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E1.apply(this,arguments)}function uN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function id(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uN(Object(n),!0).forEach(function(r){ibe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ibe(t,e,n){return e=obe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function obe(t){var e=abe(t,"string");return Yh(e)=="symbol"?e:e+""}function abe(t,e){if(Yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sbe(t,e){if(t==null)return{};var n=lbe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ube(t,e){var n=t.x,r=t.y,i=sbe(t,rbe),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),d="".concat(e.width||i.width),f=parseInt(d,10);return id(id(id(id(id({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:f,name:e.name,radius:e.radius})}function cN(t){return j.createElement(o3,E1({shapeType:"rectangle",propTransformer:ube,activeClassName:"recharts-active-bar"},t))}var cbe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=ne(r)||jZ(r);return o?e(r,i):(o||Cs(!1),n)}},dbe=["value","background"],f3;function Ru(t){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ru(t)}function hbe(t,e){if(t==null)return{};var n=fbe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sy(){return sy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sy.apply(this,arguments)}function dN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dN(Object(n),!0).forEach(function(r){No(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m3(r.key),r)}}function mbe(t,e,n){return e&&hN(t.prototype,e),n&&hN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gbe(t,e,n){return e=ly(e),ybe(t,p3()?Reflect.construct(e,n||[],ly(t).constructor):e.apply(t,n))}function ybe(t,e){if(e&&(Ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vbe(t)}function vbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p3=function(){return!!t})()}function ly(t){return ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ly(t)}function _be(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T1(t,e)}function T1(t,e){return T1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},T1(t,e)}function No(t,e,n){return e=m3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m3(t){var e=bbe(t,"string");return Ru(e)=="symbol"?e:e+""}function bbe(t,e){if(Ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ci=function(t){function e(){var n;pbe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=gbe(this,e,[].concat(i)),No(n,"state",{isAnimationFinished:!1}),No(n,"id",dc("recharts-bar-")),No(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),No(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return _be(e,t),mbe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=pe(this.props,!1);return r&&r.map(function(d,f){var p=f===l,g=p?u:a,m=Rt(Rt(Rt({},c),d),{},{isActive:p,option:g,index:f,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return j.createElement(Me,sy({className:"recharts-bar-rectangle"},Ps(i.props,d,f),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(f)}),j.createElement(cN,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,d=i.animationId,f=this.state.prevData;return j.createElement(Rs,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=o.map(function(y,_){var w=f&&f[_];if(w){var v=Yn(w.x,y.x),A=Yn(w.y,y.y),E=Yn(w.width,y.width),S=Yn(w.height,y.height);return Rt(Rt({},y),{},{x:v(g),y:A(g),width:E(g),height:S(g)})}if(a==="horizontal"){var x=Yn(0,y.height),T=x(g);return Rt(Rt({},y),{},{y:y.y+y.height-T,height:T})}var P=Yn(0,y.width),k=P(g);return Rt(Rt({},y),{},{width:k})});return j.createElement(Me,null,r.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!jf(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=pe(this.props.background,!1);return o.map(function(u,c){u.value;var d=u.background,f=hbe(u,dbe);if(!d)return null;var p=Rt(Rt(Rt(Rt(Rt({},f),{},{fill:"#eee"},d),l),Ps(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return j.createElement(cN,sy({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,d=rr(c,Vf);if(!d)return null;var f=u==="vertical"?a[0].height/2:a[0].width/2,p=function(y,_){var w=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:w,errorVal:Vt(y,_)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return j.createElement(Me,g,d.map(function(m){return j.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:f,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,d=r.width,f=r.height,p=r.isAnimationActive,g=r.background,m=r.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,_=Ee("recharts-bar",a),w=s&&s.allowDataOverflow,v=l&&l.allowDataOverflow,A=w||v,E=be(m)?this.id:m;return j.createElement(Me,{className:_},w||v?j.createElement("defs",null,j.createElement("clipPath",{id:"clipPath-".concat(E)},j.createElement("rect",{x:w?u:u-d/2,y:v?c:c-f/2,width:w?d:d*2,height:v?f:f*2}))):null,j.createElement(Me,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(E,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,E),(!p||y)&&Vi.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}($.PureComponent);f3=ci;No(ci,"displayName","Bar");No(ci,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!si.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});No(ci,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,f=t.offset,p=eme(r,n);if(!p)return null;var g=e.layout,m=n.type.defaultProps,y=m!==void 0?Rt(Rt({},m),n.props):n.props,_=y.dataKey,w=y.children,v=y.minPointSize,A=g==="horizontal"?a:o,E=u?A.scale.domain():null,S=sme({numericAxis:A}),x=rr(w,mc),T=d.map(function(P,k){var C,D,R,W,q,G;u?C=tme(u[c+k],E):(C=Vt(P,_),Array.isArray(C)||(C=[S,C]));var H=cbe(v,f3.defaultProps.minPointSize)(C[1],k);if(g==="horizontal"){var L,B=[a.scale(C[0]),a.scale(C[1])],Q=B[0],ie=B[1];D=eR({axis:o,ticks:s,bandSize:i,offset:p.offset,entry:P,index:k}),R=(L=ie??Q)!==null&&L!==void 0?L:void 0,W=p.size;var J=Q-ie;if(q=Number.isNaN(J)?0:J,G={x:D,y:a.y,width:W,height:a.height},Math.abs(H)>0&&Math.abs(q)<Math.abs(H)){var te=kn(q||H)*(Math.abs(H)-Math.abs(q));R-=te,q+=te}}else{var Te=[o.scale(C[0]),o.scale(C[1])],Ce=Te[0],ze=Te[1];if(D=Ce,R=eR({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:P,index:k}),W=ze-Ce,q=p.size,G={x:o.x,y:R,width:o.width,height:q},Math.abs(H)>0&&Math.abs(W)<Math.abs(H)){var vt=kn(W||H)*(Math.abs(H)-Math.abs(W));W+=vt}}return Rt(Rt(Rt({},P),{},{x:D,y:R,width:W,height:q,value:u?C:C[1],payload:P,background:G},x&&x[k]&&x[k].props),{},{tooltipPayload:[L4(n,P)],tooltipPosition:{x:D+W/2,y:R+q/2}})});return Rt({data:T,layout:g},f)});function Jh(t){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jh(t)}function wbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g3(r.key),r)}}function xbe(t,e,n){return e&&fN(t.prototype,e),n&&fN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pN(Object(n),!0).forEach(function(r){Zv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zv(t,e,n){return e=g3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g3(t){var e=Ebe(t,"string");return Jh(e)=="symbol"?e:e+""}function Ebe(t,e){if(Jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y3=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),d={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},f=!!Xn(u,ci);return c.reduce(function(p,g){var m=n[g],y=m.orientation,_=m.domain,w=m.padding,v=w===void 0?{}:w,A=m.mirror,E=m.reversed,S="".concat(y).concat(A?"Mirror":""),x,T,P,k,C;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var D=_[1]-_[0],R=1/0,W=m.categoricalDomain.sort(BZ);if(W.forEach(function(Te,Ce){Ce>0&&(R=Math.min((Te||0)-(W[Ce-1]||0),R))}),Number.isFinite(R)){var q=R/D,G=m.layout==="vertical"?r.height:r.width;if(m.padding==="gap"&&(x=q*G/2),m.padding==="no-gap"){var H=Cn(e.barCategoryGap,q*G),L=q*G/2;x=L-H-(L-H)/G*H}}}i==="xAxis"?T=[r.left+(v.left||0)+(x||0),r.left+r.width-(v.right||0)-(x||0)]:i==="yAxis"?T=l==="horizontal"?[r.top+r.height-(v.bottom||0),r.top+(v.top||0)]:[r.top+(v.top||0)+(x||0),r.top+r.height-(v.bottom||0)-(x||0)]:T=m.range,E&&(T=[T[1],T[0]]);var B=N4(m,o,f),Q=B.scale,ie=B.realScaleType;Q.domain(_).range(T),D4(Q);var J=M4(Q,kr(kr({},m),{},{realScaleType:ie}));i==="xAxis"?(C=y==="top"&&!A||y==="bottom"&&A,P=r.left,k=d[S]-C*m.height):i==="yAxis"&&(C=y==="left"&&!A||y==="right"&&A,P=d[S]-C*m.width,k=r.top);var te=kr(kr(kr({},m),J),{},{realScaleType:ie,x:P,y:k,scale:Q,width:i==="xAxis"?r.width:m.width,height:i==="yAxis"?r.height:m.height});return te.bandSize=Wg(te,J),!m.hide&&i==="xAxis"?d[S]+=(C?-1:1)*te.height:m.hide||(d[S]+=(C?-1:1)*te.width),kr(kr({},p),{},Zv({},g,te))},{})},v3=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},Tbe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return v3({x:n,y:r},{x:i,y:o})},_3=function(){function t(e){wbe(this,t),this.scale=e}return xbe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Zv(_3,"EPS",1e-4);var lS=function(e){var n=Object.keys(e).reduce(function(r,i){return kr(kr({},r),{},Zv({},i,_3.create(e[i])))},{});return kr(kr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return q_e(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return h3(i,function(o,a){return n[a].isInRange(o)})}})};function Sbe(t){return(t%180+180)%180}var Abe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Sbe(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Ibe=mi,Pbe=Nf,Obe=Cv;function kbe(t){return function(e,n,r){var i=Object(e);if(!Pbe(e)){var o=Ibe(n);e=Obe(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var Cbe=kbe,Rbe=l3;function Nbe(t){var e=Rbe(t),n=e%1;return e===e?n?e-n:e:0}var Dbe=Nbe,Mbe=fF,$be=mi,Lbe=Dbe,jbe=Math.max;function Vbe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Lbe(n);return i<0&&(i=jbe(r+i,0)),Mbe(t,$be(e),i)}var Fbe=Vbe,Bbe=Cbe,Ube=Fbe,zbe=Bbe(Ube),qbe=zbe;const Wbe=Be(qbe);var Kbe=UJ(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),uS=$.createContext(void 0),cS=$.createContext(void 0),b3=$.createContext(void 0),w3=$.createContext({}),x3=$.createContext(void 0),E3=$.createContext(0),T3=$.createContext(0),mN=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,c=Kbe(o);return j.createElement(uS.Provider,{value:r},j.createElement(cS.Provider,{value:i},j.createElement(w3.Provider,{value:o},j.createElement(b3.Provider,{value:c},j.createElement(x3.Provider,{value:a},j.createElement(E3.Provider,{value:u},j.createElement(T3.Provider,{value:l},s)))))))},Gbe=function(){return $.useContext(x3)},S3=function(e){var n=$.useContext(uS);n==null&&Cs(!1);var r=n[e];return r==null&&Cs(!1),r},Hbe=function(){var e=$.useContext(uS);return Po(e)},Qbe=function(){var e=$.useContext(cS),n=Wbe(e,function(r){return h3(r.domain,Number.isFinite)});return n||Po(e)},A3=function(e){var n=$.useContext(cS);n==null&&Cs(!1);var r=n[e];return r==null&&Cs(!1),r},Xbe=function(){var e=$.useContext(b3);return e},Ybe=function(){return $.useContext(w3)},dS=function(){return $.useContext(T3)},hS=function(){return $.useContext(E3)};function Nu(t){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(t)}function Jbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P3(r.key),r)}}function Zbe(t,e,n){return e&&gN(t.prototype,e),n&&gN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ewe(t,e,n){return e=uy(e),twe(t,I3()?Reflect.construct(e,n||[],uy(t).constructor):e.apply(t,n))}function twe(t,e){if(e&&(Nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nwe(t)}function nwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I3=function(){return!!t})()}function uy(t){return uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uy(t)}function rwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S1(t,e)}function S1(t,e){return S1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},S1(t,e)}function yN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yN(Object(n),!0).forEach(function(r){fS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fS(t,e,n){return e=P3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P3(t){var e=iwe(t,"string");return Nu(e)=="symbol"?e:e+""}function iwe(t,e){if(Nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function owe(t,e){return uwe(t)||lwe(t,e)||swe(t,e)||awe()}function awe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function swe(t,e){if(t){if(typeof t=="string")return _N(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _N(t,e)}}function _N(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function uwe(t){if(Array.isArray(t))return t}function A1(){return A1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A1.apply(this,arguments)}var cwe=function(e,n){var r;return j.isValidElement(e)?r=j.cloneElement(e,n):ve(e)?r=e(n):r=j.createElement("line",A1({},n,{className:"recharts-reference-line-line"})),r},dwe=function(e,n,r,i,o,a,s,l,u){var c=o.x,d=o.y,f=o.width,p=o.height;if(r){var g=u.y,m=e.y.apply(g,{position:a});if(ui(u,"discard")&&!e.y.isInRange(m))return null;var y=[{x:c+f,y:m},{x:c,y:m}];return l==="left"?y.reverse():y}if(n){var _=u.x,w=e.x.apply(_,{position:a});if(ui(u,"discard")&&!e.x.isInRange(w))return null;var v=[{x:w,y:d+p},{x:w,y:d}];return s==="top"?v.reverse():v}if(i){var A=u.segment,E=A.map(function(S){return e.apply(S,{position:a})});return ui(u,"discard")&&$_e(E,function(S){return!e.isInRange(S)})?null:E}return null};function hwe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=Gbe(),c=S3(i),d=A3(o),f=Xbe();if(!u||!f)return null;$r(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=lS({x:c.scale,y:d.scale}),g=Bt(e),m=Bt(n),y=r&&r.length===2,_=dwe(p,g,m,y,f,t.position,c.orientation,d.orientation,t);if(!_)return null;var w=owe(_,2),v=w[0],A=v.x,E=v.y,S=w[1],x=S.x,T=S.y,P=ui(t,"hidden")?"url(#".concat(u,")"):void 0,k=vN(vN({clipPath:P},pe(t,!0)),{},{x1:A,y1:E,x2:x,y2:T});return j.createElement(Me,{className:Ee("recharts-reference-line",s)},cwe(a,k),Xt.renderCallByParent(t,Tbe({x1:A,y1:E,x2:x,y2:T})))}var pS=function(t){function e(){return Jbe(this,e),ewe(this,e,arguments)}return rwe(e,t),Zbe(e,[{key:"render",value:function(){return j.createElement(hwe,this.props)}}])}(j.Component);fS(pS,"displayName","ReferenceLine");fS(pS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function I1(){return I1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I1.apply(this,arguments)}function Du(t){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}function bN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bN(Object(n),!0).forEach(function(r){e0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k3(r.key),r)}}function pwe(t,e,n){return e&&xN(t.prototype,e),n&&xN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mwe(t,e,n){return e=cy(e),gwe(t,O3()?Reflect.construct(e,n||[],cy(t).constructor):e.apply(t,n))}function gwe(t,e){if(e&&(Du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ywe(t)}function ywe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O3=function(){return!!t})()}function cy(t){return cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cy(t)}function vwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P1(t,e)}function P1(t,e){return P1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},P1(t,e)}function e0(t,e,n){return e=k3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k3(t){var e=_we(t,"string");return Du(e)=="symbol"?e:e+""}function _we(t,e){if(Du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bwe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=lS({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return ui(e,"discard")&&!a.isInRange(s)?null:s},t0=function(t){function e(){return fwe(this,e),mwe(this,e,arguments)}return vwe(e,t),pwe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=Bt(i),c=Bt(o);if($r(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var d=bwe(this.props);if(!d)return null;var f=d.x,p=d.y,g=this.props,m=g.shape,y=g.className,_=ui(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=wN(wN({clipPath:_},pe(this.props,!0)),{},{cx:f,cy:p});return j.createElement(Me,{className:Ee("recharts-reference-dot",y)},e.renderDot(m,w),Xt.renderCallByParent(this.props,{x:f-a,y:p-a,width:2*a,height:2*a}))}}])}(j.Component);e0(t0,"displayName","ReferenceDot");e0(t0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});e0(t0,"renderDot",function(t,e){var n;return j.isValidElement(t)?n=j.cloneElement(t,e):ve(t)?n=t(e):n=j.createElement(Kv,I1({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function O1(){return O1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O1.apply(this,arguments)}function Mu(t){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mu(t)}function EN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EN(Object(n),!0).forEach(function(r){n0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R3(r.key),r)}}function xwe(t,e,n){return e&&SN(t.prototype,e),n&&SN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ewe(t,e,n){return e=dy(e),Twe(t,C3()?Reflect.construct(e,n||[],dy(t).constructor):e.apply(t,n))}function Twe(t,e){if(e&&(Mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Swe(t)}function Swe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C3=function(){return!!t})()}function dy(t){return dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dy(t)}function Awe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k1(t,e)}function k1(t,e){return k1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},k1(t,e)}function n0(t,e,n){return e=R3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R3(t){var e=Iwe(t,"string");return Mu(e)=="symbol"?e:e+""}function Iwe(t,e){if(Mu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pwe=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,d=o.yAxis;if(!c||!d)return null;var f=lS({x:c.scale,y:d.scale}),p={x:e?f.x.apply(a,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(l,{position:"start"}):f.y.rangeMin},g={x:n?f.x.apply(s,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(u,{position:"end"}):f.y.rangeMax};return ui(o,"discard")&&(!f.isInRange(p)||!f.isInRange(g))?null:v3(p,g)},r0=function(t){function e(){return wwe(this,e),Ewe(this,e,arguments)}return Awe(e,t),xwe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;$r(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Bt(i),f=Bt(o),p=Bt(a),g=Bt(s),m=this.props.shape;if(!d&&!f&&!p&&!g&&!m)return null;var y=Pwe(d,f,p,g,this.props);if(!y&&!m)return null;var _=ui(this.props,"hidden")?"url(#".concat(c,")"):void 0;return j.createElement(Me,{className:Ee("recharts-reference-area",l)},e.renderRect(m,TN(TN({clipPath:_},pe(this.props,!0)),y)),Xt.renderCallByParent(this.props,y))}}])}(j.Component);n0(r0,"displayName","ReferenceArea");n0(r0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});n0(r0,"renderRect",function(t,e){var n;return j.isValidElement(t)?n=j.cloneElement(t,e):ve(t)?n=t(e):n=j.createElement(sS,O1({},e,{className:"recharts-reference-area-rect"})),n});function N3(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)if(n===void 0||n(t[i])===!0)r.push(t[i]);else return;return r}function Owe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Abe(r,n)}function kwe(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function hy(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Cwe(t,e){return N3(t,e+1)}function Rwe(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,c=a,d=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:N3(r,u)};var m=l,y,_=function(){return y===void 0&&(y=n(g,m)),y},w=g.coordinate,v=l===0||hy(t,w,_,c,s);v||(l=0,c=a,u+=1),v&&(c=w+t*(_()/2+i),l+=u)},f;u<=o.length;)if(f=d(),f)return f.v;return[]}function Zh(t){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zh(t)}function AN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AN(Object(n),!0).forEach(function(r){Nwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nwe(t,e,n){return e=Dwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dwe(t){var e=Mwe(t,"string");return Zh(e)=="symbol"?e:e+""}function Mwe(t,e){if(Zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $we(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(f){var p=o[f],g,m=function(){return g===void 0&&(g=n(p,f)),g};if(f===a-1){var y=t*(p.coordinate+t*m()/2-l);o[f]=p=yn(yn({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate})}else o[f]=p=yn(yn({},p),{},{tickCoord:p.coordinate});var _=hy(t,p.tickCoord,m,s,l);_&&(l=p.tickCoord-t*(m()/2+i),o[f]=yn(yn({},p),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function Lwe(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var c=r[s-1],d=n(c,s-1),f=t*(c.coordinate+t*d/2-u);a[s-1]=c=yn(yn({},c),{},{tickCoord:f>0?c.coordinate-f*t:c.coordinate});var p=hy(t,c.tickCoord,function(){return d},l,u);p&&(u=c.tickCoord-t*(d/2+i),a[s-1]=yn(yn({},c),{},{isShow:!0}))}for(var g=o?s-1:s,m=function(w){var v=a[w],A,E=function(){return A===void 0&&(A=n(v,w)),A};if(w===0){var S=t*(v.coordinate-t*E()/2-l);a[w]=v=yn(yn({},v),{},{tickCoord:S<0?v.coordinate-S*t:v.coordinate})}else a[w]=v=yn(yn({},v),{},{tickCoord:v.coordinate});var x=hy(t,v.tickCoord,E,l,u);x&&(l=v.tickCoord+t*(E()/2+i),a[w]=yn(yn({},v),{},{isShow:!0}))},y=0;y<g;y++)m(y);return a}function mS(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(ne(l)||si.isSsr)return Cwe(i,typeof l=="number"&&ne(l)?l:0);var f=[],p=s==="top"||s==="bottom"?"width":"height",g=c&&p==="width"?Nd(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},m=function(v,A){var E=ve(u)?u(v.value,A):v.value;return p==="width"?Owe(Nd(E,{fontSize:e,letterSpacing:n}),g,d):Nd(E,{fontSize:e,letterSpacing:n})[p]},y=i.length>=2?kn(i[1].coordinate-i[0].coordinate):1,_=kwe(o,y,p);return l==="equidistantPreserveStart"?Rwe(y,_,m,i,a):(l==="preserveStart"||l==="preserveStartEnd"?f=Lwe(y,_,m,i,a,l==="preserveStartEnd"):f=$we(y,_,m,i,a),f.filter(function(w){return w.isShow}))}var jwe=["viewBox"],Vwe=["viewBox"],Fwe=["ticks"];function $u(t){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$u(t)}function kl(){return kl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kl.apply(this,arguments)}function IN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IN(Object(n),!0).forEach(function(r){gS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $_(t,e){if(t==null)return{};var n=Bwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Uwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M3(r.key),r)}}function zwe(t,e,n){return e&&PN(t.prototype,e),n&&PN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qwe(t,e,n){return e=fy(e),Wwe(t,D3()?Reflect.construct(e,n||[],fy(t).constructor):e.apply(t,n))}function Wwe(t,e){if(e&&($u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kwe(t)}function Kwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D3=function(){return!!t})()}function fy(t){return fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fy(t)}function Gwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C1(t,e)}function C1(t,e){return C1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},C1(t,e)}function gS(t,e,n){return e=M3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M3(t){var e=Hwe(t,"string");return $u(e)=="symbol"?e:e+""}function Hwe(t,e){if($u(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _c=function(t){function e(n){var r;return Uwe(this,e),r=qwe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Gwe(e,t),zwe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=$_(r,jwe),s=this.props,l=s.viewBox,u=$_(s,Vwe);return!zl(o,l)||!zl(a,u)||!zl(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,d=i.mirror,f=i.tickMargin,p,g,m,y,_,w,v=d?-1:1,A=r.tickSize||c,E=ne(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=g=r.coordinate,y=a+ +!d*l,m=y-v*A,w=m-v*f,_=E;break;case"left":m=y=r.coordinate,g=o+ +!d*s,p=g-v*A,_=p-v*f,w=E;break;case"right":m=y=r.coordinate,g=o+ +d*s,p=g+v*A,_=p+v*f,w=E;break;default:p=g=r.coordinate,y=a+ +d*l,m=y+v*A,w=m+v*f,_=E;break}return{line:{x1:p,y1:m,x2:g,y2:y},tick:{x:_,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,d=Mt(Mt(Mt({},pe(this.props,!1)),pe(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var f=+(l==="top"&&!u||l==="bottom"&&u);d=Mt(Mt({},d),{},{x1:i,y1:o+f*s,x2:i+a,y2:o+f*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);d=Mt(Mt({},d),{},{x1:i+p*a,y1:o,x2:i+p*a,y2:o+s})}return j.createElement("line",kl({},d,{className:Ee("recharts-cartesian-axis-line",nr(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,d=s.tickFormatter,f=s.unit,p=mS(Mt(Mt({},this.props),{},{ticks:r}),i,o),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),y=pe(this.props,!1),_=pe(c,!1),w=Mt(Mt({},y),{},{fill:"none"},pe(l,!1)),v=p.map(function(A,E){var S=a.getTickLineCoord(A),x=S.line,T=S.tick,P=Mt(Mt(Mt(Mt({textAnchor:g,verticalAnchor:m},y),{},{stroke:"none",fill:u},_),T),{},{index:E,payload:A,visibleTicksCount:p.length,tickFormatter:d});return j.createElement(Me,kl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},Ps(a.props,A,E)),l&&j.createElement("line",kl({},w,x,{className:Ee("recharts-cartesian-axis-tick-line",nr(l,"className"))})),c&&e.renderTickItem(c,P,"".concat(ve(d)?d(A.value,E):A.value).concat(f||"")))});return j.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var d=this.props,f=d.ticks,p=$_(d,Fwe),g=f;return ve(l)&&(g=f&&f.length>0?l(this.props):l(p)),a<=0||s<=0||!g||!g.length?null:j.createElement(Me,{className:Ee("recharts-cartesian-axis",u),ref:function(y){r.layerReference=y}},o&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Xt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=Ee(i.className,"recharts-cartesian-axis-tick-value");return j.isValidElement(r)?a=j.cloneElement(r,Mt(Mt({},i),{},{className:s})):ve(r)?a=r(Mt(Mt({},i),{},{className:s})):a=j.createElement(Os,kl({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}($.Component);gS(_c,"displayName","CartesianAxis");gS(_c,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Qwe=["x1","y1","x2","y2","key"],Xwe=["offset"];function Ns(t){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ns(t)}function ON(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ON(Object(n),!0).forEach(function(r){Ywe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ON(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ywe(t,e,n){return e=Jwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jwe(t){var e=Zwe(t,"string");return Ns(e)=="symbol"?e:e+""}function Zwe(t,e){if(Ns(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ns(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function es(){return es=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},es.apply(this,arguments)}function kN(t,e){if(t==null)return{};var n=e1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function e1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var t1e=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return j.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function $3(t,e){var n;if(j.isValidElement(t))n=j.cloneElement(t,e);else if(ve(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=kN(e,Qwe),u=pe(l,!1);u.offset;var c=kN(u,Xwe);n=j.createElement("line",es({},c,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function n1e(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=wn(wn({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return $3(i,u)});return j.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function r1e(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=wn(wn({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return $3(i,u)});return j.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function i1e(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(f){return Math.round(f+i-i)}).sort(function(f,p){return f-p});i!==c[0]&&c.unshift(0);var d=c.map(function(f,p){var g=!c[p+1],m=g?i+a-f:c[p+1]-f;if(m<=0)return null;var y=p%e.length;return j.createElement("rect",{key:"react-".concat(p),y:f,x:r,height:m,width:o,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function o1e(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(f){return Math.round(f+o-o)}).sort(function(f,p){return f-p});o!==c[0]&&c.unshift(0);var d=c.map(function(f,p){var g=!c[p+1],m=g?o+s-f:c[p+1]-f;if(m<=0)return null;var y=p%r.length;return j.createElement("rect",{key:"react-".concat(p),x:f,y:a,width:m,height:l,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var a1e=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return R4(mS(wn(wn(wn({},_c.defaultProps),r),{},{ticks:Di(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},s1e=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return R4(mS(wn(wn(wn({},_c.defaultProps),r),{},{ticks:Di(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},al={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ef(t){var e,n,r,i,o,a,s=dS(),l=hS(),u=Ybe(),c=wn(wn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:al.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:al.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:al.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:al.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:al.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:al.verticalFill,x:ne(t.x)?t.x:u.left,y:ne(t.y)?t.y:u.top,width:ne(t.width)?t.width:u.width,height:ne(t.height)?t.height:u.height}),d=c.x,f=c.y,p=c.width,g=c.height,m=c.syncWithTicks,y=c.horizontalValues,_=c.verticalValues,w=Hbe(),v=Qbe();if(!ne(p)||p<=0||!ne(g)||g<=0||!ne(d)||d!==+d||!ne(f)||f!==+f)return null;var A=c.verticalCoordinatesGenerator||a1e,E=c.horizontalCoordinatesGenerator||s1e,S=c.horizontalPoints,x=c.verticalPoints;if((!S||!S.length)&&ve(E)){var T=y&&y.length,P=E({yAxis:v?wn(wn({},v),{},{ticks:T?y:v.ticks}):void 0,width:s,height:l,offset:u},T?!0:m);$r(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ns(P),"]")),Array.isArray(P)&&(S=P)}if((!x||!x.length)&&ve(A)){var k=_&&_.length,C=A({xAxis:w?wn(wn({},w),{},{ticks:k?_:w.ticks}):void 0,width:s,height:l,offset:u},k?!0:m);$r(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ns(C),"]")),Array.isArray(C)&&(x=C)}return j.createElement("g",{className:"recharts-cartesian-grid"},j.createElement(t1e,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),j.createElement(n1e,es({},c,{offset:u,horizontalPoints:S,xAxis:w,yAxis:v})),j.createElement(r1e,es({},c,{offset:u,verticalPoints:x,xAxis:w,yAxis:v})),j.createElement(i1e,es({},c,{horizontalPoints:S})),j.createElement(o1e,es({},c,{verticalPoints:x})))}ef.displayName="CartesianGrid";var l1e=["type","layout","connectNulls","ref"],u1e=["key"];function Lu(t){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lu(t)}function CN(t,e){if(t==null)return{};var n=c1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function c1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Vd(){return Vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vd.apply(this,arguments)}function RN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RN(Object(n),!0).forEach(function(r){Cr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sl(t){return p1e(t)||f1e(t)||h1e(t)||d1e()}function d1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h1e(t,e){if(t){if(typeof t=="string")return R1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R1(t,e)}}function f1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function p1e(t){if(Array.isArray(t))return R1(t)}function R1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j3(r.key),r)}}function g1e(t,e,n){return e&&NN(t.prototype,e),n&&NN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function y1e(t,e,n){return e=py(e),v1e(t,L3()?Reflect.construct(e,n||[],py(t).constructor):e.apply(t,n))}function v1e(t,e){if(e&&(Lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _1e(t)}function _1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L3=function(){return!!t})()}function py(t){return py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},py(t)}function b1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N1(t,e)}function N1(t,e){return N1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N1(t,e)}function Cr(t,e,n){return e=j3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j3(t){var e=w1e(t,"string");return Lu(e)=="symbol"?e:e+""}function w1e(t,e){if(Lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ju=function(t){function e(){var n;m1e(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=y1e(this,e,[].concat(i)),Cr(n,"state",{isAnimationFinished:!0,totalLength:0}),Cr(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),Cr(n,"getStrokeDasharray",function(a,s,l){var u=l.reduce(function(_,w){return _+w});if(!u)return n.generateSimpleStrokeDasharray(s,a);for(var c=Math.floor(a/u),d=a%u,f=s-a,p=[],g=0,m=0;g<l.length;m+=l[g],++g)if(m+l[g]>d){p=[].concat(sl(l.slice(0,g)),[d-m]);break}var y=p.length%2===0?[0,f]:[f];return[].concat(sl(e.repeat(l,c)),sl(p),y).map(function(_){return"".concat(_,"px")}).join(", ")}),Cr(n,"id",dc("recharts-line-")),Cr(n,"pathRef",function(a){n.mainCurve=a}),Cr(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Cr(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return b1e(e,t),g1e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,d=rr(c,Vf);if(!d)return null;var f=function(m,y){return{x:m.x,y:m.y,value:m.value,errorVal:Vt(m.payload,y)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return j.createElement(Me,p,d.map(function(g){return j.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,dataPointFormatter:f})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,d=pe(this.props,!1),f=pe(l,!0),p=u.map(function(m,y){var _=Gn(Gn(Gn({key:"dot-".concat(y),r:3},d),f),{},{index:y,cx:m.x,cy:m.y,value:m.value,dataKey:c,payload:m.payload,points:u});return e.renderDotItem(l,_)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return j.createElement(Me,Vd({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,u=s.layout,c=s.connectNulls;s.ref;var d=CN(s,l1e),f=Gn(Gn(Gn({},pe(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:u,connectNulls:c});return j.createElement(Hg,Vd({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,u=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,f=a.animationEasing,p=a.animationId,g=a.animateNewValues,m=a.width,y=a.height,_=this.state,w=_.prevPoints,v=_.totalLength;return j.createElement(Rs,{begin:c,duration:d,isActive:u,easing:f,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var E=A.t;if(w){var S=w.length/s.length,x=s.map(function(D,R){var W=Math.floor(R*S);if(w[W]){var q=w[W],G=Yn(q.x,D.x),H=Yn(q.y,D.y);return Gn(Gn({},D),{},{x:G(E),y:H(E)})}if(g){var L=Yn(m*2,D.x),B=Yn(y/2,D.y);return Gn(Gn({},D),{},{x:L(E),y:B(E)})}return Gn(Gn({},D),{},{x:D.x,y:D.y})});return o.renderCurveStatically(x,r,i)}var T=Yn(0,v),P=T(E),k;if(l){var C="".concat(l).split(/[,\s]+/gim).map(function(D){return parseFloat(D)});k=o.getStrokeDasharray(P,v,C)}else k=o.generateSimpleStrokeDasharray(v,P);return o.renderCurveStatically(s,r,i,{strokeDasharray:k})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return s&&a&&a.length&&(!u&&c>0||!jf(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.xAxis,c=i.yAxis,d=i.top,f=i.left,p=i.width,g=i.height,m=i.isAnimationActive,y=i.id;if(o||!s||!s.length)return null;var _=this.state.isAnimationFinished,w=s.length===1,v=Ee("recharts-line",l),A=u&&u.allowDataOverflow,E=c&&c.allowDataOverflow,S=A||E,x=be(y)?this.id:y,T=(r=pe(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=T.r,k=P===void 0?3:P,C=T.strokeWidth,D=C===void 0?2:C,R=XZ(a)?a:{},W=R.clipDot,q=W===void 0?!0:W,G=k*2+D;return j.createElement(Me,{className:v},A||E?j.createElement("defs",null,j.createElement("clipPath",{id:"clipPath-".concat(x)},j.createElement("rect",{x:A?f:f-p/2,y:E?d:d-g/2,width:A?p:p*2,height:E?g:g*2})),!q&&j.createElement("clipPath",{id:"clipPath-dots-".concat(x)},j.createElement("rect",{x:f-G/2,y:d-G/2,width:p+G,height:g+G}))):null,!w&&this.renderCurve(S,x),this.renderErrorBar(S,x),(w||a)&&this.renderDots(S,q,x),(!m||_)&&Vi.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(sl(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(sl(a),sl(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(j.isValidElement(r))o=j.cloneElement(r,i);else if(ve(r))o=r(i);else{var a=i.key,s=CN(i,u1e),l=Ee("recharts-line-dot",typeof r!="boolean"?r.className:"");o=j.createElement(Kv,Vd({key:a},s,{className:l}))}return o}}])}($.PureComponent);Cr(ju,"displayName","Line");Cr(ju,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!si.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Cr(ju,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,d=l.map(function(f,p){var g=Vt(f,a);return c==="horizontal"?{x:ZC({axis:n,ticks:i,bandSize:s,entry:f,index:p}),y:be(g)?null:r.scale(g),value:g,payload:f}:{x:be(g)?null:n.scale(g),y:ZC({axis:r,ticks:o,bandSize:s,entry:f,index:p}),value:g,payload:f}});return Gn({points:d,layout:c},u)});function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}function x1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B3(r.key),r)}}function E1e(t,e,n){return e&&DN(t.prototype,e),n&&DN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function T1e(t,e,n){return e=my(e),S1e(t,V3()?Reflect.construct(e,n||[],my(t).constructor):e.apply(t,n))}function S1e(t,e){if(e&&(Vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A1e(t)}function A1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V3=function(){return!!t})()}function my(t){return my=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},my(t)}function I1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D1(t,e)}function D1(t,e){return D1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},D1(t,e)}function F3(t,e,n){return e=B3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B3(t){var e=P1e(t,"string");return Vu(e)=="symbol"?e:e+""}function P1e(t,e){if(Vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M1(){return M1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M1.apply(this,arguments)}function O1e(t){var e=t.xAxisId,n=dS(),r=hS(),i=S3(e);return i==null?null:$.createElement(_c,M1({},i,{className:Ee("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Di(a,!0)}}))}var oa=function(t){function e(){return x1e(this,e),T1e(this,e,arguments)}return I1e(e,t),E1e(e,[{key:"render",value:function(){return $.createElement(O1e,this.props)}}])}($.Component);F3(oa,"displayName","XAxis");F3(oa,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(t)}function k1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,q3(r.key),r)}}function C1e(t,e,n){return e&&MN(t.prototype,e),n&&MN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function R1e(t,e,n){return e=gy(e),N1e(t,U3()?Reflect.construct(e,n||[],gy(t).constructor):e.apply(t,n))}function N1e(t,e){if(e&&(Fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D1e(t)}function D1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U3=function(){return!!t})()}function gy(t){return gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gy(t)}function M1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$1(t,e)}function $1(t,e){return $1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$1(t,e)}function z3(t,e,n){return e=q3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q3(t){var e=$1e(t,"string");return Fu(e)=="symbol"?e:e+""}function $1e(t,e){if(Fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L1(){return L1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L1.apply(this,arguments)}var L1e=function(e){var n=e.yAxisId,r=dS(),i=hS(),o=A3(n);return o==null?null:$.createElement(_c,L1({},o,{className:Ee("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Di(s,!0)}}))},aa=function(t){function e(){return k1e(this,e),R1e(this,e,arguments)}return M1e(e,t),C1e(e,[{key:"render",value:function(){return $.createElement(L1e,this.props)}}])}($.Component);z3(aa,"displayName","YAxis");z3(aa,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function $N(t){return B1e(t)||F1e(t)||V1e(t)||j1e()}function j1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V1e(t,e){if(t){if(typeof t=="string")return j1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j1(t,e)}}function F1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function B1e(t){if(Array.isArray(t))return j1(t)}function j1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var V1=function(e,n,r,i,o){var a=rr(e,pS),s=rr(e,t0),l=[].concat($N(a),$N(s)),u=rr(e,r0),c="".concat(i,"Id"),d=i[0],f=n;if(l.length&&(f=l.reduce(function(m,y){if(y.props[c]===r&&ui(y.props,"extendDomain")&&ne(y.props[d])){var _=y.props[d];return[Math.min(m[0],_),Math.max(m[1],_)]}return m},f)),u.length){var p="".concat(d,"1"),g="".concat(d,"2");f=u.reduce(function(m,y){if(y.props[c]===r&&ui(y.props,"extendDomain")&&ne(y.props[p])&&ne(y.props[g])){var _=y.props[p],w=y.props[g];return[Math.min(m[0],_,w),Math.max(m[1],_,w)]}return m},f)}return o&&o.length&&(f=o.reduce(function(m,y){return ne(y)?[Math.min(m[0],y),Math.max(m[1],y)]:m},f)),f},W3={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,d,f){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,d||l,f),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,p=d.length,g=new Array(p);f<p;f++)g[f]=d[f].fn;return g},s.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,f,p,g){var m=n?n+u:u;if(!this._events[m])return!1;var y=this._events[m],_=arguments.length,w,v;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),_){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,d),!0;case 4:return y.fn.call(y.context,c,d,f),!0;case 5:return y.fn.call(y.context,c,d,f,p),!0;case 6:return y.fn.call(y.context,c,d,f,p,g),!0}for(v=1,w=new Array(_-1);v<_;v++)w[v-1]=arguments[v];y.fn.apply(y.context,w)}else{var A=y.length,E;for(v=0;v<A;v++)switch(y[v].once&&this.removeListener(u,y[v].fn,void 0,!0),_){case 1:y[v].fn.call(y[v].context);break;case 2:y[v].fn.call(y[v].context,c);break;case 3:y[v].fn.call(y[v].context,c,d);break;case 4:y[v].fn.call(y[v].context,c,d,f);break;default:if(!w)for(E=1,w=new Array(_-1);E<_;E++)w[E-1]=arguments[E];y[v].fn.apply(y[v].context,w)}}return!0},s.prototype.on=function(u,c,d){return o(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return o(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,f){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return a(this,p),this;var g=this._events[p];if(g.fn)g.fn===c&&(!f||g.once)&&(!d||g.context===d)&&a(this,p);else{for(var m=0,y=[],_=g.length;m<_;m++)(g[m].fn!==c||f&&!g[m].once||d&&g[m].context!==d)&&y.push(g[m]);y.length?this._events[p]=y.length===1?y[0]:y:a(this,p)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(W3);var U1e=W3.exports;const z1e=Be(U1e);var L_=new z1e,j_="recharts.syncMouseEvents";function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function q1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K3(r.key),r)}}function W1e(t,e,n){return e&&LN(t.prototype,e),n&&LN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function V_(t,e,n){return e=K3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K3(t){var e=K1e(t,"string");return tf(e)=="symbol"?e:e+""}function K1e(t,e){if(tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var G1e=function(){function t(){q1e(this,t),V_(this,"activeIndex",0),V_(this,"coordinateList",[]),V_(this,"layout","horizontal")}return W1e(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,c=n.offset,d=c===void 0?null:c,f=n.mouseHandlerCallback,p=f===void 0?null:f;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=o+l+u,f=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:d,pageY:f})}}}])}();function H1e(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ne(r)&&ne(i))return!0}return!1}function Q1e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function G3(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Ze(e,n,r,i),s=Ze(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function X1e(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,d=e.angle,f=Ze(s,l,u,d),p=Ze(s,l,c,d);r=f.x,i=f.y,o=p.x,a=p.y}else return G3(e);return[{x:r,y:i},{x:o,y:a}]}function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function jN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jN(Object(n),!0).forEach(function(r){Y1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y1e(t,e,n){return e=J1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J1e(t){var e=Z1e(t,"string");return nf(e)=="symbol"?e:e+""}function Z1e(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function exe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,d=t.layout,f=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!o||!a||f!=="ScatterChart"&&i!=="axis")return null;var g,m=Hg;if(f==="ScatterChart")g=a,m=Tve;else if(f==="BarChart")g=Q1e(d,a,l,c),m=sS;else if(d==="radial"){var y=G3(a),_=y.cx,w=y.cy,v=y.radius,A=y.startAngle,E=y.endAngle;g={cx:_,cy:w,startAngle:A,endAngle:E,innerRadius:v,outerRadius:v},m=z4}else g={points:X1e(d,a,l)},m=Hg;var S=Kp(Kp(Kp(Kp({stroke:"#ccc",pointerEvents:"none"},l),g),pe(p,!1)),{},{payload:s,payloadIndex:u,className:Ee("recharts-tooltip-cursor",p.className)});return $.isValidElement(p)?$.cloneElement(p,S):$.createElement(m,S)}var txe=["item"],nxe=["children","className","width","height","style","compact","title","desc"];function Bu(t){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(t)}function Cl(){return Cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cl.apply(this,arguments)}function VN(t,e){return oxe(t)||ixe(t,e)||Q3(t,e)||rxe()}function rxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ixe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function oxe(t){if(Array.isArray(t))return t}function FN(t,e){if(t==null)return{};var n=axe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function axe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,X3(r.key),r)}}function lxe(t,e,n){return e&&BN(t.prototype,e),n&&BN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function uxe(t,e,n){return e=yy(e),cxe(t,H3()?Reflect.construct(e,n||[],yy(t).constructor):e.apply(t,n))}function cxe(t,e){if(e&&(Bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dxe(t)}function dxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H3=function(){return!!t})()}function yy(t){return yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yy(t)}function hxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F1(t,e)}function F1(t,e){return F1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},F1(t,e)}function Uu(t){return mxe(t)||pxe(t)||Q3(t)||fxe()}function fxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q3(t,e){if(t){if(typeof t=="string")return B1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B1(t,e)}}function pxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mxe(t){if(Array.isArray(t))return B1(t)}function B1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UN(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function me(t,e,n){return e=X3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X3(t){var e=gxe(t,"string");return Bu(e)=="symbol"?e:e+""}function gxe(t,e){if(Bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yxe={xAxis:["bottom","top"],yAxis:["left","right"]},vxe={width:"100%",height:"100%"},Y3={x:0,y:0};function Gp(t){return t}var _xe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},bxe=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return K(K(K({},i),Ze(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return K(K(K({},i),Ze(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return Y3},i0=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Uu(s),Uu(u)):s},[]);return a.length>0?a:e&&e.length&&ne(i)&&ne(o)?e.slice(i,o+1):[]};function J3(t){return t==="number"?[0,"auto"]:void 0}var U1=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=i0(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var c,d=(c=u.props.data)!==null&&c!==void 0?c:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(a.dataKey&&!a.allowDuplicatedCategory){var p=d===void 0?s:d;f=yg(p,a.dataKey,i)}else f=d&&d[r]||s[r];return f?[].concat(Uu(l),[L4(u,f)]):l},[])},zN=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=_xe(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=Hpe(a,s,u,l);if(c>=0&&u){var d=u[c]&&u[c].value,f=U1(e,n,c,d),p=bxe(r,s,c,o);return{activeTooltipIndex:c,activeLabel:d,activePayload:f,activeCoordinate:p}}return null},wxe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,f=e.stackOffset,p=C4(c,o);return r.reduce(function(g,m){var y,_=m.type.defaultProps!==void 0?K(K({},m.type.defaultProps),m.props):m.props,w=_.type,v=_.dataKey,A=_.allowDataOverflow,E=_.allowDuplicatedCategory,S=_.scale,x=_.ticks,T=_.includeHidden,P=_[a];if(g[P])return g;var k=i0(e.data,{graphicalItems:i.filter(function(J){var te,Te=a in J.props?J.props[a]:(te=J.type.defaultProps)===null||te===void 0?void 0:te[a];return Te===P}),dataStartIndex:l,dataEndIndex:u}),C=k.length,D,R,W;H1e(_.domain,A,w)&&(D=n1(_.domain,null,A),p&&(w==="number"||S!=="auto")&&(W=Md(k,v,"category")));var q=J3(w);if(!D||D.length===0){var G,H=(G=_.domain)!==null&&G!==void 0?G:q;if(v){if(D=Md(k,v,w),w==="category"&&p){var L=FZ(D);E&&L?(R=D,D=iy(0,C)):E||(D=rR(H,D,m).reduce(function(J,te){return J.indexOf(te)>=0?J:[].concat(Uu(J),[te])},[]))}else if(w==="category")E?D=D.filter(function(J){return J!==""&&!be(J)}):D=rR(H,D,m).reduce(function(J,te){return J.indexOf(te)>=0||te===""||be(te)?J:[].concat(Uu(J),[te])},[]);else if(w==="number"){var B=Zpe(k,i.filter(function(J){var te,Te,Ce=a in J.props?J.props[a]:(te=J.type.defaultProps)===null||te===void 0?void 0:te[a],ze="hide"in J.props?J.props.hide:(Te=J.type.defaultProps)===null||Te===void 0?void 0:Te.hide;return Ce===P&&(T||!ze)}),v,o,c);B&&(D=B)}p&&(w==="number"||S!=="auto")&&(W=Md(k,v,"category"))}else p?D=iy(0,C):s&&s[P]&&s[P].hasStack&&w==="number"?D=f==="expand"?[0,1]:$4(s[P].stackGroups,l,u):D=k4(k,i.filter(function(J){var te=a in J.props?J.props[a]:J.type.defaultProps[a],Te="hide"in J.props?J.props.hide:J.type.defaultProps.hide;return te===P&&(T||!Te)}),w,c,!0);if(w==="number")D=V1(d,D,P,o,x),H&&(D=n1(H,D,A));else if(w==="category"&&H){var Q=H,ie=D.every(function(J){return Q.indexOf(J)>=0});ie&&(D=Q)}}return K(K({},g),{},me({},P,K(K({},_),{},{axisType:o,domain:D,categoricalDomain:W,duplicateDomain:R,originalDomain:(y=_.domain)!==null&&y!==void 0?y:q,isCategorical:p,layout:c})))},{})},xxe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,f=i0(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=f.length,g=C4(c,o),m=-1;return r.reduce(function(y,_){var w=_.type.defaultProps!==void 0?K(K({},_.type.defaultProps),_.props):_.props,v=w[a],A=J3("number");if(!y[v]){m++;var E;return g?E=iy(0,p):s&&s[v]&&s[v].hasStack?(E=$4(s[v].stackGroups,l,u),E=V1(d,E,v,o)):(E=n1(A,k4(f,r.filter(function(S){var x,T,P=a in S.props?S.props[a]:(x=S.type.defaultProps)===null||x===void 0?void 0:x[a],k="hide"in S.props?S.props.hide:(T=S.type.defaultProps)===null||T===void 0?void 0:T.hide;return P===v&&!k}),"number",c),i.defaultProps.allowDataOverflow),E=V1(d,E,v,o)),K(K({},y),{},me({},v,K(K({axisType:o},i.defaultProps),{},{hide:!0,orientation:nr(yxe,"".concat(o,".").concat(m%2),null),domain:E,originalDomain:A,isCategorical:g,layout:c})))}return y},{})},Exe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,d="".concat(i,"Id"),f=rr(c,o),p={};return f&&f.length?p=wxe(e,{axes:f,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(p=xxe(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},Txe=function(e){var n=Po(e),r=Di(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:DT(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Wg(n,r)}},qN=function(e){var n=e.children,r=e.defaultShowTooltip,i=Xn(n,Cu),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},Sxe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Li(n&&n.type);return r&&r.indexOf("Bar")>=0})},WN=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Axe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,d=r.children,f=r.margin||{},p=Xn(d,Cu),g=Xn(d,ai),m=Object.keys(l).reduce(function(E,S){var x=l[S],T=x.orientation;return!x.mirror&&!x.hide?K(K({},E),{},me({},T,E[T]+x.width)):E},{left:f.left||0,right:f.right||0}),y=Object.keys(a).reduce(function(E,S){var x=a[S],T=x.orientation;return!x.mirror&&!x.hide?K(K({},E),{},me({},T,nr(E,"".concat(T))+x.height)):E},{top:f.top||0,bottom:f.bottom||0}),_=K(K({},y),m),w=_.bottom;p&&(_.bottom+=p.props.height||Cu.defaultProps.height),g&&n&&(_=Ype(_,i,r,n));var v=u-_.left-_.right,A=c-_.top-_.bottom;return K(K({brushBottom:w},_),{},{width:Math.max(v,0),height:Math.max(A,0)})},Ixe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},yS=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,d=e.defaultProps,f=function(_,w){var v=w.graphicalItems,A=w.stackGroups,E=w.offset,S=w.updateId,x=w.dataStartIndex,T=w.dataEndIndex,P=_.barSize,k=_.layout,C=_.barGap,D=_.barCategoryGap,R=_.maxBarSize,W=WN(k),q=W.numericAxisName,G=W.cateAxisName,H=Sxe(v),L=[];return v.forEach(function(B,Q){var ie=i0(_.data,{graphicalItems:[B],dataStartIndex:x,dataEndIndex:T}),J=B.type.defaultProps!==void 0?K(K({},B.type.defaultProps),B.props):B.props,te=J.dataKey,Te=J.maxBarSize,Ce=J["".concat(q,"Id")],ze=J["".concat(G,"Id")],vt={},Wt=l.reduce(function(Tr,Ur){var bc=w["".concat(Ur.axisType,"Map")],Ks=J["".concat(Ur.axisType,"Id")];bc&&bc[Ks]||Ur.axisType==="zAxis"||Cs(!1);var Gs=bc[Ks];return K(K({},Tr),{},me(me({},Ur.axisType,Gs),"".concat(Ur.axisType,"Ticks"),Di(Gs)))},vt),se=Wt[G],fe=Wt["".concat(G,"Ticks")],_e=A&&A[Ce]&&A[Ce].hasStack&&lme(B,A[Ce].stackGroups),Z=Li(B.type).indexOf("Bar")>=0,Qe=Wg(se,fe),Se=[],ht=H&&Qpe({barSize:P,stackGroups:A,totalSize:Ixe(Wt,G)});if(Z){var _t,tn,Br=be(Te)?R:Te,gi=(_t=(tn=Wg(se,fe,!0))!==null&&tn!==void 0?tn:Br)!==null&&_t!==void 0?_t:0;Se=Xpe({barGap:C,barCategoryGap:D,bandSize:gi!==Qe?gi:Qe,sizeList:ht[ze],maxBarSize:Br}),gi!==Qe&&(Se=Se.map(function(Tr){return K(K({},Tr),{},{position:K(K({},Tr.position),{},{offset:Tr.position.offset-gi/2})})}))}var Ta=B&&B.type&&B.type.getComposedData;Ta&&L.push({props:K(K({},Ta(K(K({},Wt),{},{displayedData:ie,props:_,dataKey:te,item:B,bandSize:Qe,barPosition:Se,offset:E,stackedData:_e,layout:k,dataStartIndex:x,dataEndIndex:T}))),{},me(me(me({key:B.key||"item-".concat(Q)},q,Wt[q]),G,Wt[G]),"animationId",S)),childIndex:ZZ(B,_.children),item:B})}),L},p=function(_,w){var v=_.props,A=_.dataStartIndex,E=_.dataEndIndex,S=_.updateId;if(!KO({props:v}))return null;var x=v.children,T=v.layout,P=v.stackOffset,k=v.data,C=v.reverseStackOrder,D=WN(T),R=D.numericAxisName,W=D.cateAxisName,q=rr(x,r),G=ame(k,q,"".concat(R,"Id"),"".concat(W,"Id"),P,C),H=l.reduce(function(J,te){var Te="".concat(te.axisType,"Map");return K(K({},J),{},me({},Te,Exe(v,K(K({},te),{},{graphicalItems:q,stackGroups:te.axisType===R&&G,dataStartIndex:A,dataEndIndex:E}))))},{}),L=Axe(K(K({},H),{},{props:v,graphicalItems:q}),w==null?void 0:w.legendBBox);Object.keys(H).forEach(function(J){H[J]=c(v,H[J],L,J.replace("Map",""),n)});var B=H["".concat(W,"Map")],Q=Txe(B),ie=f(v,K(K({},H),{},{dataStartIndex:A,dataEndIndex:E,updateId:S,graphicalItems:q,stackGroups:G,offset:L}));return K(K({formattedGraphicalItems:ie,graphicalItems:q,offset:L,stackGroups:G},Q),H)},g=function(y){function _(w){var v,A,E;return sxe(this,_),E=uxe(this,_,[w]),me(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),me(E,"accessibilityManager",new G1e),me(E,"handleLegendBBoxUpdate",function(S){if(S){var x=E.state,T=x.dataStartIndex,P=x.dataEndIndex,k=x.updateId;E.setState(K({legendBBox:S},p({props:E.props,dataStartIndex:T,dataEndIndex:P,updateId:k},K(K({},E.state),{},{legendBBox:S}))))}}),me(E,"handleReceiveSyncEvent",function(S,x,T){if(E.props.syncId===S){if(T===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(x)}}),me(E,"handleBrushChange",function(S){var x=S.startIndex,T=S.endIndex;if(x!==E.state.dataStartIndex||T!==E.state.dataEndIndex){var P=E.state.updateId;E.setState(function(){return K({dataStartIndex:x,dataEndIndex:T},p({props:E.props,dataStartIndex:x,dataEndIndex:T,updateId:P},E.state))}),E.triggerSyncEvent({dataStartIndex:x,dataEndIndex:T})}}),me(E,"handleMouseEnter",function(S){var x=E.getMouseInfo(S);if(x){var T=K(K({},x),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var P=E.props.onMouseEnter;ve(P)&&P(T,S)}}),me(E,"triggeredAfterMouseMove",function(S){var x=E.getMouseInfo(S),T=x?K(K({},x),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(T),E.triggerSyncEvent(T);var P=E.props.onMouseMove;ve(P)&&P(T,S)}),me(E,"handleItemMouseEnter",function(S){E.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),me(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),me(E,"handleMouseMove",function(S){S.persist(),E.throttleTriggeredAfterMouseMove(S)}),me(E,"handleMouseLeave",function(S){E.throttleTriggeredAfterMouseMove.cancel();var x={isTooltipActive:!1};E.setState(x),E.triggerSyncEvent(x);var T=E.props.onMouseLeave;ve(T)&&T(x,S)}),me(E,"handleOuterEvent",function(S){var x=JZ(S),T=nr(E.props,"".concat(x));if(x&&ve(T)){var P,k;/.*touch.*/i.test(x)?k=E.getMouseInfo(S.changedTouches[0]):k=E.getMouseInfo(S),T((P=k)!==null&&P!==void 0?P:{},S)}}),me(E,"handleClick",function(S){var x=E.getMouseInfo(S);if(x){var T=K(K({},x),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var P=E.props.onClick;ve(P)&&P(T,S)}}),me(E,"handleMouseDown",function(S){var x=E.props.onMouseDown;if(ve(x)){var T=E.getMouseInfo(S);x(T,S)}}),me(E,"handleMouseUp",function(S){var x=E.props.onMouseUp;if(ve(x)){var T=E.getMouseInfo(S);x(T,S)}}),me(E,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),me(E,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&E.handleMouseDown(S.changedTouches[0])}),me(E,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&E.handleMouseUp(S.changedTouches[0])}),me(E,"handleDoubleClick",function(S){var x=E.props.onDoubleClick;if(ve(x)){var T=E.getMouseInfo(S);x(T,S)}}),me(E,"handleContextMenu",function(S){var x=E.props.onContextMenu;if(ve(x)){var T=E.getMouseInfo(S);x(T,S)}}),me(E,"triggerSyncEvent",function(S){E.props.syncId!==void 0&&L_.emit(j_,E.props.syncId,S,E.eventEmitterSymbol)}),me(E,"applySyncEvent",function(S){var x=E.props,T=x.layout,P=x.syncMethod,k=E.state.updateId,C=S.dataStartIndex,D=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)E.setState(K({dataStartIndex:C,dataEndIndex:D},p({props:E.props,dataStartIndex:C,dataEndIndex:D,updateId:k},E.state)));else if(S.activeTooltipIndex!==void 0){var R=S.chartX,W=S.chartY,q=S.activeTooltipIndex,G=E.state,H=G.offset,L=G.tooltipTicks;if(!H)return;if(typeof P=="function")q=P(L,S);else if(P==="value"){q=-1;for(var B=0;B<L.length;B++)if(L[B].value===S.activeLabel){q=B;break}}var Q=K(K({},H),{},{x:H.left,y:H.top}),ie=Math.min(R,Q.x+Q.width),J=Math.min(W,Q.y+Q.height),te=L[q]&&L[q].value,Te=U1(E.state,E.props.data,q),Ce=L[q]?{x:T==="horizontal"?L[q].coordinate:ie,y:T==="horizontal"?J:L[q].coordinate}:Y3;E.setState(K(K({},S),{},{activeLabel:te,activeCoordinate:Ce,activePayload:Te,activeTooltipIndex:q}))}else E.setState(S)}),me(E,"renderCursor",function(S){var x,T=E.state,P=T.isTooltipActive,k=T.activeCoordinate,C=T.activePayload,D=T.offset,R=T.activeTooltipIndex,W=T.tooltipAxisBandSize,q=E.getTooltipEventType(),G=(x=S.props.active)!==null&&x!==void 0?x:P,H=E.props.layout,L=S.key||"_recharts-cursor";return j.createElement(exe,{key:L,activeCoordinate:k,activePayload:C,activeTooltipIndex:R,chartName:n,element:S,isActive:G,layout:H,offset:D,tooltipAxisBandSize:W,tooltipEventType:q})}),me(E,"renderPolarAxis",function(S,x,T){var P=nr(S,"type.axisType"),k=nr(E.state,"".concat(P,"Map")),C=S.type.defaultProps,D=C!==void 0?K(K({},C),S.props):S.props,R=k&&k[D["".concat(P,"Id")]];return $.cloneElement(S,K(K({},R),{},{className:Ee(P,R.className),key:S.key||"".concat(x,"-").concat(T),ticks:Di(R,!0)}))}),me(E,"renderPolarGrid",function(S){var x=S.props,T=x.radialLines,P=x.polarAngles,k=x.polarRadius,C=E.state,D=C.radiusAxisMap,R=C.angleAxisMap,W=Po(D),q=Po(R),G=q.cx,H=q.cy,L=q.innerRadius,B=q.outerRadius;return $.cloneElement(S,{polarAngles:Array.isArray(P)?P:Di(q,!0).map(function(Q){return Q.coordinate}),polarRadius:Array.isArray(k)?k:Di(W,!0).map(function(Q){return Q.coordinate}),cx:G,cy:H,innerRadius:L,outerRadius:B,key:S.key||"polar-grid",radialLines:T})}),me(E,"renderLegend",function(){var S=E.state.formattedGraphicalItems,x=E.props,T=x.children,P=x.width,k=x.height,C=E.props.margin||{},D=P-(C.left||0)-(C.right||0),R=P4({children:T,formattedGraphicalItems:S,legendWidth:D,legendContent:u});if(!R)return null;var W=R.item,q=FN(R,txe);return $.cloneElement(W,K(K({},q),{},{chartWidth:P,chartHeight:k,margin:C,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),me(E,"renderTooltip",function(){var S,x=E.props,T=x.children,P=x.accessibilityLayer,k=Xn(T,_n);if(!k)return null;var C=E.state,D=C.isTooltipActive,R=C.activeCoordinate,W=C.activePayload,q=C.activeLabel,G=C.offset,H=(S=k.props.active)!==null&&S!==void 0?S:D;return $.cloneElement(k,{viewBox:K(K({},G),{},{x:G.left,y:G.top}),active:H,label:q,payload:H?W:[],coordinate:R,accessibilityLayer:P})}),me(E,"renderBrush",function(S){var x=E.props,T=x.margin,P=x.data,k=E.state,C=k.offset,D=k.dataStartIndex,R=k.dataEndIndex,W=k.updateId;return $.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Up(E.handleBrushChange,S.props.onChange),data:P,x:ne(S.props.x)?S.props.x:C.left,y:ne(S.props.y)?S.props.y:C.top+C.height+C.brushBottom-(T.bottom||0),width:ne(S.props.width)?S.props.width:C.width,startIndex:D,endIndex:R,updateId:"brush-".concat(W)})}),me(E,"renderReferenceElement",function(S,x,T){if(!S)return null;var P=E,k=P.clipPathId,C=E.state,D=C.xAxisMap,R=C.yAxisMap,W=C.offset,q=S.type.defaultProps||{},G=S.props,H=G.xAxisId,L=H===void 0?q.xAxisId:H,B=G.yAxisId,Q=B===void 0?q.yAxisId:B;return $.cloneElement(S,{key:S.key||"".concat(x,"-").concat(T),xAxis:D[L],yAxis:R[Q],viewBox:{x:W.left,y:W.top,width:W.width,height:W.height},clipPathId:k})}),me(E,"renderActivePoints",function(S){var x=S.item,T=S.activePoint,P=S.basePoint,k=S.childIndex,C=S.isRange,D=[],R=x.props.key,W=x.item.type.defaultProps!==void 0?K(K({},x.item.type.defaultProps),x.item.props):x.item.props,q=W.activeDot,G=W.dataKey,H=K(K({index:k,dataKey:G,cx:T.x,cy:T.y,r:4,fill:aS(x.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},pe(q,!1)),vg(q));return D.push(_.renderActiveDot(q,H,"".concat(R,"-activePoint-").concat(k))),P?D.push(_.renderActiveDot(q,K(K({},H),{},{cx:P.x,cy:P.y}),"".concat(R,"-basePoint-").concat(k))):C&&D.push(null),D}),me(E,"renderGraphicChild",function(S,x,T){var P=E.filterFormatItem(S,x,T);if(!P)return null;var k=E.getTooltipEventType(),C=E.state,D=C.isTooltipActive,R=C.tooltipAxis,W=C.activeTooltipIndex,q=C.activeLabel,G=E.props.children,H=Xn(G,_n),L=P.props,B=L.points,Q=L.isRange,ie=L.baseLine,J=P.item.type.defaultProps!==void 0?K(K({},P.item.type.defaultProps),P.item.props):P.item.props,te=J.activeDot,Te=J.hide,Ce=J.activeBar,ze=J.activeShape,vt=!!(!Te&&D&&H&&(te||Ce||ze)),Wt={};k!=="axis"&&H&&H.props.trigger==="click"?Wt={onClick:Up(E.handleItemMouseEnter,S.props.onClick)}:k!=="axis"&&(Wt={onMouseLeave:Up(E.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Up(E.handleItemMouseEnter,S.props.onMouseEnter)});var se=$.cloneElement(S,K(K({},P.props),Wt));function fe(Ur){return typeof R.dataKey=="function"?R.dataKey(Ur.payload):null}if(vt)if(W>=0){var _e,Z;if(R.dataKey&&!R.allowDuplicatedCategory){var Qe=typeof R.dataKey=="function"?fe:"payload.".concat(R.dataKey.toString());_e=yg(B,Qe,q),Z=Q&&ie&&yg(ie,Qe,q)}else _e=B==null?void 0:B[W],Z=Q&&ie&&ie[W];if(ze||Ce){var Se=S.props.activeIndex!==void 0?S.props.activeIndex:W;return[$.cloneElement(S,K(K(K({},P.props),Wt),{},{activeIndex:Se})),null,null]}if(!be(_e))return[se].concat(Uu(E.renderActivePoints({item:P,activePoint:_e,basePoint:Z,childIndex:W,isRange:Q})))}else{var ht,_t=(ht=E.getItemByXY(E.state.activeCoordinate))!==null&&ht!==void 0?ht:{graphicalItem:se},tn=_t.graphicalItem,Br=tn.item,gi=Br===void 0?S:Br,Ta=tn.childIndex,Tr=K(K(K({},P.props),Wt),{},{activeIndex:Ta});return[$.cloneElement(gi,Tr),null,null]}return Q?[se,null,null]:[se,null]}),me(E,"renderCustomized",function(S,x,T){return $.cloneElement(S,K(K({key:"recharts-customized-".concat(T)},E.props),E.state))}),me(E,"renderMap",{CartesianGrid:{handler:Gp,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:Gp},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:Gp},YAxis:{handler:Gp},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((v=w.id)!==null&&v!==void 0?v:dc("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=IF(E.triggeredAfterMouseMove,(A=w.throttleDelay)!==null&&A!==void 0?A:1e3/60),E.state={},E}return hxe(_,y),lxe(_,[{key:"componentDidMount",value:function(){var v,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(v=this.props.margin.left)!==null&&v!==void 0?v:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var v=this.props,A=v.children,E=v.data,S=v.height,x=v.layout,T=Xn(A,_n);if(T){var P=T.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,C=U1(this.state,E,P,k),D=this.state.tooltipTicks[P].coordinate,R=(this.state.offset.top+S)/2,W=x==="horizontal",q=W?{x:D,y:R}:{y:D,x:R},G=this.state.formattedGraphicalItems.find(function(L){var B=L.item;return B.type.name==="Scatter"});G&&(q=K(K({},q),G.props.points[P].tooltipPosition),C=G.props.points[P].tooltipPayload);var H={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:k,activePayload:C,activeCoordinate:q};this.setState(H),this.renderCursor(T),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(v,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==v.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==v.margin){var E,S;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(v){yw([Xn(v.children,_n)],[Xn(this.props.children,_n)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var v=Xn(this.props.children,_n);if(v&&typeof v.props.shared=="boolean"){var A=v.props.shared?"axis":"item";return s.indexOf(A)>=0?A:o}return o}},{key:"getMouseInfo",value:function(v){if(!this.container)return null;var A=this.container,E=A.getBoundingClientRect(),S=xce(E),x={chartX:Math.round(v.pageX-S.left),chartY:Math.round(v.pageY-S.top)},T=E.width/A.offsetWidth||1,P=this.inRange(x.chartX,x.chartY,T);if(!P)return null;var k=this.state,C=k.xAxisMap,D=k.yAxisMap,R=this.getTooltipEventType(),W=zN(this.state,this.props.data,this.props.layout,P);if(R!=="axis"&&C&&D){var q=Po(C).scale,G=Po(D).scale,H=q&&q.invert?q.invert(x.chartX):null,L=G&&G.invert?G.invert(x.chartY):null;return K(K({},x),{},{xValue:H,yValue:L},W)}return W?K(K({},x),W):null}},{key:"inRange",value:function(v,A){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,x=v/E,T=A/E;if(S==="horizontal"||S==="vertical"){var P=this.state.offset,k=x>=P.left&&x<=P.left+P.width&&T>=P.top&&T<=P.top+P.height;return k?{x,y:T}:null}var C=this.state,D=C.angleAxisMap,R=C.radiusAxisMap;if(D&&R){var W=Po(D);return aR({x,y:T},W)}return null}},{key:"parseEventsOfWrapper",value:function(){var v=this.props.children,A=this.getTooltipEventType(),E=Xn(v,_n),S={};E&&A==="axis"&&(E.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var x=vg(this.props,this.handleOuterEvent);return K(K({},x),S)}},{key:"addListener",value:function(){L_.on(j_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){L_.removeListener(j_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(v,A,E){for(var S=this.state.formattedGraphicalItems,x=0,T=S.length;x<T;x++){var P=S[x];if(P.item===v||P.props.key===v.key||A===Li(P.item.type)&&E===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var v=this.clipPathId,A=this.state.offset,E=A.left,S=A.top,x=A.height,T=A.width;return j.createElement("defs",null,j.createElement("clipPath",{id:v},j.createElement("rect",{x:E,y:S,height:x,width:T})))}},{key:"getXScales",value:function(){var v=this.state.xAxisMap;return v?Object.entries(v).reduce(function(A,E){var S=VN(E,2),x=S[0],T=S[1];return K(K({},A),{},me({},x,T.scale))},{}):null}},{key:"getYScales",value:function(){var v=this.state.yAxisMap;return v?Object.entries(v).reduce(function(A,E){var S=VN(E,2),x=S[0],T=S[1];return K(K({},A),{},me({},x,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(v){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[v])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(v){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[v])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(v){var A=this.state,E=A.formattedGraphicalItems,S=A.activeItem;if(E&&E.length)for(var x=0,T=E.length;x<T;x++){var P=E[x],k=P.props,C=P.item,D=C.type.defaultProps!==void 0?K(K({},C.type.defaultProps),C.props):C.props,R=Li(C.type);if(R==="Bar"){var W=(k.data||[]).find(function(L){return ive(v,L)});if(W)return{graphicalItem:P,payload:W}}else if(R==="RadialBar"){var q=(k.data||[]).find(function(L){return aR(v,L)});if(q)return{graphicalItem:P,payload:q}}else if(Yv(P,S)||Jv(P,S)||Qh(P,S)){var G=K0e({graphicalItem:P,activeTooltipItem:S,itemData:D.data}),H=D.activeIndex===void 0?G:D.activeIndex;return{graphicalItem:K(K({},P),{},{childIndex:H}),payload:Qh(P,S)?D.data[G]:P.props.data[G]}}}return null}},{key:"render",value:function(){var v=this;if(!KO(this))return null;var A=this.props,E=A.children,S=A.className,x=A.width,T=A.height,P=A.style,k=A.compact,C=A.title,D=A.desc,R=FN(A,nxe),W=pe(R,!1);if(k)return j.createElement(mN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},j.createElement(_w,Cl({},W,{width:x,height:T,title:C,desc:D}),this.renderClipPath(),HO(E,this.renderMap)));if(this.props.accessibilityLayer){var q,G;W.tabIndex=(q=this.props.tabIndex)!==null&&q!==void 0?q:0,W.role=(G=this.props.role)!==null&&G!==void 0?G:"application",W.onKeyDown=function(L){v.accessibilityManager.keyboardEvent(L)},W.onFocus=function(){v.accessibilityManager.focus()}}var H=this.parseEventsOfWrapper();return j.createElement(mN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},j.createElement("div",Cl({className:Ee("recharts-wrapper",S),style:K({position:"relative",cursor:"default",width:x,height:T},P)},H,{ref:function(B){v.container=B}}),j.createElement(_w,Cl({},W,{width:x,height:T,title:C,desc:D,style:vxe}),this.renderClipPath(),HO(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}($.Component);me(g,"displayName",n),me(g,"defaultProps",K({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),me(g,"getDerivedStateFromProps",function(y,_){var w=y.dataKey,v=y.data,A=y.children,E=y.width,S=y.height,x=y.layout,T=y.stackOffset,P=y.margin,k=_.dataStartIndex,C=_.dataEndIndex;if(_.updateId===void 0){var D=qN(y);return K(K(K({},D),{},{updateId:0},p(K(K({props:y},D),{},{updateId:0}),_)),{},{prevDataKey:w,prevData:v,prevWidth:E,prevHeight:S,prevLayout:x,prevStackOffset:T,prevMargin:P,prevChildren:A})}if(w!==_.prevDataKey||v!==_.prevData||E!==_.prevWidth||S!==_.prevHeight||x!==_.prevLayout||T!==_.prevStackOffset||!zl(P,_.prevMargin)){var R=qN(y),W={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},q=K(K({},zN(_,v,x)),{},{updateId:_.updateId+1}),G=K(K(K({},R),W),q);return K(K(K({},G),p(K({props:y},G),_)),{},{prevDataKey:w,prevData:v,prevWidth:E,prevHeight:S,prevLayout:x,prevStackOffset:T,prevMargin:P,prevChildren:A})}if(!yw(A,_.prevChildren)){var H,L,B,Q,ie=Xn(A,Cu),J=ie&&(H=(L=ie.props)===null||L===void 0?void 0:L.startIndex)!==null&&H!==void 0?H:k,te=ie&&(B=(Q=ie.props)===null||Q===void 0?void 0:Q.endIndex)!==null&&B!==void 0?B:C,Te=J!==k||te!==C,Ce=!be(v),ze=Ce&&!Te?_.updateId:_.updateId+1;return K(K({updateId:ze},p(K(K({props:y},_),{},{updateId:ze,dataStartIndex:J,dataEndIndex:te}),_)),{},{prevChildren:A,dataStartIndex:J,dataEndIndex:te})}return null}),me(g,"renderActiveDot",function(y,_,w){var v;return $.isValidElement(y)?v=$.cloneElement(y,_):ve(y)?v=y(_):v=j.createElement(Kv,_),j.createElement(Me,{className:"recharts-active-dot",key:w},v)});var m=$.forwardRef(function(_,w){return j.createElement(g,Cl({},_,{ref:w}))});return m.displayName=g.displayName,m},Pxe=yS({chartName:"LineChart",GraphicalChild:ju,axisComponents:[{axisType:"xAxis",AxisComp:oa},{axisType:"yAxis",AxisComp:aa}],formatAxisMap:y3}),z1=yS({chartName:"BarChart",GraphicalChild:ci,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:oa},{axisType:"yAxis",AxisComp:aa}],formatAxisMap:y3}),vS=yS({chartName:"PieChart",GraphicalChild:Fr,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Xv},{axisType:"radiusAxis",AxisComp:Hv}],formatAxisMap:vme,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function Oxe(){const t=[{month:"Jan",spending:450,orders:3},{month:"Feb",spending:620,orders:4},{month:"Mar",spending:780,orders:5},{month:"Apr",spending:540,orders:3},{month:"May",spending:890,orders:6},{month:"Jun",spending:720,orders:4}],e=[{crop:"Wheat",spending:1560},{crop:"Rice",spending:890},{crop:"Corn",spending:670},{crop:"Vegetables",spending:450}],n=["#0088FE","#00C49F","#FFBB28","#FF8042"];return M("div",{className:"space-y-6",children:[M("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[M("div",{className:"backdrop-blur-lg bg-white/10 border border-white/20 rounded-2xl p-6 shadow-xl hover:scale-105 transition-transform duration-300",children:[M("div",{className:"flex items-center justify-between",children:[M("div",{children:[O("p",{className:"text-white/60 text-sm",children:"Total Spent"}),O("p",{className:"text-white text-2xl font-bold",children:"$3,890"})]}),O(Al,{className:"text-emerald-300",size:24})]}),O("p",{className:"text-emerald-300 text-xs mt-2",children:"+12% from last month"})]}),M("div",{className:"backdrop-blur-lg bg-white/10 border border-white/20 rounded-2xl p-6 shadow-xl hover:scale-105 transition-transform duration-300",children:[M("div",{className:"flex items-center justify-between",children:[M("div",{children:[O("p",{className:"text-white/60 text-sm",children:"Total Orders"}),O("p",{className:"text-white text-2xl font-bold",children:"25"})]}),O(bh,{className:"text-blue-300",size:24})]}),O("p",{className:"text-emerald-300 text-xs mt-2",children:"+3 this month"})]}),M("div",{className:"backdrop-blur-lg bg-white/10 border border-white/20 rounded-2xl p-6 shadow-xl hover:scale-105 transition-transform duration-300",children:[M("div",{className:"flex items-center justify-between",children:[M("div",{children:[O("p",{className:"text-white/60 text-sm",children:"Products Used"}),O("p",{className:"text-white text-2xl font-bold",children:"18"})]}),O(_h,{className:"text-purple-300",size:24})]}),O("p",{className:"text-emerald-300 text-xs mt-2",children:"5 different types"})]}),M("div",{className:"backdrop-blur-lg bg-white/10 border border-white/20 rounded-2xl p-6 shadow-xl hover:scale-105 transition-transform duration-300",children:[M("div",{className:"flex items-center justify-between",children:[M("div",{children:[O("p",{className:"text-white/60 text-sm",children:"Avg. Order"}),O("p",{className:"text-white text-2xl font-bold",children:"$156"})]}),O(Xa,{className:"text-yellow-300",size:24})]}),O("p",{className:"text-emerald-300 text-xs mt-2",children:"+8% increase"})]})]}),M("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[M("div",{className:"backdrop-blur-lg bg-white/10 border border-white/20 rounded-2xl p-6 shadow-xl",children:[O("h3",{className:"text-white text-lg font-semibold mb-4",children:"Monthly Spending Trend"}),O(as,{width:"100%",height:300,children:M(Pxe,{data:t,children:[O(ef,{strokeDasharray:"3 3",stroke:"#ffffff20"}),O(oa,{dataKey:"month",stroke:"#ffffff80"}),O(aa,{stroke:"#ffffff80"}),O(_n,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"10px",color:"white"}}),O(ai,{}),O(ju,{type:"monotone",dataKey:"spending",stroke:"#10b981",strokeWidth:3,dot:{fill:"#10b981",strokeWidth:2,r:4}}),O(ju,{type:"monotone",dataKey:"orders",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",strokeWidth:2,r:4}})]})})]}),M("div",{className:"backdrop-blur-lg bg-white/10 border border-white/20 rounded-2xl p-6 shadow-xl",children:[O("h3",{className:"text-white text-lg font-semibold mb-4",children:"Spending by Crop Type"}),O(as,{width:"100%",height:300,children:M(vS,{children:[O(Fr,{data:e,cx:"50%",cy:"50%",labelLine:!1,label:({crop:r,percent:i})=>`${r} ${(i*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"spending",children:e.map((r,i)=>O(mc,{fill:n[i%n.length]},`cell-${i}`))}),O(_n,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"10px",color:"white"}})]})})]})]})]})}function kxe({onClose:t}){const[e,n]=$.useState([{id:1,text:"Hello! How can I help you with your fertilizer needs today?",sender:"shopkeeper",timestamp:new Date}]),[r,i]=$.useState(""),o=$.useRef(null),a=()=>{var l;(l=o.current)==null||l.scrollIntoView({behavior:"smooth"})};$.useEffect(()=>{a()},[e]);const s=()=>{if(r.trim()==="")return;const l={id:e.length+1,text:r,sender:"farmer",timestamp:new Date};n(u=>[...u,l]),i(""),setTimeout(()=>{const u=["Thanks for your message! We'll check the availability.","That's a great choice! We have that in stock.","We can deliver that to your farm tomorrow.","Would you like to know more about our organic options?"],c=u[Math.floor(Math.random()*u.length)],d={id:e.length+2,text:c,sender:"shopkeeper",timestamp:new Date};n(f=>[...f,d])},1e3)};return M("div",{className:"fixed bottom-4 right-4 w-96 h-[500px] backdrop-blur-lg bg-white/10 border border-white/20 rounded-2xl shadow-2xl flex flex-col z-50",children:[M("div",{className:"flex items-center justify-between p-4 border-b border-white/20",children:[M("div",{className:"flex items-center space-x-3",children:[O("div",{className:"w-10 h-10 bg-emerald-500/20 rounded-xl flex items-center justify-center",children:O(Zj,{size:20,className:"text-emerald-300"})}),M("div",{children:[O("h3",{className:"text-white font-semibold",children:"Farm Support"}),O("p",{className:"text-white/60 text-xs",children:"Online - Ready to help"})]})]}),O("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:O(gu,{size:18,className:"text-white"})})]}),M("div",{className:"flex-1 p-4 space-y-4 overflow-y-auto",children:[e.map(l=>O("div",{className:`flex ${l.sender==="farmer"?"justify-end":"justify-start"}`,children:M("div",{className:`max-w-[80%] rounded-2xl p-3 ${l.sender==="farmer"?"bg-emerald-500/80 text-white rounded-br-none":"bg-white/20 text-white rounded-bl-none"}`,children:[O("p",{className:"text-sm",children:l.text}),O("p",{className:"text-xs opacity-60 mt-1",children:l.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},l.id)),O("div",{ref:o})]}),O("div",{className:"p-4 border-t border-white/20",children:M("div",{className:"flex space-x-2",children:[O("input",{type:"text",value:r,onChange:l=>i(l.target.value),onKeyPress:l=>l.key==="Enter"&&s(),placeholder:"Type your message...",className:"flex-1 bg-white/10 border border-white/20 rounded-xl px-4 py-2 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/30"}),O("button",{onClick:s,className:"bg-emerald-500/80 hover:bg-emerald-500 text-white p-2 rounded-xl transition-colors",children:O(oQ,{size:18})})]})})]})}function Cxe(){var R,W,q,G,H;const[t,e]=$.useState({cropType:"",purpose:"",category:"",brandType:"",minPrice:"",maxPrice:"",sortBy:""}),[n,r]=$.useState(!1),[i,o]=$.useState(!1),[a,s]=$.useState(""),[l,u]=$.useState("browse"),[c,d]=$.useState(!1),{userData:f}=lr(),{fertilizers:p,loading:g}=cV(t),{cart:m,addToCart:y,getTotalPrice:_}=cT(),{weather:w,loading:v}=eX(),{notifications:A,unreadCount:E}=tX(),S={crops:[{value:"rice",label:"Rice",icon:Rp},{value:"wheat",label:"Wheat",icon:Rp},{value:"corn",label:"Corn",icon:rl},{value:"cotton",label:"Cotton",icon:Hc},{value:"vegetables",label:"Vegetables",icon:rl},{value:"fruits",label:"Fruits",icon:Hc}],purposes:[{value:"high-yield",label:"High Yield",icon:Xa},{value:"soil-health",label:"Soil Health",icon:Hc},{value:"pest-control",label:"Pest Control",icon:QH},{value:"growth-booster",label:"Growth Booster",icon:Xa},{value:"disease-resistance",label:"Disease Resistance",icon:PO}],categories:[{value:"fertilizers",label:"Fertilizers",icon:rl},{value:"pesticides",label:"Pesticides",icon:PO},{value:"herbicides",label:"Herbicides",icon:Hc},{value:"organic",label:"Organic",icon:Hc},{value:"bio-products",label:"Bio Products",icon:rl}],brandTypes:[{value:"branded",label:"Branded",icon:Cp},{value:"non-branded",label:"Non-Branded",icon:Cp}],sortOptions:[{value:"price-low-high",label:"Price: Low to High",icon:Al},{value:"price-high-low",label:"Price: High to Low",icon:Al},{value:"rating",label:"Highest Rating",icon:lT},{value:"popular",label:"Most Popular",icon:Xa}]},x=L=>(L||"").toString().toLowerCase().trim(),T=p.map(L=>{var Q,ie,J;let B=0;if(a){const te=x(a),Te=x(L.name).includes(te),Ce=x(L.shopName).includes(te),ze=(Q=L.nutrients)==null?void 0:Q.some(fe=>x(fe).includes(te)),vt=(ie=L.suitableCrops)==null?void 0:ie.some(fe=>x(fe).includes(te)),Wt=(J=L.suitableSoil)==null?void 0:J.some(fe=>x(fe).includes(te)),se=L.description?x(L.description).includes(te):!1;B=(Te?5:0)+(Ce?3:0)+(ze?2:0)+(vt?2:0)+(Wt?1:0)+(se?1:0),x(L.name)===te&&(B+=2),x(L.shopName)===te&&(B+=1)}return{...L,_relevance:B,_hasSearchMatch:B>0}}).filter(L=>{var ze;if(a&&!L._hasSearchMatch)return!1;const B=!t.cropType||((ze=L.suitableCrops)==null?void 0:ze.some(vt=>x(vt)===x(t.cropType))),Q=!t.purpose||!0,ie=!t.category||x(L.category)===x(t.category),J=!t.brandType||!0,te=L.price||0,Te=!t.minPrice||te>=parseFloat(t.minPrice),Ce=!t.maxPrice||te<=parseFloat(t.maxPrice);return B&&Q&&ie&&J&&Te&&Ce}).sort((L,B)=>{if(a){const Q=(B._relevance||0)-(L._relevance||0);if(Q!==0)return Q}switch(t.sortBy){case"price-low-high":return(L.price||0)-(B.price||0);case"price-high-low":return(B.price||0)-(L.price||0);case"rating":return(B.rating||0)-(L.rating||0);case"popular":return(B.popularity||0)-(L.popularity||0);default:return a?(B._relevance||0)-(L._relevance||0):0}}),P=()=>{e({cropType:"",purpose:"",category:"",brandType:"",minPrice:"",maxPrice:"",sortBy:""}),s("")},k=Object.values(t).some(L=>L!=="")||a!=="",D=(()=>{if(!a||a.length<2)return[];const L=new Set,B=x(a);return p.forEach(Q=>{var ie,J;x(Q.name).includes(B)&&L.add(Q.name),x(Q.shopName).includes(B)&&L.add(Q.shopName),(ie=Q.nutrients)==null||ie.forEach(te=>{x(te).includes(B)&&L.add(te)}),(J=Q.suitableCrops)==null||J.forEach(te=>{x(te).includes(B)&&L.add(te)})}),Array.from(L).slice(0,5)})();return(f==null?void 0:f.role)!=="farmer"?O("div",{className:"min-h-screen bg-gradient-to-br from-green-300 via-green-400 to-green-500 flex items-center justify-center",children:M("div",{className:"backdrop-blur-lg bg-white/10 border border-white/20 rounded-2xl p-8 text-center",children:[O("h2",{className:"text-2xl font-bold text-white mb-4",children:"Access Denied"}),O("p",{className:"text-white/80",children:"Farmer role required to access this dashboard."})]})}):M("div",{className:"min-h-screen bg-gradient-to-br from-green-400 via-green-600 to-green-500 pb-12",children:[O("div",{className:"backdrop-blur-lg bg-white/10 border-b border-white/20 shadow-xl",children:M("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[M("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center space-y-4 lg:space-y-0",children:[M("div",{children:[M("h1",{className:"text-4xl font-bold text-white mb-2",children:["Welcome back, ",f==null?void 0:f.name,"!"]}),O("p",{className:"text-white/80 text-lg",children:"Smart farming solutions at your fingertips"})]}),M("div",{className:"flex items-center space-x-4",children:[M("button",{className:"relative p-3 rounded-xl bg-white/10 hover:bg-white/20 backdrop-blur-sm border border-white/20 hover:scale-105 transition-all duration-300 group",children:[O(HH,{size:20,className:"text-white"}),E>0&&O("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 text-xs flex items-center justify-center animate-pulse",children:E})]}),O("button",{onClick:()=>o(!i),className:"p-3 rounded-xl bg-white/10 hover:bg-white/20 backdrop-blur-sm border border-white/20 hover:scale-105 transition-all duration-300 group",children:O(Zj,{size:20,className:"text-white"})}),M("button",{onClick:()=>r(!0),className:"relative p-3 rounded-xl bg-white/10 hover:bg-white/20 backdrop-blur-sm border border-white/20 hover:scale-105 transition-all duration-300 group",children:[O(bh,{size:20,className:"text-white"}),m.length>0&&O("span",{className:"absolute -top-1 -right-1 bg-emerald-500 text-white rounded-full w-5 h-5 text-xs flex items-center justify-center animate-bounce",children:m.length})]})]})]}),O("div",{className:"mt-8 flex space-x-1 bg-white/10 backdrop-blur-sm rounded-2xl p-1 border border-white/20",children:[{id:"browse",label:"Browse Products",icon:c_},{id:"recommendations",label:"AI Recommendations",icon:mg},{id:"insights",label:"My Insights",icon:Xa}].map(L=>{const B=L.icon;return M("button",{onClick:()=>u(L.id),className:`flex items-center space-x-2 px-6 py-3 rounded-xl text-sm font-medium transition-all duration-300 ${l===L.id?"bg-white/20 text-white shadow-lg":"text-white/70 hover:text-white hover:bg-white/10"}`,children:[O(B,{size:18}),O("span",{children:L.label})]},L.id)})})]})}),M("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[O("div",{className:"mb-8",children:O(oX,{weather:w,loading:v})}),l==="browse"&&M("div",{className:"mb-8 space-y-4",children:[M("div",{className:"flex flex-col lg:flex-row gap-4",children:[M("div",{className:"flex-1 relative",children:[O(c_,{className:"absolute left-3 top-3 text-white/70",size:20}),O("input",{type:"text",placeholder:"Search products, nutrients, brands, shops, crops...",value:a,onChange:L=>s(L.target.value),className:"w-full pl-10 pr-4 py-3 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/30 focus:border-transparent transition-all duration-300"}),D.length>0&&O("div",{className:"absolute top-full left-0 right-0 mt-1 backdrop-blur-lg bg-white/10 border border-white/20 rounded-xl shadow-xl z-10",children:D.map((L,B)=>O("button",{onClick:()=>s(L),className:"w-full text-left px-4 py-2 text-white hover:bg-white/10 transition-colors first:rounded-t-xl last:rounded-b-xl",children:L},B))})]}),M("div",{className:"flex gap-3",children:[M("button",{onClick:()=>d(!c),className:`flex items-center space-x-2 px-4 py-3 rounded-xl backdrop-blur-sm border transition-all duration-300 hover:scale-105 ${c||k?"bg-emerald-500/80 border-emerald-300/30 text-white":"bg-white/10 border-white/20 text-white/80 hover:text-white"}`,children:[O(SO,{size:18}),O("span",{children:"Filters"}),k&&O("span",{className:"bg-white/20 rounded-full w-5 h-5 text-xs flex items-center justify-center",children:""})]}),k&&M("button",{onClick:P,className:"flex items-center space-x-2 px-4 py-3 bg-white/10 hover:bg-white/20 backdrop-blur-sm border border-white/20 rounded-xl text-white/80 hover:text-white transition-all duration-300 hover:scale-105",children:[O(gu,{size:18}),O("span",{children:"Clear"})]})]})]}),a&&O("div",{className:"backdrop-blur-lg bg-white/10 border border-white/20 rounded-xl p-4",children:M("p",{className:"text-white/80 text-sm",children:["Found ",O("span",{className:"text-emerald-300 font-semibold",children:T.length}),' products matching "',O("span",{className:"text-emerald-300",children:a}),'"',T.length>0&&"  Showing most relevant first"]})}),c&&M("div",{className:"backdrop-blur-lg bg-white/10 border border-white/20 rounded-2xl p-6 shadow-xl",children:[M("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[M("div",{children:[M("label",{className:"flex items-center space-x-2 text-white/80 text-sm font-medium mb-3",children:[O(Rp,{size:16}),O("span",{children:"Crop Type"})]}),M("select",{value:t.cropType,onChange:L=>e(B=>({...B,cropType:L.target.value})),className:"w-full px-3 py-2 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-white/30 transition-all duration-300",children:[O("option",{value:"",className:"bg-gray-800",children:"All Crops"}),S.crops.map(L=>O("option",{value:L.value,className:"bg-gray-800",children:L.label},L.value))]})]}),M("div",{children:[M("label",{className:"flex items-center space-x-2 text-white/80 text-sm font-medium mb-3",children:[O(OO,{size:16}),O("span",{children:"Purpose"})]}),M("select",{value:t.purpose,onChange:L=>e(B=>({...B,purpose:L.target.value})),className:"w-full px-3 py-2 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-white/30 transition-all duration-300",children:[O("option",{value:"",className:"bg-gray-800",children:"All Purposes"}),S.purposes.map(L=>O("option",{value:L.value,className:"bg-gray-800",children:L.label},L.value))]})]}),M("div",{children:[M("label",{className:"flex items-center space-x-2 text-white/80 text-sm font-medium mb-3",children:[O(rl,{size:16}),O("span",{children:"Category"})]}),M("select",{value:t.category,onChange:L=>e(B=>({...B,category:L.target.value})),className:"w-full px-3 py-2 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-white/30 transition-all duration-300",children:[O("option",{value:"",className:"bg-gray-800",children:"All Categories"}),S.categories.map(L=>O("option",{value:L.value,className:"bg-gray-800",children:L.label},L.value))]})]}),M("div",{children:[M("label",{className:"flex items-center space-x-2 text-white/80 text-sm font-medium mb-3",children:[O(Cp,{size:16}),O("span",{children:"Brand Type"})]}),M("select",{value:t.brandType,onChange:L=>e(B=>({...B,brandType:L.target.value})),className:"w-full px-3 py-2 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-white/30 transition-all duration-300",children:[O("option",{value:"",className:"bg-gray-800",children:"All Brands"}),S.brandTypes.map(L=>O("option",{value:L.value,className:"bg-gray-800",children:L.label},L.value))]})]})]}),M("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[M("div",{className:"md:col-span-2",children:[M("label",{className:"flex items-center space-x-2 text-white/80 text-sm font-medium mb-3",children:[O(Al,{size:16}),O("span",{children:"Price Range ($)"})]}),M("div",{className:"flex space-x-4",children:[O("input",{type:"number",placeholder:"Min",value:t.minPrice,onChange:L=>e(B=>({...B,minPrice:L.target.value})),className:"flex-1 px-3 py-2 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/30 transition-all duration-300"}),O("input",{type:"number",placeholder:"Max",value:t.maxPrice,onChange:L=>e(B=>({...B,maxPrice:L.target.value})),className:"flex-1 px-3 py-2 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/30 transition-all duration-300"})]})]}),M("div",{children:[M("label",{className:"flex items-center space-x-2 text-white/80 text-sm font-medium mb-3",children:[O(TO,{size:16}),O("span",{children:"Sort By"})]}),M("select",{value:t.sortBy,onChange:L=>e(B=>({...B,sortBy:L.target.value})),className:"w-full px-3 py-2 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-white/30 transition-all duration-300",children:[O("option",{value:"",className:"bg-gray-800",children:"Relevance (Default)"}),S.sortOptions.map(L=>O("option",{value:L.value,className:"bg-gray-800",children:L.label},L.value))]})]})]}),k&&M("div",{className:"mt-6 pt-4 border-t border-white/20",children:[O("p",{className:"text-white/70 text-sm mb-3",children:"Active Filters:"}),M("div",{className:"flex flex-wrap gap-2",children:[a&&M("span",{className:"bg-emerald-500/50 text-white px-3 py-1 rounded-full text-xs flex items-center space-x-1",children:[O(c_,{size:12}),M("span",{children:['Search: "',a,'"']})]}),t.cropType&&M("span",{className:"bg-white/20 text-white px-3 py-1 rounded-full text-xs flex items-center space-x-1",children:[O(Rp,{size:12}),M("span",{children:["Crop: ",(R=S.crops.find(L=>L.value===t.cropType))==null?void 0:R.label]})]}),t.purpose&&M("span",{className:"bg-white/20 text-white px-3 py-1 rounded-full text-xs flex items-center space-x-1",children:[O(OO,{size:12}),M("span",{children:["Purpose: ",(W=S.purposes.find(L=>L.value===t.purpose))==null?void 0:W.label]})]}),t.category&&M("span",{className:"bg-white/20 text-white px-3 py-1 rounded-full text-xs flex items-center space-x-1",children:[O(rl,{size:12}),M("span",{children:["Category: ",(q=S.categories.find(L=>L.value===t.category))==null?void 0:q.label]})]}),t.brandType&&M("span",{className:"bg-white/20 text-white px-3 py-1 rounded-full text-xs flex items-center space-x-1",children:[O(Cp,{size:12}),M("span",{children:["Brand: ",(G=S.brandTypes.find(L=>L.value===t.brandType))==null?void 0:G.label]})]}),(t.minPrice||t.maxPrice)&&M("span",{className:"bg-white/20 text-white px-3 py-1 rounded-full text-xs flex items-center space-x-1",children:[O(Al,{size:12}),M("span",{children:["Price: ",t.minPrice||"0"," - ",t.maxPrice||""]})]}),t.sortBy&&M("span",{className:"bg-white/20 text-white px-3 py-1 rounded-full text-xs flex items-center space-x-1",children:[O(TO,{size:12}),M("span",{children:["Sort: ",(H=S.sortOptions.find(L=>L.value===t.sortBy))==null?void 0:H.label]})]})]})]})]})]}),M("div",{className:"min-h-[600px]",children:[l==="browse"&&M("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[g?O("div",{className:"col-span-full flex justify-center items-center h-64",children:O("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})}):T.map(L=>O(dV,{fertilizer:L,onAddToCart:y},L.id)),!g&&T.length===0&&M("div",{className:"col-span-full text-center py-12 backdrop-blur-lg bg-white/10 rounded-2xl border border-white/20",children:[O(SO,{size:48,className:"text-white/40 mx-auto mb-4"}),O("p",{className:"text-white/80 text-lg mb-2",children:a?`No products found for "${a}"`:"No products found matching your criteria."}),O("p",{className:"text-white/60 text-sm",children:"Try adjusting your search terms or filters."}),a&&O("button",{onClick:P,className:"mt-4 bg-emerald-500/80 hover:bg-emerald-500 text-white px-6 py-2 rounded-xl transition-all duration-300 hover:scale-105",children:"Clear Search & Filters"})]})]}),l==="recommendations"&&O(iX,{}),l==="insights"&&O(Oxe,{})]})]}),n&&O(rX,{onClose:()=>r(!1)}),i&&O(kxe,{onClose:()=>o(!1)})]})}function Rxe({onClose:t}){const{currentUser:e,userData:n}=lr(),[r,i]=$.useState(!1),[o,a]=$.useState({name:"",description:"",price:"",quantity:"",nutrients:[],suitableCrops:[],suitableSoil:[]}),[s,l]=$.useState(null),u=async d=>{d.preventDefault(),i(!0);try{const f=await JE(ia(Tn,"shops",e.uid)),p=f.exists()?f.data():{};let g="";if(s){const m=Xj(),y=MH(m,`fertilizers/${e.uid}/${Date.now()}_${s.name}`),_=await NH(y,s);g=await DH(_.ref)}await Cj(ra(Tn,"fertilizers"),{...o,price:parseFloat(o.price),quantity:parseInt(o.quantity),nutrients:o.nutrients.split(",").map(m=>m.trim()),suitableCrops:o.suitableCrops.split(",").map(m=>m.trim()),suitableSoil:o.suitableSoil.split(",").map(m=>m.trim()),imageUrl:g,shopId:e.uid,shopName:p.name||n.name,shopAddress:p.address||"",shopPhone:p.phone||"",shopMapLink:p.mapLink||"",createdAt:new Date}),Yt.success("Fertilizer added successfully!"),t()}catch(f){Yt.error("Error adding fertilizer: "+f.message)}finally{i(!1)}},c=d=>{a(f=>({...f,[d.target.name]:d.target.value}))};return O("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:M("div",{className:"bg-white dark:bg-gray-800 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[O("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:M("div",{className:"flex justify-between items-center",children:[O("h2",{className:"text-xl font-semibold",children:"Add New Fertilizer"}),O("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:O(gu,{size:20})})]})}),M("form",{onSubmit:u,className:"p-6 space-y-4",children:[M("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[M("div",{children:[O("label",{className:"block text-sm font-medium mb-2",children:"Name"}),O("input",{type:"text",name:"name",required:!0,value:o.name,onChange:c,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700"})]}),M("div",{children:[O("label",{className:"block text-sm font-medium mb-2",children:"Price ($)"}),O("input",{type:"number",name:"price",step:"0.01",required:!0,value:o.price,onChange:c,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700"})]}),M("div",{children:[O("label",{className:"block text-sm font-medium mb-2",children:"Quantity"}),O("input",{type:"number",name:"quantity",required:!0,value:o.quantity,onChange:c,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700"})]}),M("div",{children:[O("label",{className:"block text-sm font-medium mb-2",children:"Image"}),O("input",{type:"file",accept:"image/*",onChange:d=>l(d.target.files[0]),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700"})]})]}),M("div",{children:[O("label",{className:"block text-sm font-medium mb-2",children:"Description"}),O("textarea",{name:"description",rows:"3",value:o.description,onChange:c,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700"})]}),M("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[M("div",{children:[O("label",{className:"block text-sm font-medium mb-2",children:"Nutrients (comma separated)"}),O("input",{type:"text",name:"nutrients",placeholder:"N, P, K, Mg",value:o.nutrients,onChange:c,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700"})]}),M("div",{children:[O("label",{className:"block text-sm font-medium mb-2",children:"Suitable Crops"}),O("input",{type:"text",name:"suitableCrops",placeholder:"wheat, rice, corn",value:o.suitableCrops,onChange:c,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700"})]}),M("div",{children:[O("label",{className:"block text-sm font-medium mb-2",children:"Suitable Soil"}),O("input",{type:"text",name:"suitableSoil",placeholder:"clay, sandy, loamy",value:o.suitableSoil,onChange:c,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700"})]})]}),M("div",{className:"flex justify-end space-x-4 pt-4",children:[O("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg",children:"Cancel"}),O("button",{type:"submit",disabled:r,className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50",children:r?"Adding...":"Add Fertilizer"})]})]})]})})}function Nxe(){const{currentUser:t}=lr(),[e,n]=$.useState([]),[r,i]=$.useState(null),[o,a]=$.useState({});$.useEffect(()=>{if(!t)return;const c=ki(ra(Tn,"fertilizers"),Ci("shopId","==",t.uid));return mu(c,f=>{const p=f.docs.map(g=>({id:g.id,...g.data()}));n(p)})},[t]);const s=async c=>{try{await dG(ia(Tn,"fertilizers",c),{...o,price:parseFloat(o.price),quantity:parseInt(o.quantity)}),i(null),Yt.success("Fertilizer updated successfully!")}catch(d){Yt.error("Error updating fertilizer: "+d.message)}},l=async c=>{if(confirm("Are you sure you want to delete this fertilizer?"))try{await hG(ia(Tn,"fertilizers",c)),Yt.success("Fertilizer deleted successfully!")}catch(d){Yt.error("Error deleting fertilizer: "+d.message)}},u=c=>{i(c.id),a({name:c.name,price:c.price,quantity:c.quantity,description:c.description})};return M("div",{children:[M("div",{className:"mb-6",children:[O("h2",{className:"text-2xl font-bold mb-2",children:"Inventory Management"}),O("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your fertilizer inventory and stock levels"})]}),e.length===0?M("div",{className:"text-center py-12",children:[O(_h,{size:48,className:"mx-auto text-gray-400 mb-4"}),O("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"No fertilizers in your inventory yet."})]}):O("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:M("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[O("thead",{className:"bg-gray-50 dark:bg-gray-700",children:M("tr",{children:[O("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Product"}),O("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Price"}),O("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Quantity"}),O("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),O("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),O("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:e.map(c=>{var d;return M("tr",{children:[O("td",{className:"px-6 py-4 whitespace-nowrap",children:M("div",{className:"flex items-center",children:[O("img",{src:c.imageUrl,alt:c.name,className:"h-10 w-10 rounded object-cover mr-3"}),M("div",{children:[O("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:r===c.id?O("input",{type:"text",value:o.name,onChange:f=>a(p=>({...p,name:f.target.value})),className:"border rounded px-2 py-1 text-sm"}):c.name}),O("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:(d=c.nutrients)==null?void 0:d.join(", ")})]})]})}),O("td",{className:"px-6 py-4 whitespace-nowrap",children:r===c.id?O("input",{type:"number",step:"0.01",value:o.price,onChange:f=>a(p=>({...p,price:f.target.value})),className:"border rounded px-2 py-1 text-sm w-20"}):M("div",{className:"text-sm text-gray-900 dark:text-white",children:["$",c.price]})}),O("td",{className:"px-6 py-4 whitespace-nowrap",children:r===c.id?O("input",{type:"number",value:o.quantity,onChange:f=>a(p=>({...p,quantity:f.target.value})),className:"border rounded px-2 py-1 text-sm w-20"}):O("div",{className:"text-sm text-gray-900 dark:text-white",children:c.quantity})}),O("td",{className:"px-6 py-4 whitespace-nowrap",children:O("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c.quantity===0?"bg-red-100 text-red-800 dark:bg-red-800 dark:text-red-100":c.quantity<10?"bg-yellow-100 text-yellow-800 dark:bg-yellow-800 dark:text-yellow-100":"bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100"}`,children:c.quantity===0?"Out of Stock":c.quantity<10?"Low Stock":"In Stock"})}),O("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r===c.id?M("div",{className:"flex space-x-2",children:[O("button",{onClick:()=>s(c.id),className:"text-green-600 hover:text-green-900",children:"Save"}),O("button",{onClick:()=>i(null),className:"text-gray-600 hover:text-gray-900",children:"Cancel"})]}):M("div",{className:"flex space-x-2",children:[O("button",{onClick:()=>u(c),className:"text-blue-600 hover:text-blue-900",children:O(eV,{size:16})}),O("button",{onClick:()=>l(c.id),className:"text-red-600 hover:text-red-900",children:O(lQ,{size:16})})]})})]},c.id)})})]})})]})}function Dxe(){const{currentUser:t}=lr(),[e,n]=$.useState([]),[r,i]=$.useState([]);$.useEffect(()=>{if(!t)return;const m=ki(ra(Tn,"orders"),Ci("shopId","==",t.uid)),y=mu(m,v=>{const A=v.docs.map(E=>({id:E.id,...E.data()}));n(A)}),_=ki(ra(Tn,"fertilizers"),Ci("shopId","==",t.uid)),w=mu(_,v=>{const A=v.docs.map(E=>({id:E.id,...E.data()}));i(A)});return()=>{y(),w()}},[t]);const o=e.reduce((m,y)=>m+(y.total||0),0),a=e.filter(m=>m.status==="completed").length,s=e.filter(m=>m.status==="pending").length,l=r.filter(m=>m.quantity<10).length,u=r.filter(m=>m.quantity===0).length,c=e.reduce((m,y)=>{if(y.status==="completed"&&y.createdAt){const _=y.createdAt.toDate().toLocaleString("default",{month:"short"});m[_]=(m[_]||0)+(y.total||0)}return m},{}),d=Object.entries(c).map(([m,y])=>({month:m,sales:parseFloat(y.toFixed(2))})),f=e.reduce((m,y)=>(y.status==="completed"&&y.items&&y.items.forEach(_=>{m[_.name]=(m[_.name]||0)+_.quantity}),m),{}),p=Object.entries(f).map(([m,y])=>({name:m,value:y})),g=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"];return M("div",{children:[M("div",{className:"mb-6",children:[O("h2",{className:"text-2xl font-bold mb-2",children:"Sales Analytics"}),O("p",{className:"text-gray-600 dark:text-gray-400",children:"Track your business performance and sales metrics"})]}),M("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[M("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[O("h3",{className:"text-lg font-semibold text-gray-600 dark:text-gray-400",children:"Total Sales"}),M("p",{className:"text-3xl font-bold text-green-600",children:["$",o.toFixed(2)]})]}),M("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[O("h3",{className:"text-lg font-semibold text-gray-600 dark:text-gray-400",children:"Completed Orders"}),O("p",{className:"text-3xl font-bold text-blue-600",children:a})]}),M("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[O("h3",{className:"text-lg font-semibold text-gray-600 dark:text-gray-400",children:"Pending Orders"}),O("p",{className:"text-3xl font-bold text-yellow-600",children:s})]}),M("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[O("h3",{className:"text-lg font-semibold text-gray-600 dark:text-gray-400",children:"Low Stock Items"}),O("p",{className:"text-3xl font-bold text-red-600",children:l+u})]})]}),M("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[M("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[O("h3",{className:"text-lg font-semibold mb-4",children:"Monthly Sales"}),O(as,{width:"100%",height:300,children:M(z1,{data:d,children:[O(ef,{strokeDasharray:"3 3"}),O(oa,{dataKey:"month"}),O(aa,{}),O(_n,{}),O(ai,{}),O(ci,{dataKey:"sales",fill:"#22c55e",name:"Sales ($)"})]})})]}),M("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[O("h3",{className:"text-lg font-semibold mb-4",children:"Top Selling Products"}),O(as,{width:"100%",height:300,children:M(vS,{children:[O(Fr,{data:p,cx:"50%",cy:"50%",labelLine:!1,label:({name:m,percent:y})=>`${m} ${(y*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:p.map((m,y)=>O(mc,{fill:g[y%g.length]},`cell-${y}`))}),O(_n,{})]})})]})]}),(l>0||u>0)&&M("div",{className:"mt-8 bg-yellow-50 dark:bg-yellow-900 border border-yellow-200 dark:border-yellow-800 rounded-lg p-6",children:[O("h3",{className:"text-lg font-semibold text-yellow-800 dark:text-yellow-200 mb-2",children:"Stock Alerts"}),M("div",{className:"space-y-2",children:[u>0&&M("p",{className:"text-red-600 dark:text-red-400",children:[" ",u," product(s) are out of stock"]}),l>0&&M("p",{className:"text-yellow-600 dark:text-yellow-400",children:[" ",l," product(s) are running low on stock"]})]})]})]})}function Mxe(){const{currentUser:t,userData:e}=lr(),[n,r]=$.useState([]),[i,o]=$.useState([]),[a,s]=$.useState("month"),[l,u]=$.useState(!0);$.useEffect(()=>{if(!t)return;const v=ki(ra(Tn,"orders"),Ci("shopId","==",t.uid),sG("createdAt","desc")),A=ki(ra(Tn,"fertilizers"),Ci("shopId","==",t.uid)),E=mu(v,x=>{const T=x.docs.map(P=>{var k;return{id:P.id,...P.data(),createdAt:(k=P.data().createdAt)==null?void 0:k.toDate()}});r(T)}),S=mu(A,x=>{const T=x.docs.map(P=>({id:P.id,...P.data()}));o(T),u(!1)});return()=>{E(),S()}},[t]);const c=()=>{const v=n.filter(k=>k.status==="completed"),A=n.filter(k=>k.status==="pending"||k.status==="confirmed"),E=v.reduce((k,C)=>k+(C.total||0),0),S=n.length,x=S>0?E/S:0,T=i.filter(k=>k.quantity>0&&k.quantity<10).length,P=i.filter(k=>k.quantity===0).length;return{totalRevenue:E,totalOrders:S,completedOrders:v.length,pendingOrders:A.length,averageOrderValue:x,lowStockItems:T,outOfStockItems:P,totalProducts:i.length}},d=()=>{const v=n.filter(A=>A.status==="completed");if(a==="week"){const A=[];for(let E=6;E>=0;E--){const S=new Date;S.setDate(S.getDate()-E);const x=S.toLocaleDateString("en-US",{weekday:"short"}),T=v.filter(P=>{const k=P.createdAt;return k&&k.toDateString()===S.toDateString()}).reduce((P,k)=>P+(k.total||0),0);A.push({name:x,sales:T,orders:v.filter(P=>{const k=P.createdAt;return k&&k.toDateString()===S.toDateString()}).length})}return A}else if(a==="year"){const A=[];for(let E=11;E>=0;E--){const S=new Date;S.setMonth(S.getMonth()-E);const x=S.toLocaleDateString("en-US",{month:"short"}),T=v.filter(P=>{const k=P.createdAt;return k&&k.getMonth()===S.getMonth()&&k.getFullYear()===S.getFullYear()}).reduce((P,k)=>P+(k.total||0),0);A.push({name:x,sales:T,orders:v.filter(P=>{const k=P.createdAt;return k&&k.getMonth()===S.getMonth()&&k.getFullYear()===S.getFullYear()}).length})}return A}else{const A=[];for(let E=29;E>=0;E--){const S=new Date;S.setDate(S.getDate()-E);const x=S.getDate().toString(),T=v.filter(P=>{const k=P.createdAt;return k&&k.toDateString()===S.toDateString()}).reduce((P,k)=>P+(k.total||0),0);A.push({name:x,sales:T,orders:v.filter(P=>{const k=P.createdAt;return k&&k.toDateString()===S.toDateString()}).length})}return A}},f=()=>{const v=n.filter(E=>E.status==="completed"),A={};return v.forEach(E=>{var S;(S=E.items)==null||S.forEach(x=>{A[x.name]||(A[x.name]={name:x.name,sales:0,quantity:0,revenue:0}),A[x.name].quantity+=x.quantity,A[x.name].revenue+=x.price*x.quantity,A[x.name].sales+=1})}),Object.values(A).sort((E,S)=>S.revenue-E.revenue).slice(0,5)},p=()=>{const v=n.reduce((A,E)=>(A[E.status]=(A[E.status]||0)+1,A),{});return Object.entries(v).map(([A,E])=>({name:A.charAt(0).toUpperCase()+A.slice(1),value:E,count:E}))},g=c(),m=d(),y=f(),_=p(),w={pending:"#fbbf24",confirmed:"#3b82f6",shipped:"#8b5cf6",completed:"#10b981",cancelled:"#ef4444"};return l?O("div",{className:"flex justify-center items-center h-64",children:O("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500"})}):M("div",{className:"space-y-6",children:[M("div",{className:"flex justify-between items-center",children:[M("div",{children:[O("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Analytics Dashboard"}),O("p",{className:"text-gray-600 dark:text-gray-400",children:"Track your business performance and insights"})]}),M("select",{value:a,onChange:v=>s(v.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[O("option",{value:"week",children:"Last 7 Days"}),O("option",{value:"month",children:"Last 30 Days"}),O("option",{value:"year",children:"Last 12 Months"})]})]}),M("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[M("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border-l-4 border-green-500",children:[M("div",{className:"flex items-center justify-between",children:[M("div",{children:[O("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Revenue"}),M("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",g.totalRevenue.toFixed(2)]})]}),O(Al,{className:"h-8 w-8 text-green-500"})]}),M("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:["From ",g.completedOrders," completed orders"]})]}),M("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border-l-4 border-blue-500",children:[M("div",{className:"flex items-center justify-between",children:[M("div",{children:[O("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Orders"}),O("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:g.totalOrders})]}),O(bh,{className:"h-8 w-8 text-blue-500"})]}),M("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:[g.pendingOrders," pending orders"]})]}),M("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border-l-4 border-purple-500",children:[M("div",{className:"flex items-center justify-between",children:[M("div",{children:[O("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Average Order"}),M("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",g.averageOrderValue.toFixed(2)]})]}),O(Xa,{className:"h-8 w-8 text-purple-500"})]}),O("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Per completed order"})]}),M("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border-l-4 border-orange-500",children:[M("div",{className:"flex items-center justify-between",children:[M("div",{children:[O("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Products"}),O("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:g.totalProducts})]}),O(_h,{className:"h-8 w-8 text-orange-500"})]}),M("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:[g.lowStockItems," low, ",g.outOfStockItems," out of stock"]})]})]}),M("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[M("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[O("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Sales Trend"}),O(as,{width:"100%",height:300,children:M(z1,{data:m,children:[O(ef,{strokeDasharray:"3 3",stroke:"#374151"}),O(oa,{dataKey:"name",stroke:"#6B7280",fontSize:12}),O(aa,{stroke:"#6B7280",fontSize:12}),O(_n,{contentStyle:{backgroundColor:"#1F2937",border:"none",borderRadius:"8px",color:"#F9FAFB"}}),O(ai,{}),O(ci,{dataKey:"sales",name:"Revenue ($)",fill:"#10B981",radius:[4,4,0,0]}),O(ci,{dataKey:"orders",name:"Orders",fill:"#3B82F6",radius:[4,4,0,0]})]})})]}),M("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[O("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Order Status Distribution"}),O(as,{width:"100%",height:300,children:M(vS,{children:[O(Fr,{data:_,cx:"50%",cy:"50%",labelLine:!1,label:({name:v,percent:A})=>`${v} (${(A*100).toFixed(0)}%)`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:_.map((v,A)=>O(mc,{fill:w[v.name.toLowerCase()]||"#6B7280"},`cell-${A}`))}),O(_n,{contentStyle:{backgroundColor:"#1F2937",border:"none",borderRadius:"8px",color:"#F9FAFB"},formatter:(v,A)=>[v,A]})]})})]})]}),M("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[M("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[O("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Top Performing Products"}),O(as,{width:"100%",height:300,children:M(z1,{data:y,layout:"vertical",margin:{left:100},children:[O(ef,{strokeDasharray:"3 3",stroke:"#374151"}),O(oa,{type:"number",stroke:"#6B7280",fontSize:12}),O(aa,{dataKey:"name",type:"category",stroke:"#6B7280",fontSize:12,width:80}),O(_n,{contentStyle:{backgroundColor:"#1F2937",border:"none",borderRadius:"8px",color:"#F9FAFB"},formatter:(v,A)=>A==="revenue"?[`$${v}`,"Revenue"]:A==="quantity"?[v,"Quantity Sold"]:[v,A]}),O(ai,{}),O(ci,{dataKey:"revenue",name:"Revenue ($)",fill:"#8B5CF6",radius:[0,4,4,0]})]})})]}),M("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[O("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Inventory Health"}),M("div",{className:"space-y-4",children:[M("div",{className:"grid grid-cols-3 gap-4 text-center",children:[M("div",{className:"p-4 bg-green-50 dark:bg-green-900 rounded-lg",children:[O("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:g.totalProducts-g.lowStockItems-g.outOfStockItems}),O("div",{className:"text-sm text-green-600 dark:text-green-400",children:"In Stock"})]}),M("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900 rounded-lg",children:[O("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:g.lowStockItems}),O("div",{className:"text-sm text-yellow-600 dark:text-yellow-400",children:"Low Stock"})]}),M("div",{className:"p-4 bg-red-50 dark:bg-red-900 rounded-lg",children:[O("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:g.outOfStockItems}),O("div",{className:"text-sm text-red-600 dark:text-red-400",children:"Out of Stock"})]})]}),(g.lowStockItems>0||g.outOfStockItems>0)&&M("div",{className:"mt-6",children:[M("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3 flex items-center",children:[O(KH,{className:"h-5 w-5 text-yellow-500 mr-2"}),"Stock Alerts"]}),O("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:i.filter(v=>v.quantity<10).sort((v,A)=>v.quantity-A.quantity).map(v=>O("div",{className:`p-3 rounded-lg border ${v.quantity===0?"bg-red-50 dark:bg-red-900 border-red-200 dark:border-red-700":"bg-yellow-50 dark:bg-yellow-900 border-yellow-200 dark:border-yellow-700"}`,children:M("div",{className:"flex justify-between items-center",children:[O("span",{className:"font-medium text-sm",children:v.name}),O("span",{className:`text-sm font-semibold ${v.quantity===0?"text-red-600 dark:text-red-400":"text-yellow-600 dark:text-yellow-400"}`,children:v.quantity===0?"Out of Stock":`${v.quantity} left`})]})},v.id))})]}),g.lowStockItems===0&&g.outOfStockItems===0&&M("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[O(_h,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),O("p",{children:"All products are well stocked"})]})]})]})]}),M("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[O("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Recent Activity"}),M("div",{className:"space-y-3",children:[n.slice(0,5).map(v=>{var A,E,S;return M("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[M("div",{className:"flex items-center space-x-3",children:[O("div",{className:`w-3 h-3 rounded-full ${v.status==="completed"?"bg-green-500":v.status==="pending"?"bg-yellow-500":v.status==="cancelled"?"bg-red-500":"bg-blue-500"}`}),M("div",{children:[M("p",{className:"font-medium text-sm",children:["Order from ",v.farmerName]}),M("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(A=v.createdAt)==null?void 0:A.toLocaleDateString(),"  ",(E=v.items)==null?void 0:E.length," items"]})]})]}),M("div",{className:"text-right",children:[M("p",{className:"font-semibold text-sm",children:["$",(S=v.total)==null?void 0:S.toFixed(2)]}),O("p",{className:`text-xs capitalize ${v.status==="completed"?"text-green-600 dark:text-green-400":v.status==="pending"?"text-yellow-600 dark:text-yellow-400":v.status==="cancelled"?"text-red-600 dark:text-red-400":"text-blue-600 dark:text-blue-400"}`,children:v.status})]})]},v.id)}),n.length===0&&M("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[O(bh,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),O("p",{children:"No orders yet"})]})]})]})]})}const $xe="modulepreload",Lxe=function(t){return"/"+t},KN={},jxe=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=Lxe(o),o in KN)return;KN[o]=!0;const a=o.endsWith(".css"),s=a?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const d=i[c];if(d.href===o&&(!a||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${s}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":$xe,a||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),a)return new Promise((c,d)=>{u.addEventListener("load",c),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o})};function Vxe(){const{currentUser:t,userData:e}=lr(),[n,r]=$.useState({name:"",address:"",phone:"",mapLink:""}),[i,o]=$.useState(!0),[a,s]=$.useState(!1),[l,u]=$.useState(!1);$.useEffect(()=>{(async()=>{if(t)try{const p=await JE(ia(Tn,"shops",t.uid));p.exists()?r(p.data()):r({name:(e==null?void 0:e.name)||"",address:(e==null?void 0:e.location)||"",phone:(e==null?void 0:e.phone)||"",mapLink:""})}catch(p){console.error("Error fetching shop profile:",p),Yt.error("Failed to load shop profile")}finally{o(!1)}})()},[t,e]);const c=async()=>{if(t){s(!0);try{await kj(ia(Tn,"shops",t.uid),{...n,updatedAt:new Date,ownerId:t.uid,ownerName:e==null?void 0:e.name}),await(async()=>{const{collection:p,query:g,where:m,getDocs:y,updateDoc:_}=await jxe(()=>import("./index.esm-e60781cf.js"),[]),w=g(p(Tn,"fertilizers"),m("shopId","==",t.uid)),A=(await y(w)).docs.map(E=>_(E.ref,{shopName:n.name,shopAddress:n.address,shopPhone:n.phone,shopMapLink:n.mapLink}));await Promise.all(A)})(),u(!1),Yt.success("Shop profile saved successfully!")}catch(f){console.error("Error saving shop profile:",f),Yt.error("Failed to save shop profile")}finally{s(!1)}}},d=(f,p)=>{r(g=>({...g,[f]:p}))};return i?O("div",{className:"flex justify-center items-center h-64",children:O("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500"})}):M("div",{className:"max-w-4xl mx-auto space-y-6",children:[O("div",{className:"backdrop-blur-lg bg-white/10 border border-white/20 rounded-2xl p-6 shadow-xl",children:M("div",{className:"flex items-center justify-between",children:[M("div",{children:[O("h2",{className:"text-2xl font-bold text-white",children:"Shop Profile"}),O("p",{className:"text-white/70",children:"Manage your shop information and contact details"})]}),M("button",{onClick:()=>l?c():u(!0),disabled:a,className:"flex items-center space-x-2 bg-emerald-500/80 hover:bg-emerald-500 text-white px-4 py-3 rounded-xl transition-all duration-300 hover:scale-105 disabled:opacity-50 disabled:hover:scale-100",children:[a?O("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):l?O(iQ,{size:18}):O(eV,{size:18}),O("span",{children:l?a?"Saving...":"Save Changes":"Edit Profile"})]})]})}),M("div",{className:"backdrop-blur-lg bg-white/10 border border-white/20 rounded-2xl p-6 shadow-xl",children:[M("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[M("div",{className:"space-y-2",children:[O("label",{className:"flex items-center space-x-2 text-white/80 text-sm font-medium",children:O("span",{children:"Shop Name *"})}),l?O("input",{type:"text",value:n.name,onChange:f=>d("name",f.target.value),className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 transition-all duration-300",placeholder:"Enter your shop name"}):O("div",{className:"px-4 py-3 bg-white/5 rounded-xl border border-white/10 text-white",children:n.name||"Not set"})]}),M("div",{className:"space-y-2",children:[M("label",{className:"flex items-center space-x-2 text-white/80 text-sm font-medium",children:[O(tV,{size:16}),O("span",{children:"Phone Number *"})]}),l?O("input",{type:"tel",value:n.phone,onChange:f=>d("phone",f.target.value),className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 transition-all duration-300",placeholder:"Enter phone number"}):O("div",{className:"px-4 py-3 bg-white/5 rounded-xl border border-white/10 text-white",children:n.phone||"Not set"})]}),M("div",{className:"lg:col-span-2 space-y-2",children:[M("label",{className:"flex items-center space-x-2 text-white/80 text-sm font-medium",children:[O(Jj,{size:16}),O("span",{children:"Shop Address *"})]}),l?O("textarea",{value:n.address,onChange:f=>d("address",f.target.value),rows:3,className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 transition-all duration-300 resize-none",placeholder:"Enter your shop address"}):O("div",{className:"px-4 py-3 bg-white/5 rounded-xl border border-white/10 text-white min-h-[80px]",children:n.address||"Not set"})]}),M("div",{className:"lg:col-span-2 space-y-2",children:[M("label",{className:"flex items-center space-x-2 text-white/80 text-sm font-medium",children:[O(eQ,{size:16}),O("span",{children:"Google Maps Link"})]}),l?O("input",{type:"url",value:n.mapLink,onChange:f=>d("mapLink",f.target.value),className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 transition-all duration-300",placeholder:"https://maps.google.com/..."}):n.mapLink?O("a",{href:n.mapLink,target:"_blank",rel:"noopener noreferrer",className:"block px-4 py-3 bg-white/5 rounded-xl border border-white/10 text-emerald-300 hover:text-emerald-200 transition-colors break-all",children:n.mapLink}):O("div",{className:"px-4 py-3 bg-white/5 rounded-xl border border-white/10 text-white/60",children:"No map link provided"}),O("p",{className:"text-white/50 text-xs",children:"Add a Google Maps link to help customers find your shop easily"})]})]}),l&&M("div",{className:"flex justify-end space-x-4 mt-6 pt-6 border-t border-white/20",children:[O("button",{onClick:()=>u(!1),className:"px-6 py-3 bg-white/10 hover:bg-white/20 text-white rounded-xl transition-all duration-300 hover:scale-105",children:"Cancel"}),O("button",{onClick:c,disabled:a||!n.name||!n.address||!n.phone,className:"px-6 py-3 bg-emerald-500/80 hover:bg-emerald-500 text-white rounded-xl transition-all duration-300 hover:scale-105 disabled:opacity-50 disabled:hover:scale-100",children:a?"Saving...":"Save Profile"})]})]}),M("div",{className:"backdrop-blur-lg bg-white/10 border border-white/20 rounded-2xl p-6 shadow-xl",children:[O("h3",{className:"text-lg font-semibold text-white mb-4",children:"Profile Information"}),M("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-white/80",children:[M("div",{children:[O("p",{className:"text-sm mb-2",children:"Your shop profile information will be automatically included with all fertilizers you add to the marketplace."}),O("p",{className:"text-sm",children:"Farmers will see your shop details when browsing products and can contact you directly or visit your location."})]}),M("div",{className:"space-y-2 text-sm",children:[M("div",{className:"flex items-center space-x-2",children:[O("div",{className:"w-2 h-2 bg-emerald-400 rounded-full"}),O("span",{children:"Update your profile before adding products"})]}),M("div",{className:"flex items-center space-x-2",children:[O("div",{className:"w-2 h-2 bg-emerald-400 rounded-full"}),O("span",{children:"Changes apply to existing and new products"})]}),M("div",{className:"flex items-center space-x-2",children:[O("div",{className:"w-2 h-2 bg-emerald-400 rounded-full"}),O("span",{children:"Map link helps customers find your location"})]})]})]})]})]})}function Fxe(){const[t,e]=$.useState("inventory"),[n,r]=$.useState(!1),{userData:i}=lr();return(i==null?void 0:i.role)!=="shopkeeper"?O("div",{className:"min-h-screen bg-gradient-to-br from-green-400 via-green-600 to-green-500 flex items-center justify-center",children:M("div",{className:"backdrop-blur-lg bg-white/10 border border-white/20 rounded-2xl p-8 text-center",children:[O("h2",{className:"text-2xl font-bold text-white mb-4",children:"Access Denied"}),O("p",{className:"text-white/80",children:"Shopkeeper role required to access this dashboard."})]})}):M("div",{className:"min-h-screen bg-gradient-to-br from-green-400 via-green-600 to-green-500 pb-12",children:[O("div",{className:"backdrop-blur-lg bg-white/10 border-b border-white/20 shadow-xl",children:M("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[M("div",{className:"flex justify-between items-center",children:[M("div",{children:[O("h1",{className:"text-3xl font-bold text-white",children:"Shopkeeper Dashboard"}),O("p",{className:"text-white/80 mt-1",children:"Manage your products, orders, and shop profile"})]}),t==="inventory"&&M("button",{onClick:()=>r(!0),className:"flex items-center space-x-2 bg-emerald-500/80 hover:bg-emerald-500 text-white px-6 py-3 rounded-xl backdrop-blur-sm border border-emerald-300/30 transition-all duration-300 hover:scale-105",children:[O(nV,{size:20}),O("span",{children:"Add Product"})]})]}),O("div",{className:"mt-8",children:O("nav",{className:"flex space-x-1 bg-white/10 backdrop-blur-sm rounded-2xl p-1 border border-white/20",children:[{id:"inventory",label:"Inventory",icon:_h},{id:"orders",label:"Orders",icon:pg},{id:"analytics",label:"Analytics",icon:GH},{id:"profile",label:"Shop Profile",icon:aQ}].map(a=>{const s=a.icon;return M("button",{onClick:()=>e(a.id),className:`flex items-center space-x-2 px-6 py-3 rounded-xl text-sm font-medium transition-all duration-300 flex-1 text-center justify-center ${t===a.id?"bg-white/20 text-white shadow-lg":"text-white/70 hover:text-white hover:bg-white/10"}`,children:[O(s,{size:18}),O("span",{children:a.label})]},a.id)})})})]})}),M("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[t==="inventory"&&O(Nxe,{}),t==="orders"&&O(Dxe,{}),t==="analytics"&&O(Mxe,{}),t==="profile"&&O(Vxe,{})]}),n&&O(Rxe,{onClose:()=>r(!1)})]})}function GN({children:t,requiredRole:e}){const{currentUser:n,userData:r}=lr();return n?e&&(r==null?void 0:r.role)!==e?O(Sd,{to:(r==null?void 0:r.role)==="farmer"?"/farmer":"/shopkeeper"}):t:O(Sd,{to:"/auth"})}function Bxe(){const{currentUser:t,userData:e}=lr();return M(U6,{children:[O(ll,{path:"/auth",element:O(ZQ,{})}),O(ll,{path:"/farmer",element:O(GN,{requiredRole:"farmer",children:O(Cxe,{})})}),O(ll,{path:"/shopkeeper",element:O(GN,{requiredRole:"shopkeeper",children:O(Fxe,{})})}),O(ll,{path:"/",element:t?O(Sd,{to:(e==null?void 0:e.role)==="shopkeeper"?"/shopkeeper":"/farmer",replace:!0}):O(Sd,{to:"/auth",replace:!0})}),O(ll,{path:"*",element:O(Sd,{to:"/",replace:!0})})]})}function Uxe(){return O(UH,{children:O(FH,{children:O(Q6,{children:M("div",{className:"min-h-screen flex flex-col bg-gray-50 dark:bg-gray-900",children:[O(uQ,{}),O("main",{className:"flex-1",children:O(Bxe,{})}),O(cQ,{}),O(JQ,{position:"top-right"})]})})})})}F_.createRoot(document.getElementById("root")).render(O(j.StrictMode,{children:O(Uxe,{})}));export{ra as $,Oj as A,Ss as B,oi as C,kt as D,YEe as E,js as F,UE as G,XEe as H,Hxe as I,br as J,YK as K,ZK as L,Cj as M,xEe as N,EEe as O,SG as P,cn as Q,fEe as R,eEe as S,mt as T,BEe as U,tv as V,xG as W,FEe as X,wEe as Y,iEe as Z,_$ as _,gh as a,Jxe as a0,JK as a1,uG as a2,QEe as a3,hG as a4,VEe as a5,sEe as a6,HEe as a7,ia as a8,dEe as a9,cEe as aA,mu as aB,kEe as aC,hEe as aD,sG as aE,MEe as aF,$Ee as aG,bG as aH,ki as aI,mj as aJ,Zxe as aK,jEe as aL,TG as aM,kj as aN,WEe as aO,qxe as aP,TEe as aQ,yEe as aR,gEe as aS,bEe as aT,lEe as aU,dG as aV,zEe as aW,oEe as aX,Ci as aY,qEe as aZ,nEe as aa,rEe as ab,aEe as ac,GEe as ad,_Ee as ae,vEe as af,yt as ag,Of as ah,fG as ai,CEe as aj,JE as ak,SEe as al,AEe as am,IEe as an,PEe as ao,OEe as ap,eG as aq,KEe as ar,UEe as as,tEe as at,pEe as au,mEe as av,uEe as aw,REe as ax,DEe as ay,NEe as az,tG as b,fu as c,Vs as d,He as e,Y as f,oc as g,If as h,vm as i,lv as j,Pf as k,av as l,YE as m,pu as n,sv as o,Qa as p,EG as q,Et as r,ys as s,ae as t,Kxe as u,qq as v,ut as w,JEe as x,Ae as y,Wxe as z};
